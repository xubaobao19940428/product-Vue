(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-114b413c"],{"0cf2":function(e,t,a){"use strict";a.d(t,"k",(function(){return r})),a.d(t,"l",(function(){return o})),a.d(t,"m",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"j",(function(){return l})),a.d(t,"i",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"q",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"h",(function(){return d})),a.d(t,"r",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"p",(function(){return g})),a.d(t,"d",(function(){return C})),a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return w}));var n=a("284b");function r(e){console.log(e);var t=n["a"].create("ListBanksByCountryReq",e);return Object(n["a"])("polypay","WithdrawalBossService.ListBanksByCountry",t,"polypay.ListBanksByCountryResp")}function o(e){console.log(e);var t=n["a"].create("ListUserWithdrawalByPageReq",e);return Object(n["a"])("polypay","WithdrawalBossService.ListUserWithdrawalByPage",t,"polypay.ListUserWithdrawalByPageResp")}function i(e){console.log(e);var t=n["a"].create("ListUserWithdrawalExportReq",e);return Object(n["a"])("polypay","WithdrawalBossService.ListUserWithdrawalExport",t,"polypay.ListUserWithdrawalExportResp")}function s(e){console.log(e);var t=n["a"].create("ConfirmUserWithdrawalApplyReq",e);return Object(n["a"])("polypay","WithdrawalBossService.ConfirmUserWithdrawalApply",t,"polypay.BooleanResp")}function l(e){console.log(e);var t=n["a"].create("ListAccountDetailByPageReq",e);return Object(n["a"])("polypay","UserAccountBossService.ListAccountDetailByPage",t,"polypay.ListAccountDetailByPageResp")}function c(e){console.log(e);var t=n["a"].create("GetUserBankListReq",e);return Object(n["a"])("polypay","WithdrawalBossService.GetUserBankList",t,"polypay.GetUserBankListResp")}function u(e){console.log(e);var t=n["a"].create("AddUserBankReq",e);return Object(n["a"])("polypay","WithdrawalBossService.AddUserBank",t,"polypay.AddUserBankResp")}function p(e){var t=n["a"].create("SearchPayInfoReq",e);return Object(n["a"])("polypay","PayInfoService.SearchPayInfo",t,"polypay.SearchPayInfoResp")}function m(e){var t=n["a"].create("AuditFlowCheckListReq",e);return Object(n["a"])("polypay","PayInfoService.AuditFlowCheckList",t,"polypay.AuditFlowCheckListResp")}function d(e){var t=n["a"].create("AuditFlowCheckListReq",e);return Object(n["a"])("polypay","PayInfoService.DownloadAuditFlowCheckList",t,"polypay.DownloadAuditFlowCheckListResp")}function y(e){var t=n["a"].create("SynPayInfoReq",e);return Object(n["a"])("polypay","PayInfoService.SynPayInfo",t,"polypay.SynPayInfoResp")}function f(e){var t=n["a"].create("ManualPaySuccessReq",e);return Object(n["a"])("polypay","PayInfoService.ManualPaySuccess",t,"polypay.ManualPaySuccessResp")}function h(e){var t=n["a"].create("ManualPayFailReq",e);return Object(n["a"])("polypay","PayInfoService.ManualPayFail",t,"polypay.ManualPayFailResp")}function g(e){var t=n["a"].create("PayRelatedInfoReq",e);return Object(n["a"])("polypay","PayInfoService.PayRelatedInfo",t,"polypay.PayRelatedInfoResp")}function C(e){var t=n["a"].create("AccountDetailRollBackReq",e);return Object(n["a"])("polypay","UserAccountBossService.AccountDetailRollBack",t,"polypay.AccountDetailRollBackResp")}function b(e){var t=n["a"].create("GetChargeListReq",e);return Object(n["a"])("polypay","ChargeService.GetChargeRecordList",t,"polypay.GetChargeListResp")}function v(e){var t=n["a"].create("ReChargeForOrderReq",e);return Object(n["a"])("polypay","ChargeService.ReChargeForOrder",t,"polypay.BooleanResp")}function w(e){var t=n["a"].create("RefundForChargeReq",e);return Object(n["a"])("polypay","ChargeService.RefundForCharge",t,"polypay.BooleanResp")}},"2d28":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-form",{attrs:{"label-width":"100px",inline:""}},[a("el-form-item",{attrs:{label:"订单/提现号："}},[a("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入订单号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.userCommission.param.sourceId,callback:function(t){e.$set(e.userCommission.param,"sourceId",t)},expression:"userCommission.param.sourceId"}})],1),a("el-form-item",{attrs:{label:"用户ID："}},[a("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.userCommission.param.userId,callback:function(t){e.$set(e.userCommission.param,"userId",t)},expression:"userCommission.param.userId"}})],1),a("el-form-item",{attrs:{label:"时间段："}},[a("el-date-picker",{attrs:{"value-format":"timestamp",clearable:"",size:"medium",type:"daterange","unlink-panels":"",align:"right","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.userCommission.timeList,callback:function(t){e.$set(e.userCommission,"timeList",t)},expression:"userCommission.timeList"}})],1),a("el-form-item",{attrs:{label:"收益类型："}},[a("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.userCommission.param.sourceType,callback:function(t){e.$set(e.userCommission.param,"sourceType",t)},expression:"userCommission.param.sourceType"}},e._l(e.userCommission.sourceType,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.userCommission.param.detailType,callback:function(t){e.$set(e.userCommission.param,"detailType",t)},expression:"userCommission.param.detailType"}},e._l(e.userCommission.detailType,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),a("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")])],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.userCommission.dataList,"header-cell-style":{background:"#F5F7FA",color:"#606266"},height:"100%"}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center",fixed:"left"}}),a("el-table-column",{attrs:{prop:"userId",align:"center",label:"用户ID",fixed:"left"}}),a("el-table-column",{attrs:{prop:"sourceId","min-width":"200px",align:"center",label:"订单/提现号"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sourceId?a("div",{staticClass:"link",on:{click:function(a){return e.triggerToOderList(t.row.sourceId)}}},[e._v(e._s(t.row.sourceId))]):a("div",[e._v("-")])]}}])}),a("el-table-column",{attrs:{prop:"accountDetailNo","min-width":"240px",align:"center",label:"流水号"}}),a("el-table-column",{attrs:{prop:"amount",align:"center",label:"金额"}}),a("el-table-column",{attrs:{label:"类型",align:"center","min-width":"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"plain",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.sourceType)+"\n                  ")])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.isDelete?a("el-tag",{attrs:{type:"Info",size:"mini","close-transition":""}},[e._v("\n                      失效\n                  ")]):a("el-tag",{attrs:{size:"mini","close-transition":""}},[e._v("\n                      有效\n                  ")])]}}])}),a("el-table-column",{attrs:{label:"流水类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["收入"===t.row.detailType?a("el-tag",{attrs:{type:"success",size:"mini","close-transition":""}},[e._v("\n                      收入\n                  ")]):a("el-tag",{attrs:{type:"warning",size:"mini","close-transition":""}},[e._v("\n                      支出\n                  ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.memo||"-")+"\n              ")]}}])}),a("el-table-column",{attrs:{prop:"createTime","min-width":"160px",align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("secondTimeFormat")(t.row.createTime)))])]}}])}),e.hasPermission("MENU_USER_INCOME_RECORD_ROLL_BACK")?a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleRollBack(t.row)}}},[e._v("回滚")])]}}],null,!1,1161048095)}):e._e()],1),a("div",{staticClass:"page-wrapper"},[a("el-pagination",{attrs:{"current-page":e.userCommission.param.pageNum,"page-sizes":[10,20,50,100],"page-size":e.userCommission.param.pageSize,layout:"total, sizes, prev, pager, next",total:e.userCommission.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],o=(a("6b54"),a("0cf2")),i={data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"el-icon-arrow-down",loading:!1,userCommission:{totals:0,detailType:{income:"收入",expense:"支出"},sourceType:{1:"商品返利",2:"介绍费",4:"Affiliate购买返利",5:"团队销售奖励",6:"培训津贴",7:"介绍费+培训津贴",8:"团队培训津贴",9:"系统奖励",10:"销售培训津贴",20:"活动积分",99:"提现失败",100:"提现",101:"订单支付",102:"订单退款",103:"拼团订单退款",104:"订单退款佣金扣除",110:"订单售后单退款"},dataList:[],timeList:[],param:{page:{pageNum:1,pageSize:20},sourceId:"",userId:"",sourceType:"",detailType:""}}}},computed:{nowEnd:function(){return this.$store.state.globalNum.nowEnd},lastWeek:function(){return this.$store.state.globalNum.lastWeek}},created:function(){this.userCommission.timeList=[this.lastWeek,this.nowEnd],this.getUserIncomeList()},methods:{dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="el-icon-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="el-icon-arrow-up"),this.drop=!this.drop},handleRollBack:function(e){var t=this,a=e.accountDetailNo;Object(o["d"])({accountDetailNo:a}).then((function(e){1===e.ret.errcode&&(t.$message.success("回滚成功"),t.getUserIncomeList())}))},resetSearch:function(){this.userCommission.timeList=[this.lastWeek,this.nowEnd],this.userCommission.param={page:{pageNum:1,pageSize:20},sourceId:"",userId:"",sourceType:"",detailType:""},this.getUserIncomeList()},search:function(){this.getUserIncomeList()},getUserIncomeList:function(){var e=this;this.loading=!0,this.userCommission.timeList=this.userCommission.timeList?this.userCommission.timeList:[];var t=this.filterData(Object.assign(this.userCommission.param,{startTime:this.userCommission.timeList[0]?this.userCommission.timeList[0].toString():null,endTime:this.userCommission.timeList[1]?this.userCommission.timeList[1].toString():null}));Object(o["j"])(t).then((function(t){e.loading=!1,console.log(t);var a=t;1===a.ret.errcode?(e.userCommission.dataList=a.data,e.userCommission.totals=a.total):e.$message.error("ErrorCode:"+a.ret)})).catch((function(t){console.log(t),e.loading=!1}))},handleCurrentChange:function(e){this.userCommission.param.page.pageNum=e||this.userCommission.param.page.pageNum,this.getUserIncomeList()},handleSizeChange:function(e){this.userCommission.param.page.pageSize=e,this.getUserIncomeList()}}},s=i,l=(a("c33a"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"1f164ca2",null);t["default"]=c.exports},4216:function(e,t,a){},c33a:function(e,t,a){"use strict";var n=a("4216"),r=a.n(n);r.a}}]);