(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55470d5d","chunk-ce54709a","chunk-114b413c","chunk-ee411414"],{"00fb":function(e,t,o){"use strict";var a=o("19aa"),i=o.n(a);i.a},"0635":function(e,t,o){},"0a79":function(e,t,o){},"0cf2":function(e,t,o){"use strict";o.d(t,"k",(function(){return i})),o.d(t,"l",(function(){return r})),o.d(t,"m",(function(){return n})),o.d(t,"g",(function(){return s})),o.d(t,"j",(function(){return l})),o.d(t,"i",(function(){return c})),o.d(t,"e",(function(){return u})),o.d(t,"q",(function(){return d})),o.d(t,"f",(function(){return p})),o.d(t,"h",(function(){return m})),o.d(t,"r",(function(){return h})),o.d(t,"o",(function(){return f})),o.d(t,"n",(function(){return g})),o.d(t,"p",(function(){return v})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return y})),o.d(t,"b",(function(){return C})),o.d(t,"c",(function(){return w}));var a=o("284b");function i(e){console.log(e);var t=a["a"].create("ListBanksByCountryReq",e);return Object(a["a"])("polypay","WithdrawalBossService.ListBanksByCountry",t,"polypay.ListBanksByCountryResp")}function r(e){console.log(e);var t=a["a"].create("ListUserWithdrawalByPageReq",e);return Object(a["a"])("polypay","WithdrawalBossService.ListUserWithdrawalByPage",t,"polypay.ListUserWithdrawalByPageResp")}function n(e){console.log(e);var t=a["a"].create("ListUserWithdrawalExportReq",e);return Object(a["a"])("polypay","WithdrawalBossService.ListUserWithdrawalExport",t,"polypay.ListUserWithdrawalExportResp")}function s(e){console.log(e);var t=a["a"].create("ConfirmUserWithdrawalApplyReq",e);return Object(a["a"])("polypay","WithdrawalBossService.ConfirmUserWithdrawalApply",t,"polypay.BooleanResp")}function l(e){console.log(e);var t=a["a"].create("ListAccountDetailByPageReq",e);return Object(a["a"])("polypay","UserAccountBossService.ListAccountDetailByPage",t,"polypay.ListAccountDetailByPageResp")}function c(e){console.log(e);var t=a["a"].create("GetUserBankListReq",e);return Object(a["a"])("polypay","WithdrawalBossService.GetUserBankList",t,"polypay.GetUserBankListResp")}function u(e){console.log(e);var t=a["a"].create("AddUserBankReq",e);return Object(a["a"])("polypay","WithdrawalBossService.AddUserBank",t,"polypay.AddUserBankResp")}function d(e){var t=a["a"].create("SearchPayInfoReq",e);return Object(a["a"])("polypay","PayInfoService.SearchPayInfo",t,"polypay.SearchPayInfoResp")}function p(e){var t=a["a"].create("AuditFlowCheckListReq",e);return Object(a["a"])("polypay","PayInfoService.AuditFlowCheckList",t,"polypay.AuditFlowCheckListResp")}function m(e){var t=a["a"].create("AuditFlowCheckListReq",e);return Object(a["a"])("polypay","PayInfoService.DownloadAuditFlowCheckList",t,"polypay.DownloadAuditFlowCheckListResp")}function h(e){var t=a["a"].create("SynPayInfoReq",e);return Object(a["a"])("polypay","PayInfoService.SynPayInfo",t,"polypay.SynPayInfoResp")}function f(e){var t=a["a"].create("ManualPaySuccessReq",e);return Object(a["a"])("polypay","PayInfoService.ManualPaySuccess",t,"polypay.ManualPaySuccessResp")}function g(e){var t=a["a"].create("ManualPayFailReq",e);return Object(a["a"])("polypay","PayInfoService.ManualPayFail",t,"polypay.ManualPayFailResp")}function v(e){var t=a["a"].create("PayRelatedInfoReq",e);return Object(a["a"])("polypay","PayInfoService.PayRelatedInfo",t,"polypay.PayRelatedInfoResp")}function b(e){var t=a["a"].create("AccountDetailRollBackReq",e);return Object(a["a"])("polypay","UserAccountBossService.AccountDetailRollBack",t,"polypay.AccountDetailRollBackResp")}function y(e){var t=a["a"].create("GetChargeListReq",e);return Object(a["a"])("polypay","ChargeService.GetChargeRecordList",t,"polypay.GetChargeListResp")}function C(e){var t=a["a"].create("ReChargeForOrderReq",e);return Object(a["a"])("polypay","ChargeService.ReChargeForOrder",t,"polypay.BooleanResp")}function w(e){var t=a["a"].create("RefundForChargeReq",e);return Object(a["a"])("polypay","ChargeService.RefundForCharge",t,"polypay.BooleanResp")}},"137e":function(e,t,o){"use strict";var a=o("0635"),i=o.n(a);i.a},"19aa":function(e,t,o){},"19f7":function(e,t,o){"use strict";var a=o("1c5a"),i=o.n(a);i.a},"1c5a":function(e,t,o){},"1e57":function(e,t,o){},"2d28":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("el-form",{attrs:{"label-width":"100px",inline:""}},[o("el-form-item",{attrs:{label:"订单/提现号："}},[o("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入订单号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.userCommission.param.sourceId,callback:function(t){e.$set(e.userCommission.param,"sourceId",t)},expression:"userCommission.param.sourceId"}})],1),o("el-form-item",{attrs:{label:"用户ID："}},[o("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.userCommission.param.userId,callback:function(t){e.$set(e.userCommission.param,"userId",t)},expression:"userCommission.param.userId"}})],1),o("el-form-item",{attrs:{label:"时间段："}},[o("el-date-picker",{attrs:{"value-format":"timestamp",clearable:"",size:"medium",type:"daterange","unlink-panels":"",align:"right","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.userCommission.timeList,callback:function(t){e.$set(e.userCommission,"timeList",t)},expression:"userCommission.timeList"}})],1),o("el-form-item",{attrs:{label:"收益类型："}},[o("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.userCommission.param.sourceType,callback:function(t){e.$set(e.userCommission.param,"sourceType",t)},expression:"userCommission.param.sourceType"}},e._l(e.userCommission.sourceType,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"类型："}},[o("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.userCommission.param.detailType,callback:function(t){e.$set(e.userCommission.param,"detailType",t)},expression:"userCommission.param.detailType"}},e._l(e.userCommission.detailType,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[o("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),o("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")])],1)],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.userCommission.dataList,"header-cell-style":{background:"#F5F7FA",color:"#606266"},height:"100%"}},[o("el-table-column",{attrs:{type:"index",width:"50",align:"center",fixed:"left"}}),o("el-table-column",{attrs:{prop:"userId",align:"center",label:"用户ID",fixed:"left"}}),o("el-table-column",{attrs:{prop:"sourceId","min-width":"200px",align:"center",label:"订单/提现号"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sourceId?o("div",{staticClass:"link",on:{click:function(o){return e.triggerToOderList(t.row.sourceId)}}},[e._v(e._s(t.row.sourceId))]):o("div",[e._v("-")])]}}])}),o("el-table-column",{attrs:{prop:"accountDetailNo","min-width":"240px",align:"center",label:"流水号"}}),o("el-table-column",{attrs:{prop:"amount",align:"center",label:"金额"}}),o("el-table-column",{attrs:{label:"类型",align:"center","min-width":"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:"plain",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.sourceType)+"\n                  ")])]}}])}),o("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.isDelete?o("el-tag",{attrs:{type:"Info",size:"mini","close-transition":""}},[e._v("\n                      失效\n                  ")]):o("el-tag",{attrs:{size:"mini","close-transition":""}},[e._v("\n                      有效\n                  ")])]}}])}),o("el-table-column",{attrs:{label:"流水类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["收入"===t.row.detailType?o("el-tag",{attrs:{type:"success",size:"mini","close-transition":""}},[e._v("\n                      收入\n                  ")]):o("el-tag",{attrs:{type:"warning",size:"mini","close-transition":""}},[e._v("\n                      支出\n                  ")])]}}])}),o("el-table-column",{attrs:{align:"center",label:"备注","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.memo||"-")+"\n              ")]}}])}),o("el-table-column",{attrs:{prop:"createTime","min-width":"160px",align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(e._f("secondTimeFormat")(t.row.createTime)))])]}}])}),e.hasPermission("MENU_USER_INCOME_RECORD_ROLL_BACK")?o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.handleRollBack(t.row)}}},[e._v("回滚")])]}}],null,!1,1161048095)}):e._e()],1),o("div",{staticClass:"page-wrapper"},[o("el-pagination",{attrs:{"current-page":e.userCommission.param.pageNum,"page-sizes":[10,20,50,100],"page-size":e.userCommission.param.pageSize,layout:"total, sizes, prev, pager, next",total:e.userCommission.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},i=[],r=(o("6b54"),o("0cf2")),n={data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"el-icon-arrow-down",loading:!1,userCommission:{totals:0,detailType:{income:"收入",expense:"支出"},sourceType:{1:"商品返利",2:"介绍费",4:"Affiliate购买返利",5:"团队销售奖励",6:"培训津贴",7:"介绍费+培训津贴",8:"团队培训津贴",9:"系统奖励",10:"销售培训津贴",20:"活动积分",99:"提现失败",100:"提现",101:"订单支付",102:"订单退款",103:"拼团订单退款",104:"订单退款佣金扣除",110:"订单售后单退款"},dataList:[],timeList:[],param:{page:{pageNum:1,pageSize:20},sourceId:"",userId:"",sourceType:"",detailType:""}}}},computed:{nowEnd:function(){return this.$store.state.globalNum.nowEnd},lastWeek:function(){return this.$store.state.globalNum.lastWeek}},created:function(){this.userCommission.timeList=[this.lastWeek,this.nowEnd],this.getUserIncomeList()},methods:{dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="el-icon-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="el-icon-arrow-up"),this.drop=!this.drop},handleRollBack:function(e){var t=this,o=e.accountDetailNo;Object(r["d"])({accountDetailNo:o}).then((function(e){1===e.ret.errcode&&(t.$message.success("回滚成功"),t.getUserIncomeList())}))},resetSearch:function(){this.userCommission.timeList=[this.lastWeek,this.nowEnd],this.userCommission.param={page:{pageNum:1,pageSize:20},sourceId:"",userId:"",sourceType:"",detailType:""},this.getUserIncomeList()},search:function(){this.getUserIncomeList()},getUserIncomeList:function(){var e=this;this.loading=!0,this.userCommission.timeList=this.userCommission.timeList?this.userCommission.timeList:[];var t=this.filterData(Object.assign(this.userCommission.param,{startTime:this.userCommission.timeList[0]?this.userCommission.timeList[0].toString():null,endTime:this.userCommission.timeList[1]?this.userCommission.timeList[1].toString():null}));Object(r["j"])(t).then((function(t){e.loading=!1,console.log(t);var o=t;1===o.ret.errcode?(e.userCommission.dataList=o.data,e.userCommission.totals=o.total):e.$message.error("ErrorCode:"+o.ret)})).catch((function(t){console.log(t),e.loading=!1}))},handleCurrentChange:function(e){this.userCommission.param.page.pageNum=e||this.userCommission.param.page.pageNum,this.getUserIncomeList()},handleSizeChange:function(e){this.userCommission.param.page.pageSize=e,this.getUserIncomeList()}}},s=n,l=(o("c33a"),o("2877")),c=Object(l["a"])(s,a,i,!1,null,"1f164ca2",null);t["default"]=c.exports},"2e4a":function(e,t,o){},3760:function(e,t,o){"use strict";var a=o("d2b4"),i=o.n(a);i.a},"3aff":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("支付流水号查询对应的支付信息列表（限期七日之内）")])]),o("div",{staticClass:"filter-container mar-t-20"},[o("el-form",{attrs:{"label-width":"100px",inline:"",model:e.queryModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"流水号：",prop:"statement"}},[o("el-select",{staticStyle:{width:"160px"},attrs:{filterable:"",clearable:"",size:"medium",placeholder:"请选择类型"},model:{value:e.queryModel.type,callback:function(t){e.$set(e.queryModel,"type",t)},expression:"queryModel.type"}},e._l(e.payTypeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1),o("el-input",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{size:"medium",placeholder:"请输入支付流水号",clearable:""},model:{value:e.queryModel.serialNumber,callback:function(t){e.$set(e.queryModel,"serialNumber",t)},expression:"queryModel.serialNumber"}})],1),o("el-form-item",{attrs:{label:"支付方式："}},[o("el-select",{staticStyle:{width:"160px"},attrs:{filterable:"",clearable:"",size:"medium",placeholder:"请选择支付方式"},model:{value:e.queryModel.payWay,callback:function(t){e.$set(e.queryModel,"payWay",t)},expression:"queryModel.payWay"}},e._l(e.enumType.payWayInfo,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:String(e.code)}})})),1)],1),o("el-form-item",{attrs:{label:"支付状态："}},[o("el-select",{staticStyle:{width:"160px"},attrs:{filterable:"",clearable:"",size:"medium",placeholder:"请选择支付状态"},model:{value:e.queryModel.payStatus,callback:function(t){e.$set(e.queryModel,"payStatus",t)},expression:"queryModel.payStatus"}},e._l(e.enumType.payStatusInfo,(function(e,t){return o("el-option",{key:t,attrs:{label:e.name,value:String(e.code)}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:function(t){return e.query(1)}}},[e._v("查询")]),e.hasPermission("BTN_USER_PAY_INFO_COUNT")?o("el-button",{attrs:{type:"text",size:"meidum"},on:{click:e.handleDownload}},[e._v("审单统计")]):e._e()],1)],1),o("p",{staticClass:"info-tips"},[e._v("支付业务编号：订单号 等，与支付相关的业务编号")]),o("p",{staticClass:"info-tips"},[e._v("内部支付流水号： 我们系统内部生成，对应用户每发起一次支付，就生成一个支付流水号")]),o("p",{staticClass:"info-tips"},[e._v("第三方支付流水号：我们使用的第三方支付平台的流水号，如 711 支付凭条上的 编号，积分支付，对应的是账户收支记录中的编号")])],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{border:"",data:e.tableDataList,"header-cell-style":{background:"#F5F7FA",color:"#606266"},height:"100%"}},[o("el-table-column",{attrs:{prop:"bnsOrderNo","min-width":"200px",align:"center",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"pointer",on:{click:function(o){return e.triggerToOderList(t.row.bnsOrderNo)}}},[e._v(e._s(t.row.bnsOrderNo))])]}}])}),o("el-table-column",{attrs:{prop:"transOrderNo","min-width":"200px",align:"center",label:"支付流水号"}}),o("el-table-column",{attrs:{prop:"payWay",width:"100px",align:"center",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.payWay?o("el-tag",{attrs:{size:"mini"}},[e._v("molpay")]):2===t.row.payWay?o("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("积分支付")]):3===t.row.payWay?o("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("信用卡")]):4===t.row.payWay?o("el-tag",{attrs:{size:"mini"}},[e._v("omise")]):5===t.row.payWay?o("el-tag",{attrs:{size:"mini"}},[e._v("OnlineBanking")]):6===t.row.payWay?o("el-tag",{attrs:{size:"mini"}},[e._v("COD")]):7===t.row.payWay?o("el-tag",{attrs:{size:"mini"}},[e._v("组合支付")]):e._e()]}}])}),o("el-table-column",{attrs:{prop:"payStatus",width:"100px",align:"center",label:"支付状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.payStatus?o("span",[e._v("成功")]):1===t.row.payStatus?o("span",[e._v("失败")]):2===t.row.payStatus?o("span",[e._v("支付中")]):3===t.row.payStatus?o("span",[e._v("待支付")]):4===t.row.payStatus?o("span",[e._v("退款成功")]):5===t.row.payStatus?o("span",[e._v("退款失败")]):7===t.row.payStatus?o("span",[e._v("退款中")]):8===t.row.payStatus?o("span",[e._v("退款处理")]):e._e()]}}])}),o("el-table-column",{attrs:{prop:"countryCode",align:"center",label:"国家"}}),o("el-table-column",{attrs:{prop:"txnId",align:"center",label:"第三方支付流水号",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.txnId||"-")+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"createTime",align:"center",label:"金额",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e.getCurrencyUnit(t.row.countryCode,"currencyUnit")+" "+t.row.amount)+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"createTime",align:"center",label:"凭证","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[o("img",{staticClass:"previewImage",attrs:{src:e.dealShowFileSrc(t.row.paymentVoucherPicture)}}),o("img",{staticClass:"thumbnail",attrs:{slot:"reference",src:e.dealShowFileSrc(t.row.paymentVoucherPicture)},slot:"reference"})])]}}])}),o("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("secondTimeFormat")(t.row.createTime))+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"updateTime",align:"center",label:"更新时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("secondTimeFormat")(t.row.updateTime))+"\n            ")]}}])}),o("el-table-column",{attrs:{prop:"remark",align:"center",label:"备注信息",width:"260"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center","min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("BTN_USER_MEG_OPERATION_SEE_DETAIL")?o("el-button",{attrs:{type:"text",size:"mini",loading:e.loading},on:{click:function(o){return e.syncPayStatus(t.row)}}},[e._v("同步")]):e._e(),!e.hasPermission("BTN_USER_MEG_OPERATION_SYNC_PAY_RESULT")||5!=t.row.payWay||3!==t.row.payStatus&&2!==t.row.payStatus?e._e():o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(o){return e.showCheckDialog(t.row)}}},[e._v("手动触发支付成功")]),!e.hasPermission("BTN_USER_MEG_OPERATION_SYNC_PAY_RESULT")||5!=t.row.payWay||3!==t.row.payStatus&&2!==t.row.payStatus?e._e():o("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(o){return e.showFailDialog(t.row)}}},[e._v("关闭")])]}}])})],1),o("div",{staticClass:"pagination-box"},[o("el-pagination",{attrs:{"current-page":e.queryModel.page.pageNum,"page-sizes":[5,10,20,50],"page-size":e.queryModel.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.query}})],1),o("el-dialog",{attrs:{title:"填写提交信息",width:"400px","append-to-body":"",visible:e.dialog.show},on:{close:function(t){e.dialog.show=!1}}},[o("div",[o("el-form",{ref:"addDialog",attrs:{"label-position":"right","label-width":"110px","label-suffix":"：",rules:e.dialog.rules,model:e.dialog.param}},[o("el-form-item",{attrs:{label:"支付凭证",prop:"paymentVoucherPicture"}},[e.dialog.show?o("c-upload",{attrs:{limit:1,fileList:e.dialog.param.paymentVoucherPicture},on:{setData:e.setFileList}}):e._e()],1),o("el-form-item",{attrs:{label:"银行列表"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择",size:"medium"},model:{value:e.dialog.param.bank,callback:function(t){e.$set(e.dialog.param,"bank",t)},expression:"dialog.param.bank"}},e._l(e.bankList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.Name,value:e.Code}})})),1)],1),o("el-form-item",{attrs:{label:"流水号",prop:"serial"}},[o("el-input",{attrs:{type:"text"},model:{value:e.dialog.param.serial,callback:function(t){e.$set(e.dialog.param,"serial",t)},expression:"dialog.param.serial"}})],1)],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialog.show=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"small",loading:e.dialog.loading,type:"primary"},on:{click:e.changePayResult}},[e._v("确 定")])],1)]),o("el-dialog",{attrs:{title:"填写备注信息",width:"400px","append-to-body":"",visible:e.failDialog.show},on:{close:function(t){e.failDialog.show=!1}}},[o("div",[o("el-form",{ref:"addDialog",attrs:{"label-position":"right","label-suffix":"：",model:e.failDialog.param}},[o("el-form-item",{attrs:{label:"备注",prop:"serial"}},[o("el-input",{attrs:{type:"text"},model:{value:e.failDialog.param.remark,callback:function(t){e.$set(e.failDialog.param,"remark",t)},expression:"failDialog.param.remark"}})],1)],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:function(t){e.failDialog.show=!1}}},[e._v("取 消")]),o("el-button",{attrs:{size:"small",loading:e.failDialog.loading,type:"primary"},on:{click:e.confirmSetFail}},[e._v("确 定")])],1)]),o("payment-check-dialog",{attrs:{dialogVisible:e.checkDialogVisible,checkData:e.checkData},on:{"on-cancle":e.handleCancleCheck,"on-confirm":e.handleConfirmCheck}}),e.downloadDialog?o("sum-download-dialog",{attrs:{downloadDialog:e.downloadDialog},on:{close:function(t){e.downloadDialog=!1}}}):e._e()],1)},i=[],r=o("0cf2"),n=o("f09b"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"payment-check-dialog"},[o("el-dialog",{attrs:{title:e.title,visible:e.toggle,"close-on-click-modal":!1,"show-close":!1,width:"1100px"},on:{"update:visible":function(t){e.toggle=t}}},[o("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(e.title)+"\n        ")]),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:11}},[e.toggle?o("c-upload",{attrs:{limit:1,fileList:e.checkModel.paymentVoucherPicture},on:{setData:e.setFileList}}):e._e()],1),o("el-col",{attrs:{span:13}},[o("el-form",{ref:"checkEditForm",attrs:{model:e.checkModel,rules:e.ruleValidate,"label-width":"80px"}},[o("el-form-item",{attrs:{prop:"",label:"应付金额："}},[e._v("\n                        "+e._s(e.getCurrencyUnit(e.checkModel.countryCode,"currencyUnit")+" "+e.checkModel.amount)+"\n                    ")]),o("el-form-item",{attrs:{prop:"bank",label:"银行："}},[o("el-select",{staticStyle:{width:"300px"},attrs:{clearable:"",filterable:"",placeholder:"请选择",size:"medium"},model:{value:e.checkModel.bank,callback:function(t){e.$set(e.checkModel,"bank",t)},expression:"checkModel.bank"}},e._l(e.bankList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.Name,value:e.Code}})})),1)],1),o("el-form-item",{attrs:{prop:"serial",label:"流水号："}},[o("el-input",{staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"请输入流水号",maxlength:40,size:"medium"},model:{value:e.checkModel.serial,callback:function(t){e.$set(e.checkModel,"serial",t)},expression:"checkModel.serial"}}),o("el-button",{attrs:{type:"text"},on:{click:e.showCropper}},[e._v("自动识别")])],1)],1),o("el-divider"),o("div",{staticClass:"check-tips"},[e._v("\n                    审核规范："),o("br"),e._v("\n                    Step1：核对收款银行Fingo Thailand: 0613465979(只显示4位)，是则进入第二步，不是则直接关闭交易并备注“银行账号错误”；"),o("br"),e._v("\n                    Step2：核对付款凭证金额是否跟系统金额匹配，是则进入第三步，不是则直接关闭交易并备注“付款金额错误”；"),o("br"),e._v("\n                    Step3：选择付款银行，填写交易号，核对无误后点击【确定】提交；"),o("br"),o("br"),e._v("\n\n                    自动识别："),o("br"),e._v("\n                    选中交易号区域，系统将自动填充识别结果。\n                ")])],1)],1),o("ImgCropperDialog",{attrs:{dialogVisible:e.ImgCropperDialogVisible,imgUrl:e.imgUrl},on:{"on-cancle":e.handleCancleCropper,"on-confirm":e.handleConfirmCropper}}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:e.cancle}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.comfirm}},[e._v("确 定")])],1)],1)],1)},l=[],c=(o("ac6a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"img-cropper-dialog"},[o("el-dialog",{attrs:{title:e.title,"append-to-body":"",visible:e.toggle,"close-on-click-modal":!1,"show-close":!1,top:"2vh",width:"900px"},on:{"update:visible":function(t){e.toggle=t}}},[o("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n                "+e._s(e.title)+"\n            ")]),o("div",{staticClass:"corpper"},[o("vueCropper",{ref:"cropper",attrs:{img:e.option.img,outputSize:e.option.size,outputType:e.option.outputType,autoCrop:e.option.autoCrop,autoCropWidth:e.option.autoCropWidth,autoCropHeight:e.option.autoCropHeight,high:e.option.high,centerBox:e.option.centerBox,original:e.option.original}})],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:e.cancle}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1)}),u=[],d=(o("28a5"),o("7e79")),p=o("5c96"),m="https://text.fingo.shop/",h="getText";axios.defaults.timeout=45e3,axios.interceptors.request.use((function(e){return e}),(function(e){return p["Message"].error("请求超时"),Promise.resolve(e)}));var f=function(e){return axios({method:"post",url:"".concat(m).concat(h),data:e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8;"}})},g={data:function(){return{title:"图片识别",option:{img:"",size:.7,outputType:"jpeg",autoCrop:!0,autoCropWidth:300,autoCropHeight:30,high:!1,centerBox:!0}}},props:{dialogVisible:{type:Boolean,default:!1},imgUrl:{type:String,default:""}},computed:{toggle:{get:function(){return this.dialogVisible&&(this.option.img=this.imgUrl,console.log(this.option)),this.dialogVisible},set:function(){}}},components:{VueCropper:d["VueCropper"]},methods:{cancle:function(){this.$emit("on-cancle")},confirm:function(){var e=this;this.$refs.cropper.getCropData((function(t){console.log(t),e.getOcrText(t.split(",")[1])}))},getOcrText:function(e){var t=this;f(e).then((function(e){if(console.log(e),200===e.status){var o=e.data;""!=o?t.$emit("on-confirm",o):t.$message.warning("未识别到内容，请选取交易号区域")}})).catch((function(e){console.log(e)}))}}},v=g,b=(o("b3b7"),o("00fb"),o("2877")),y=Object(b["a"])(v,c,u,!1,null,"7a3bf065",null),C=y.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"file-upload-wrapper"},[o("el-upload",{ref:e.refsName,class:1==e.limit?"pic-uploader":"",attrs:{headers:e.headers,limit:e.uploadLimit,multiple:1!=e.limit,name:e.uploadFileName,data:e.uploadParam,drag:"",action:e.uploadFileUrl,"file-list":e.fileData,accept:e.accept,"on-error":e.uploadError,"on-exceed":e.handleExceed,"on-success":e.uploadSuccess,"on-progress":e.handleProgress,"before-upload":e.beforeFileUpload,"list-type":"picture-card"},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return o("div",{},[a.uploadProgress<100?o("el-progress",{attrs:{type:"circle",percentage:a.uploadProgress}}):e._e(),"video"==e.getFileType(a)?o("video",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.dealShowFileSrc(a.url),"data-name":"videobox"}}):"audio"==e.getFileType(a)?o("div",{staticClass:"file-audio",attrs:{"data-name":"audiobox"}},[o("i",{staticClass:"iconfont"},[e._v("")])]):"image"==e.getFileType(a)?o("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:e.dealShowFileSrc(a.url),alt:"","data-name":"imgbox"}}):o("span",[e._v(e._s(a.url))]),o("span",{staticClass:"el-upload-list__item-actions"},[o("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.previewFile(a)}}},[o("i",{staticClass:"el-icon-zoom-in"})]),o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.downloadFile(a)}}},[o("i",{staticClass:"el-icon-download"})]),o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[o("i",{staticClass:"el-icon-delete"})]),o("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.reUploadFile(e.refsName,a)}}},[o("i",{staticClass:"el-icon-upload"})])])],1)}}])},[o("div",{attrs:{slot:"default"},on:{click:e.uploadInit},slot:"default"},[o("i",{staticClass:"el-icon-plus"})])]),o("image-preview",{directives:[{name:"show",rawName:"v-show",value:e.image.show,expression:"image.show"}],attrs:{fileType:e.image.fileType,close:e.closePreview,index:e.image.index,list:e.image.list}})],1)},x=[],k=(o("8e6e"),o("456d"),o("20d6"),o("7514"),o("7f7f"),o("75fc")),S=o("bd86"),M=(o("c5f6"),o("8866")),L=o("c229"),I=o("aa47");function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function T(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){Object(S["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var N={props:{fileList:{type:String,default:""},listType:{type:String,default:"picture-card"},signCode:String,accept:String,limit:{type:Number,default:1},refsName:{type:String,default:"fileUpload"},iscopy:{type:Boolean}},data:function(){return{uploadFileName:"file",headers:this.$headers,uploadFileUrl:"".concat("https://file.fingo.shop","/file/rest/uploadservices/uploadfile"),uploadParam:{},fileData:[],reUploadIndex:-1,uploadLimit:this.limit,image:{show:!1,index:0,fileType:"img",list:[]}}},components:{imagePreview:L["a"]},created:function(){this.setFileList(this.fileList)},methods:{setFileList:function(e){e&&(this.fileData=Object(M["c"])(JSON.parse(JSON.stringify(e)))),""==e&&(this.fileData=[])},setSort:function(){var e=this;this.$nextTick((function(){var t=e.$el.querySelector(".el-upload-list"),o=e.iscopy?{group:{name:"shared",pull:"clone",put:!1},sort:!1}:{ghostClass:"sortable-ghost"};e.sortable=I["default"].create(t,T(T({},o),{},{onUpdate:function(t){var o,a=e.fileData.splice(t.oldIndex,1);(o=e.fileData).splice.apply(o,[t.newIndex,0].concat(Object(k["a"])(a))),e.$emit("setData",{data:Object(M["a"])(e.fileData),signCode:e.signCode})}}))}))},beforeFileUpload:function(e){var t=e.type.split("/")[0];if("image"==t){var o=e.size/1024/1024<2;if(!o)return this.$message.error("上传图片大小不能超过 2MB!"),!1}else{var a=e.size/1024/1024<30;if(!a)return this.$message.error("上传文件大小不能超过 30MB!"),!1}return"image/gif"===e.type?t="gif":"image"!=t&&"video"!=t&&"audio"!=t&&(t="other"),Object.assign(this.uploadParam,{param:JSON.stringify({type:t,fileName:e.name})}),!0},uploadInit:function(){console.log(this.reUploadIndex),-1!=this.reUploadIndex&&(this.uploadLimit-=1,this.reUploadIndex=-1)},uploadError:function(){this.$message.warning("上传失败"+(this.signCode?this.signCode:""))},uploadSuccess:function(e,t,o){if("600"==e.status){-1!=this.reUploadIndex&&(o[this.reUploadIndex]=o[o.length-1],o.splice(o.length-1,1),this.uploadLimit-=1);var a=o.map((function(e){return void 0!==e.response&&(e.url=e.response.original_link),e}));this.fileData=a,this.setSort(),this.$emit("setData",{data:Object(M["a"])(this.fileData),signCode:this.signCode})}else{var i=o.find((function(e){return e==t}));-1!=i&&o.splice(i,1)}this.reUploadIndex=-1},handleProgress:function(e,t){t.uploadProgress=parseInt(e.percent)},handleExceed:function(){this.$message.warning("最多上传".concat(this.limit,"个文件"))},handleRemove:function(e){var t=this.fileData.findIndex((function(t){return t.url==e.url}));-1!=t&&(this.fileData.splice(t,1),this.$emit("setData",{data:Object(M["a"])(this.fileData),signCode:this.signCode}))},getFileType:function(e){return e.raw?e.raw.type.split("/")[0]:"image"},previewFile:function(e){this.image.fileType=this.getFileType(e),this.image.list=[this.dealShowFileSrc(e.url)],this.image.show=!0},closePreview:function(){this.image.show=!1},reUploadFile:function(e,t){this.reUploadIndex=this.fileData.findIndex((function(e){return e.url==t.url})),this.uploadLimit+=1;var o=this.$refs[e].$refs["upload-inner"].$refs["input"];o.value=null,o.click()},downloadFile:function(e){var t=document.createElement("a");t.download=this.dealShowFileSrc(e.url),t.href=this.dealShowFileSrc(e.url),t.click()}}},A=N,E=(o("e654"),Object(b["a"])(A,w,x,!1,null,null,null)),$=E.exports,D={data:function(){return{title:"支付审核",ruleValidate:{bank:[{required:!0,trigger:"change",message:"请选择银行"}],serial:[{required:!0,trigger:"blur",message:"流水号不能为空"}]},bankList:[{Name:"Siam Commercial Bank",Code:"TH0001",serialLength:25},{Name:"Kasikornbank",Code:"TH0002",serialLength:18},{Name:"Bangkok Bank",Code:"TH0003",serialLength:6},{Name:"Krung Thai Bank",Code:"TH0004",serialLength:12},{Name:"Government Savings Bank",Code:"TH0005",serialLength:24},{Name:"Bank of Ayudhya (Krungsri)",Code:"TH0006",serialLength:13},{Name:"Thanachart Bank",Code:"TH0007",serialLength:20},{Name:"TMB Bank",Code:"TH0008",serialLength:18},{Name:"Kiatnakin Bank",Code:"TH0009"},{Name:"CIMB (Thai) ",Code:"TH0010",serialLength:20},{Name:"Standard Chartered Bank (Thai) ",Code:"TH0011",serialLength:16},{Name:"United Overseas Bank (Thai)",Code:"TH0012"},{Name:"TISCO Bank",Code:"TH0013"},{Name:"Industrial and Commercial Bank of China (Thai)",Code:"TH0014"},{Name:"Mega ICB Thailand branch ",Code:"TH0015"},{Name:"Thai Credit Retail Bank",Code:"TH0016"},{Name:"The Bank of Tokyo-Mitsubishi (Japan)",Code:"TH0017"},{Name:"Citibank (US)",Code:"TH0018"},{Name:"Sumitomo Mitsui (Japan)",Code:"TH0019"},{Name:"Mizuho (Japan)",Code:"TH0020"},{Name:"HSBC",Code:"TH0021"},{Name:"ABN AMRO Bank N.V.",Code:"TH0022"},{Name:"BNP Paribas",Code:"TH0023"},{Name:"Deutsche Bank",Code:"TH0024"},{Name:"Bank of China Ltd.",Code:"TH0025"},{Name:"The Bank of Tokyo-Mitsubishi UFJ, Ltd.",Code:"TH0026"},{Name:"Indian Overseas Bank",Code:"TH0027"},{Name:"Mizuho Corporate Bank, Ltd.",Code:"TH0028"},{Name:"Oversea-Chinese Banking Corporation",Code:"TH0029"},{Name:"RHB Bank Berhad",Code:"TH0030"},{Name:"Sumitomo Mitsui Banking Corporation",Code:"TH0031"},{Name:"Foreign banks (North American)",Code:"TH0032"},{Name:"Bank of America Merrill Lynch",Code:"TH0033"},{Name:"Citibank Thailand",Code:"TH0034"},{Name:"JP Morgan Chase",Code:"TH0035"},{Name:"Scotiabank (Bank of Nova Scotia) - through subsidiary Thanachart Bank",Code:"TH0036"},{Name:"BAAC Bank for Agriculture and Agricultural Cooperation",Code:"TH0037",serialLength:12},{Name:"LH Bank",Code:"TH0038"},{Name:"Airpay",Code:"TH0039"},{Name:"Government Housing Bank(GH Bank)",Code:"TH0040"}],ImgCropperDialogVisible:!1,imgUrl:""}},props:{dialogVisible:{type:Boolean,default:!1},checkData:{type:Object,default:function(){return{}}}},computed:{toggle:{get:function(){return this.dialogVisible},set:function(){}},checkModel:function(){return this.checkData}},components:{ImgCropperDialog:C,cUpload:$},methods:{cancle:function(){this.$emit("on-cancle")},comfirm:function(){var e=this;this.$refs.checkEditForm.validate((function(t){t&&e.$emit("on-confirm",e.checkModel)}))},showCropper:function(){this.ImgCropperDialogVisible=!0,this.imgUrl=this.dealShowFileSrc(this.checkData.paymentVoucherPicture)},handleCancleCropper:function(){this.ImgCropperDialogVisible=!1},handleConfirmCropper:function(e){this.ImgCropperDialogVisible=!1,this.checkModel.serial=e,""!=this.checkModel.bank?this.verifySerial(e):this.$message.success("识别成功,请人工核对一下！")},setFileList:function(e){this.checkModel.paymentVoucherPicture=this.dealShowFileSrc(e.data)},verifySerial:function(e){var t=this;_.forEach(this.bankList,(function(o){t.checkModel.bank===o.Code&&o.serialLength&&e.length!=o.serialLength&&t.$message.warning("你识别的区域可能有误，不符合该银行流水号的默认长度！")}))}}},B=D,P=(o("f741"),o("c892"),Object(b["a"])(B,s,l,!1,null,"1c372260",null)),z=P.exports,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"sum-download-dialog",attrs:{visible:e.downloadDialog,"close-on-click-modal":!1},on:{close:e.handleClose}},[o("el-form",{attrs:{inline:""}},[o("el-form-item",{attrs:{label:"选择时段："}},[o("el-date-picker",{attrs:{size:"medium",type:"daterange","value-format":"timestamp","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.timeList,callback:function(t){e.timeList=t},expression:"timeList"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.getList(1)}}},[e._v("查询")])],1),o("el-button",{staticClass:"right",attrs:{type:"text"},on:{click:e.handleDownload}},[e._v("下载")])],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.load,expression:"load"}],attrs:{data:e.dataList,border:""}},[o("el-table-column",{attrs:{label:"日期",align:"center",prop:"day"}}),o("el-table-column",{attrs:{label:"用户ID",align:"center",prop:"operationId"}}),o("el-table-column",{attrs:{label:"昵称",align:"center",prop:"nickName"}}),o("el-table-column",{attrs:{label:"真实姓名",align:"center",prop:"realName"}}),o("el-table-column",{attrs:{label:"审核量",align:"center",prop:"checkNum"}})],1),o("div",{staticClass:"pagination-box"},[o("el-pagination",{attrs:{"current-page":e.searchParam.page.pageNum,"page-size":e.searchParam.page.pageSize,layout:"sizes, total, prev, pager, next, jumper","page-sizes":[5,10,15,20],total:e.totals},on:{"current-change":e.getList,"size-change":e.handleSizeChange}})],1)],1)},R=[],U=o("c32d"),j=o.n(U),W={props:{downloadDialog:Boolean},data:function(){return{searchParam:{page:{pageNum:1,pageSize:10,pagingSwitch:!0},startTime:null,endTime:null},timeList:[],totals:0,load:!1,dataList:[]}},created:function(){var e=j()().valueOf(),t=j()((new Date).toLocaleDateString());this.timeList=[t,e],this.getList(1)},methods:{getList:function(e){var t=this;this.load=!0,this.searchParam.page.pageNum=e||this.searchParam.page.pageNum,this.timeList=this.timeList||[];var o=this.filterData(Object.assign(this.searchParam,{startTime:this.timeList[0]?this.timeList[0]+"":null,endTime:this.timeList[1]?this.timeList[1]+"":null}));Object(r["f"])(o).then((function(e){1===e.ret.errcode&&(t.dataList=e.checkInfo,t.totals=e.total),t.load=!1})).catch((function(){t.load=!1}))},handleDownload:function(){this.timeList=this.timeList||[];var e=this.filterData(Object.assign(this.searchParam,{startTime:this.timeList[0]?this.timeList[0]+"":null,endTime:this.timeList[1]?this.timeList[1]+"":null}));Object(r["h"])(e).then((function(e){if(1===e.ret.errcode){var t=document.createElement("a");t.download="文件",t.href=e.url,t.click()}}))},handleSizeChange:function(e){Object.assign(this.searchParam.page,{pageSize:e,pageNum:1}),this.getList()},handleClose:function(){this.$emit("close")}}},F=W,Y=(o("f381"),Object(b["a"])(F,H,R,!1,null,null,null)),X=Y.exports,q=(o("2ef0"),{data:function(){return{bankList:[{Name:"Siam Commercial Bank",Code:"TH0001"},{Name:"Kasikornbank",Code:"TH0002"},{Name:"Krung Thai Bank",Code:"TH0004"},{Name:"Government Savings Bank",Code:"TH0005"},{Name:"TMB Bank",Code:"TH0008"},{Name:"Kiatnakin Bank",Code:"TH0009"},{Name:"CIMB (Thai) ",Code:"TH0010"},{Name:"Standard Chartered Bank (Thai) ",Code:"TH0011"},{Name:"United Overseas Bank (Thai)",Code:"TH0012"},{Name:"TISCO Bank",Code:"TH0013"},{Name:"Industrial and Commercial Bank of China (Thai)",Code:"TH0014"},{Name:"Mega ICB Thailand branch ",Code:"TH0015"},{Name:"Thai Credit Retail Bank",Code:"TH0016"},{Name:"The Bank of Tokyo-Mitsubishi (Japan)",Code:"TH0017"},{Name:"Citibank (US)",Code:"TH0018"},{Name:"Sumitomo Mitsui (Japan)",Code:"TH0019"},{Name:"Mizuho (Japan)",Code:"TH0020"},{Name:"HSBC",Code:"TH0021"},{Name:"ABN AMRO Bank N.V.",Code:"TH0022"},{Name:"BNP Paribas",Code:"TH0023"},{Name:"Deutsche Bank",Code:"TH0024"},{Name:"Bank of China Ltd.",Code:"TH0025"},{Name:"The Bank of Tokyo-Mitsubishi UFJ, Ltd.",Code:"TH0026"},{Name:"Indian Overseas Bank",Code:"TH0027"},{Name:"Mizuho Corporate Bank, Ltd.",Code:"TH0028"},{Name:"Oversea-Chinese Banking Corporation",Code:"TH0029"},{Name:"RHB Bank Berhad",Code:"TH0030"},{Name:"Sumitomo Mitsui Banking Corporation",Code:"TH0031"},{Name:"Foreign banks (North American)",Code:"TH0032"},{Name:"Bank of America Merrill Lynch",Code:"TH0033"},{Name:"Citibank Thailand",Code:"TH0034"},{Name:"JP Morgan Chase",Code:"TH0035"},{Name:"Scotiabank (Bank of Nova Scotia) - through subsidiary Thanachart Bank",Code:"TH0036"},{Name:"BAAC Bank for Agriculture and Agricultural Cooperation",Code:"TH0037"},{Name:"LH Bank",Code:"TH0038"},{Name:"Airpay",Code:"TH0039"},{Name:"Government Housing Bank(GH Bank)",Code:"TH0040"}],queryModel:{type:null,serialNumber:"",payWay:null,payStatus:null,page:{pageNum:1,pageSize:10,pagingSwitch:!0}},payTypeList:{1:"支付业务编号",2:"内部支付流水号",3:"第三方支付流水号"},dialog:{show:!1,loading:!1,param:{bank:"",serial:"",txnId:"",paymentVoucherPicture:""},rules:{serial:[{required:!0,message:"不能为空",trigger:"change"}],paymentVoucherPicture:[{required:!0,message:"不能为空",trigger:"change"}]}},failDialog:{show:!1,loading:!1,param:{remark:"",bnsOrderNo:"",transOrderNo:""}},enumType:{payStatusInfo:[],payWayInfo:[]},tableDataList:[],paymentResult:{param:{orderNo:"",status:""},status:{0:"待支付",1:"待发货",2:"待收货",3:"交易成功",4:"交易关闭",5:"退款中",6:"退款成功",7:"退款失败",8:"退款失败"}},ruleValidate:{},totals:0,loading:!1,tableLoading:!1,checkDialogVisible:!1,checkData:{amount:"",paymentVoucherPicture:"",serial:"",bank:""},downloadDialog:!1}},created:function(){this.getEnum()},components:{cUpload:n["a"],PaymentCheckDialog:z,sumDownloadDialog:X},methods:{handleSizeChange:function(e){this.queryModel.page.pageSize=e,this.getList(1)},query:function(e){var t=this;this.tableLoading=!0,this.queryModel.page.pageNum=e||this.queryModel.page.pageNum;var o=JSON.parse(JSON.stringify(this.queryModel));if(this.queryModel.serialNumber&&!this.queryModel.type)return this.$message.warning("请选择流水类型");"1"===this.queryModel.type?(o.bnsOrderNo=this.queryModel.serialNumber,o.transOrderNo="",o.txnId=""):"2"===this.queryModel.type?(o.bnsOrderNo="",o.transOrderNo=this.queryModel.serialNumber,o.txnId=""):"3"===this.queryModel.type&&(o.transOrderNo="",o.transOrderNo="",o.txnId=this.queryModel.serialNumber),Object(r["q"])(this.filterData(o)).then((function(e){t.tableLoading=!1,1===e.ret.errcode&&(console.log(e),t.tableDataList=e.searchPayInfos,t.totals=e.total)})).catch((function(e){t.tableLoading=!1,console.log(e)}))},getEnum:function(){var e=this;Object(r["p"])({}).then((function(t){1===t.ret.errcode&&(e.enumType=t)}))},handleDownload:function(){this.downloadDialog=!0},setFileList:function(e){this.dialog.param.paymentVoucherPicture=e.data,this.$refs["addDialog"].validate()},showDialog:function(e){Object.assign(this.dialog.param,{bank:"",serial:"",txnId:"",bnsOrderNo:e.bnsOrderNo,transOrderNo:e.transOrderNo,paymentVoucherPicture:e.paymentVoucherPicture}),this.dialog.show=!0},showCheckDialog:function(e){console.log(e),this.checkData.countryCode=e.countryCode,this.checkData.amount=e.amount,this.checkData.paymentVoucherPicture=this.dealShowFileSrc(e.paymentVoucherPicture),this.checkData.bnsOrderNo=e.bnsOrderNo,this.checkData.transOrderNo=e.transOrderNo,this.checkData.bank="",this.checkData.serial="",console.log(this.checkData),this.checkDialogVisible=!0},handleCancleCheck:function(){this.checkDialogVisible=!1},handleConfirmCheck:function(e){var t=this,o={bnsOrderNo:e.bnsOrderNo,transOrderNo:e.transOrderNo,paymentVoucherPicture:e.paymentVoucherPicture,txnId:e.bank+"_"+e.serial};this.$confirm("是否确认更改支付结果为支付成功，一旦确认将不可以更改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["o"])(t.filterData(o)).then((function(e){1===e.ret.errcode&&t.$message.success("操作成功"),t.query(),t.checkDialogVisible=!1})).catch((function(e){t.checkDialogVisible=!1,console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},showFailDialog:function(e){this.failDialog.param={remark:"",bnsOrderNo:e.bnsOrderNo,transOrderNo:e.transOrderNo},this.failDialog.show=!0},confirmSetFail:function(e){var t=this;this.$confirm("是否确认更改支付结果为支付失败，一旦确认将不可以更改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){t.failDialog.loading=!0,Object(r["n"])(t.filterData(t.failDialog.param)).then((function(e){t.failDialog.loading=!1,1===e.ret.errcode&&(t.$message.success("同步成功"),t.query()),t.failDialog.show=!1})).catch((function(e){t.failDialog.loading=!1,console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},changePayResult:function(){var e=this;this.$refs["addDialog"].validate((function(t){if(t){if(e.dialog.loading)return;e.$confirm("是否确认更改支付结果为支付成功，一旦确认将不可以更改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){e.dialog.loading=!0;var t=JSON.parse(JSON.stringify(e.dialog.param));t.bank&&(t.txnId=t.bank+"_"+t.serial),Object(r["o"])(e.filterData(t)).then((function(t){e.dialog.loading=!1,1===t.ret.errcode&&(e.$message.success("同步成功"),e.query()),e.dialog.show=!1})).catch((function(t){e.dialog.loading=!1,console.log(t)}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))}}))},syncPayStatus:function(e){var t=this;if(!e.bnsOrderNo)return this.$message.warning("订单号不能为空");this.$confirm("是否确认同步?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["r"])(e).then((function(e){t.loading=!1,1===e.ret.errcode&&(t.$message.success("同步成功"),t.query())})).catch((function(e){t.loading=!1,console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))}}}),V=q,G=(o("19f7"),Object(b["a"])(V,a,i,!1,null,"4ddfdc1a",null));t["default"]=G.exports},"3d21":function(e,t,o){},4216:function(e,t,o){},"44cb":function(e,t,o){},"56ea":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("el-form",{attrs:{"label-width":"100px",inline:""}},[o("el-form-item",{attrs:{label:"订单号："}},[o("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入订单号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.orderCommission.param.orderNo,callback:function(t){e.$set(e.orderCommission.param,"orderNo",t)},expression:"orderCommission.param.orderNo"}})],1),o("el-form-item",{attrs:{label:"得钱用户ID："}},[o("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.orderCommission.param.userId,callback:function(t){e.$set(e.orderCommission.param,"userId",t)},expression:"orderCommission.param.userId"}})],1),o("el-form-item",{attrs:{label:"买家ID："}},[o("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入买家ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.orderCommission.param.buyerId,callback:function(t){e.$set(e.orderCommission.param,"buyerId",t)},expression:"orderCommission.param.buyerId"}})],1),o("span",{directives:[{name:"show",rawName:"v-show",value:e.drop,expression:"drop"}]},[o("el-form-item",{attrs:{label:"返佣类型："}},[o("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.orderCommission.param.commissionType,callback:function(t){e.$set(e.orderCommission.param,"commissionType",t)},expression:"orderCommission.param.commissionType"}},e._l(e.orderCommission.commissionType,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"返佣状态："}},[o("el-select",{attrs:{clearable:"",size:"medium"},model:{value:e.orderCommission.param.commissionStatus,callback:function(t){e.$set(e.orderCommission.param,"commissionStatus",t)},expression:"orderCommission.param.commissionStatus"}},e._l(e.orderCommission.commissionStatus,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"时间段："}},[o("el-date-picker",{attrs:{"value-format":"timestamp",type:"daterange",size:"medium",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.orderCommission.timeList,callback:function(t){e.$set(e.orderCommission,"timeList",t)},expression:"orderCommission.timeList"}})],1)],1),o("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[o("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),o("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")]),o("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",underline:!1},on:{click:e.dropDown}},[e._v("\n                  "+e._s(e.dropDownContent)+"\n                  "),o("i",{class:e.dropDownIcon})])],1)],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.orderCommission.dataList,"header-cell-style":{background:"#F5F7FA",color:"#606266"},height:"100%"}},[o("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),o("el-table-column",{attrs:{prop:"orderNo","min-width":"180px",label:"订单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"link",on:{click:function(o){return e.triggerToOderList(t.row.orderNo)}}},[e._v(e._s(t.row.orderNo))])]}}])}),o("el-table-column",{attrs:{prop:"buyerId",align:"center",label:"买家id"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"link",on:{click:function(o){return e.clickToMemberInfo(t.row.buyerId)}}},[e._v("\n                      "+e._s(t.row.buyerId))])]}}])}),o("el-table-column",{attrs:{prop:"userId","min-width":"130px",align:"center",label:"得钱用户ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"link",on:{click:function(o){return e.clickToMemberInfo(t.row.userId)}}},[e._v("\n                      "+e._s(t.row.userId))])]}}])}),o("el-table-column",{attrs:{prop:"orderSumYuan",align:"center",label:"订单金额"}}),o("el-table-column",{attrs:{prop:"memberLevel",align:"center",label:"会员等级"}}),o("el-table-column",{attrs:{prop:"commissionAmountYuan",label:"佣金(￥)",align:"center"}}),o("el-table-column",{attrs:{prop:"commissionStatusDesc","min-width":"200px",align:"center",label:"返佣状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.commissionStatus?o("el-tag",{attrs:{size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")]):2===t.row.commissionStatus?o("el-tag",{attrs:{type:"success",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")]):3===t.row.commissionStatus?o("el-tag",{attrs:{type:"danger",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")]):4===t.row.commissionStatus?o("el-tag",{attrs:{type:"warning",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")]):5===t.row.commissionStatus?o("el-tag",{attrs:{type:"info",size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")]):o("el-tag",{attrs:{size:"mini","close-transition":""}},[e._v("\n                      "+e._s(t.row.commissionStatusDesc)+"\n                  ")])]}}])}),o("el-table-column",{attrs:{prop:"commissionTypeDesc","min-width":"150px",align:"center",label:"返佣类型"}}),o("el-table-column",{attrs:{prop:"createTime","min-width":"180px",align:"center",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(e._f("secondTimeFormat")(t.row.createTime))+"\n              ")]}}])})],1),o("div",{staticClass:"page-wrapper"},[o("el-pagination",{attrs:{"current-page":e.orderCommission.param.page.pageNum,"page-sizes":[10,20,50,100],"page-size":e.orderCommission.param.page.pageSize,layout:"total, sizes, prev, pager, next",total:e.orderCommission.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},i=[],r=(o("6b54"),o("7cd9")),n={data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"el-icon-arrow-down",loading:!1,orderCommission:{timeList:[],dataList:[],totals:0,commissionType:{1:"商品返利",2:"介绍费",4:"Affiliate购买返利",5:"团队销售奖励",6:"培训津贴",7:"介绍费+培训津贴",8:"团队培训津贴",9:"系统奖励",10:"销售培训津贴",11:"大礼包奖励",12:"大礼包团队启动奖",13:"大礼包团队管理奖励",14:"大礼包伯乐奖",15:"提现",16:"提现失败",17:"积分支付"},commissionStatus:{1:"付款完成，待返佣",2:"已返佣",3:"订单被取消，取消反佣",4:"售后中",5:"退款成功，取消返佣"},param:{page:{pageNum:1,pageSize:20,pagingSwitch:!0},commissionType:"",orderNo:"",commissionStatus:"",userId:"",buyerId:""}}}},created:function(){this.orderCommissionQuery(),this.orderCommission.timeList=[this.lastWeek,this.nowEnd]},computed:{nowEnd:function(){return this.$store.state.globalNum.nowEnd},lastWeek:function(){return this.$store.state.globalNum.lastWeek}},methods:{dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="el-icon-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="el-icon-arrow-up"),this.drop=!this.drop},resetSearch:function(){this.orderCommission.timeList=[this.lastWeek,this.nowEnd],this.orderCommission.param={page:{pageNum:1,pageSize:20,pagingSwitch:!0},commissionType:"",orderNo:"",commissionStatus:"",userId:"",buyerId:""},this.orderCommissionQuery()},search:function(){this.orderCommission.param.page.pageNum=1,this.orderCommissionQuery()},orderCommissionQuery:function(){var e=this;this.loading=!0,this.orderCommission.timeList=this.orderCommission.timeList?this.orderCommission.timeList:[];var t=this.filterData(Object.assign(this.orderCommission.param,{startTime:this.orderCommission.timeList[0]?this.orderCommission.timeList[0].toString():null,endTime:this.orderCommission.timeList[1]?this.orderCommission.timeList[1].toString():null}));console.log(t),Object(r["m"])(t).then((function(t){e.loading=!1;var o=t;1===o.ret.errcode&&(e.orderCommission.totals=o.total,e.orderCommission.dataList=o.orderCommissionResp)})).catch((function(t){console.log(t),e.loading=!1}))},handleCurrentChange:function(e){this.orderCommission.param.page.pageNum=e||this.orderCommission.param.page.pageNum,this.orderCommissionQuery()},handleSizeChange:function(e){this.orderCommission.param.page.pageSize=e,this.orderCommissionQuery()}}},s=n,l=(o("e566"),o("2877")),c=Object(l["a"])(s,a,i,!1,null,"38075caa",null);t["default"]=c.exports},"5ab8":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-tabs",{on:{"tab-click":e.handleTabClick},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.hasPermission("TAB_USER_MANAGE_RAKE_BACK")?o("el-tab-pane",{attrs:{label:"返佣",name:"commission"}},[o("commission")],1):e._e(),e.hasPermission("TAB_USER_MANAGE_ADD_POINT")?o("el-tab-pane",{attrs:{label:"补积分",name:"addPoint"}},[o("add-point",{ref:"addPoint",on:{"on-submit":e.addMoney}})],1):e._e(),o("el-tab-pane",{attrs:{label:"绑定关系",name:"bind"}},[e.hasPermission("BTN_USER_MANAGE_DISCONNECT")?o("unbind-relation",{ref:"unbindRelation",staticClass:"card-item",on:{"on-submit":e.bindDisconnect}}):e._e(),e.hasPermission("BTN_USER_MANAGE_BIND")?o("bind-relation",{ref:"bindRelation",on:{"on-submit":e.bindChange}}):e._e()],1),o("el-tab-pane",{attrs:{label:"预设等级",name:"setUserLevel"}},[e.hasPermission("BTN_USER_MANAGE_SET_USER_LEVEL")?o("set-user-level",{ref:"setUserLevel",staticClass:"card-item",on:{"on-submit":e.setUserLevel}}):e._e()],1),e.hasPermission("TAB_USER_MANAGE_UPLEVEL")?o("el-tab-pane",{attrs:{label:"触发升级",name:"upLevel"}},[o("div",[o("el-form",{attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{label:"注意:"}},[o("span",{staticStyle:{color:"red"}},[e._v("只触发升AM、AT失败的用户!!!")])]),o("el-form-item",{attrs:{label:"用户ID："}},[o("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{size:"medium"},model:{value:e.pushUpLevel.userId,callback:function(t){e.$set(e.pushUpLevel,"userId",t)},expression:"pushUpLevel.userId"}}),o("el-button",{attrs:{type:"primary",size:"medium",loading:e.upLevelLoading},on:{click:e.publishUplevelEvent}},[e._v("确定")])],1)],1)],1)]):e._e(),o("el-tab-pane",{attrs:{label:"注销手机号",name:"userMobile"}},[e.hasPermission("BTN_USER_MANAGE_REMOVE_MOBILE")?o("remove-mobile",{ref:"removeMobile",staticClass:"card-item",on:{"on-submit":e.removeUserMobile}}):e._e(),e.hasPermission("BTN_USER_MANAGE_RESET_MOBILE")?o("resetMobile",{ref:"resetMobile",on:{"on-submit":e.setUserMobile}}):e._e()],1),e.hasPermission("TAB_USER_MANAGE_SEND_CODE")?o("el-tab-pane",{attrs:{label:"发送验证码",name:"sendCode"}},[o("send-code")],1):e._e(),e.hasPermission("TAB_USER_MANAGE_BATCH_REGISTER")?o("el-tab-pane",{attrs:{label:"批量注册",name:"batchRegister"}},[o("batch-register",{ref:"batchRegister"})],1):e._e(),e.hasPermission("BTN_USER_CHANGE_COUNTRY")?o("el-tab-pane",{attrs:{label:"修改用户国家",name:"changeCountry"}},[o("change-country",{ref:"changeCountry",staticClass:"card-item",on:{"on-submit":e.changeCountry}})],1):e._e(),e.hasPermission("BTN_DOWNLOAD_TEAM_STATISTICS")?o("el-tab-pane",{attrs:{label:"下载团队统计",name:"downloadTeamStatistics"}},[o("download-team-statistics",{staticClass:"card-item"})],1):e._e()],1)],1)},i=[],r=(o("7f7f"),o("5d2d")),n=o("7cd9"),s=(o("70f7"),o("8866"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.hasPermission("BTN_USER_MANAGE_ADD_MONEY")?o("el-card",{staticClass:"item-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("根据订单号，手动触发返佣")])]),o("el-form",{attrs:{"label-width":"80px"}},[o("el-form-item",{attrs:{label:"订单号："}},[o("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{size:"small"},model:{value:e.commissionParam.orderNo,callback:function(t){e.$set(e.commissionParam,"orderNo",t)},expression:"commissionParam.orderNo"}}),o("el-button",{attrs:{type:"primary",size:"small",loading:e.orderNoLoading},on:{click:e.commissionByOrderNo}},[e._v("确定")])],1)],1)],1):e._e(),e.hasPermission("BTN_USER_MANAGE_BIND_BEATMONEY")?o("el-card",{staticClass:"item-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("根据订单佣金记录打钱")])]),o("el-form",{ref:"commissionMoney",attrs:{"label-width":"120px",model:e.commissionMoney.param,rules:e.commissionMoney.rules}},[o("el-form-item",{attrs:{label:"订单号：",prop:"orderNo",required:""}},[o("el-input",{staticStyle:{width:"200px"},model:{value:e.commissionMoney.param.orderNo,callback:function(t){e.$set(e.commissionMoney.param,"orderNo",t)},expression:"commissionMoney.param.orderNo"}})],1),o("el-form-item",{attrs:{label:"返佣状态："}},[o("el-select",{attrs:{size:"medium"},model:{value:e.commissionMoney.param.commissionStatus,callback:function(t){e.$set(e.commissionMoney.param,"commissionStatus",t)},expression:"commissionMoney.param.commissionStatus"}},e._l(e.commissionMoney.commissionStatus,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"返佣类型："}},[o("el-select",{attrs:{size:"medium"},model:{value:e.commissionMoney.param.commissionType,callback:function(t){e.$set(e.commissionMoney.param,"commissionType",t)},expression:"commissionMoney.param.commissionType"}},e._l(e.commissionMoney.commissionType,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"small",loading:e.moneyLoading},on:{click:e.confirmBackMoney}},[e._v("确定")])],1)],1)],1):e._e()],1)}),l=[],c=(o("6b54"),{data:function(){return{commissionParam:{orderNo:""},orderNoLoading:!1,commissionList:[],moneyLoading:!1,commissionMoney:{param:{orderNo:"",commissionStatus:null,commissionType:null},rules:{orderNo:[{validator:function(e,t,o){if(t.length){var a=t.trim();/^\d{1,}$/.test(a)?o():o(new Error("订单号须为纯数字"))}else o(new Error("不能为空"))},trigger:"blur"}],commissionStatus:[{required:!0,message:"不能为空",trigger:"blur"}],commissionType:[{required:!0,message:"不能为空",trigger:"blur"}]},commissionStatus:{1:"付款完成，待返佣",2:"已反佣",3:"订单被取消，取消反佣",5:"退款成功，取消返佣"},commissionType:{1:"商品返利(自购返利)",2:"介绍费(礼包奖励)",4:"Affiliate购买返利(粉丝购物奖励)",5:"团队销售返利(团队销售奖励)",6:"培训津贴(礼包伯乐奖)",7:"介绍费+培训津贴(礼包团队管理奖励)",8:"团队培训津贴(团队启动奖)",10:"销售培训津贴(普通商品伯乐奖)"}}}},methods:{resetSearch:function(){Object.assign(this.commissionMoney.param,{orderNo:"",commissionStatus:null,commissionType:null})},commissionByOrderNo:function(){var e=this,t=JSON.parse(JSON.stringify(this.commissionParam));return t.orderNo=t.orderNo.trim(),t.orderNo?/^\d{1,}$/.test(t.orderNo)?(this.orderNoLoading=!0,void Object(n["t"])(t).then((function(t){console.log(t),e.orderNoLoading=!1,1===t.ret.errcode?e.$message.success("成功！"):e.$message.error(t.ret.errname)})).catch((function(t){console.log(t),e.orderNoLoading=!1}))):this.$message.warning("订单号须为纯数字组成"):this.$message.warning("订单号不能为空")},confirmBackMoney:function(){var e=this;this.$refs["commissionMoney"].validate((function(t){t&&(e.moneyLoading=!0,e.commissionMoney.param.orderNo=e.commissionMoney.param.orderNo.trim(),Object(n["d"])(Object.assign(e.commissionMoney.param,{commissionStatus:parseInt(e.commissionMoney.param.commissionStatus),commissionType:parseInt(e.commissionMoney.param.commissionType)})).then((function(t){console.log(e.commissionMoney.param),1===t.ret.errcode?(e.$message.success("成功"),e.moneyLoading=!1,e.resetSearch()):(Object.assign(e.commissionMoney.param,{commissionStatus:e.commissionMoney.param.commissionStatus.toString(),commissionType:e.commissionMoney.param.commissionType.toString()}),e.moneyLoading=!1)})).catch((function(t){console.log(t),e.moneyLoading=!1})))}))}}}),u=c,d=(o("3760"),o("2877")),p=Object(d["a"])(u,s,l,!1,null,"33f7ce7e",null),m=p.exports,h=o("56ea"),f=o("2d28"),g=o("3aff"),v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("注销手机号")])]),o("el-form",{ref:"removeMobileForm",attrs:{"label-width":"80px",model:e.removeModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"手机号：",prop:"mobile"}},[o("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",size:"medium",placeholder:"区号选择"},model:{value:e.removeModel.countryAreaCode,callback:function(t){e.$set(e.removeModel,"countryAreaCode",t)},expression:"removeModel.countryAreaCode"}},e._l(e.areaCodeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1),o("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{size:"medium",clearable:""},model:{value:e.removeModel.mobile,callback:function(t){e.$set(e.removeModel,"mobile",t)},expression:"removeModel.mobile"}}),o("el-button",{attrs:{type:"primary",size:"medium",loading:e.confirmLoading},on:{click:e.remove}},[e._v("注销")])],1)],1)],1)},b=[],y={name:"removeMobile",data:function(){return{removeModel:{mobile:"",countryAreaCode:""},confirmLoading:!1,ruleValidate:{mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"}]},areaCodeList:{6:"+6",62:"+62",65:"+65",66:"+66"}}},methods:{remove:function(){var e=this;this.$refs.removeMobileForm.validate((function(t){t&&(e.confirmLoading=!0,e.$emit("on-submit",e.removeModel))}))}}},C=y,w=Object(d["a"])(C,v,b,!1,null,"1f5eb029",null),x=w.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("为用户重新设置手机号")])]),o("el-form",{ref:"resetMobileForm",attrs:{"label-width":"100px",model:e.removeModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",clearable:""},model:{value:e.removeModel.userId,callback:function(t){e.$set(e.removeModel,"userId",t)},expression:"removeModel.userId"}})],1),o("el-form-item",{attrs:{label:"手机号：",prop:"mobile"}},[o("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",size:"medium",placeholder:"区号选择"},model:{value:e.removeModel.countryAreaCode,callback:function(t){e.$set(e.removeModel,"countryAreaCode",t)},expression:"removeModel.countryAreaCode"}},e._l(e.areaCodeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1),o("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium"},model:{value:e.removeModel.mobile,callback:function(t){e.$set(e.removeModel,"mobile",t)},expression:"removeModel.mobile"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",loading:e.confirmLoading},on:{click:e.reset}},[e._v("确认")])],1)],1)],1)},_=[],S={name:"resetMobile",data:function(){return{confirmLoading:!1,removeModel:{userId:"",mobile:"",countryAreaCode:"6"},ruleValidate:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"}]},areaCodeList:{6:"+6",62:"+62",65:"+65",66:"+66"}}},methods:{reset:function(){var e=this;this.$refs.resetMobileForm.validate((function(t){t&&(e.confirmLoading=!0,e.$emit("on-submit",e.removeModel))}))}}},M=S,L=Object(d["a"])(M,k,_,!1,null,"a0ff17b2",null),I=L.exports,O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("手动断绑")])]),o("el-form",{ref:"unbindForm",attrs:{"label-width":"80px",model:e.unbindModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{clearable:""},model:{value:e.unbindModel.userId,callback:function(t){e.$set(e.unbindModel,"userId",t)},expression:"unbindModel.userId"}}),o("el-button",{attrs:{type:"primary",size:"medium",disabled:e.loading},on:{click:e.unbind}},[e._v("确认")])],1)],1)],1)},T=[],N={name:"unbind",data:function(){return{loading:!1,unbindModel:{userId:""},ruleValidate:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}]}}},methods:{unbind:function(){var e=this;this.$refs.unbindForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.unbindModel))}))},setEnable:function(){this.loading=!1}}},A=N,E=Object(d["a"])(A,O,T,!1,null,"1a414b5a",null),$=E.exports,D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("手动绑定（已经绑定的用户需要先断绑）")])]),o("el-form",{ref:"bindForm",attrs:{"label-width":"120px",model:e.bindModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.bindModel.userId,callback:function(t){e.$set(e.bindModel,"userId",t)},expression:"bindModel.userId"}})],1),o("el-form-item",{attrs:{label:"上级邀请码：",prop:"parentCode"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:e.bindModel.parentCode,callback:function(t){e.$set(e.bindModel,"parentCode",t)},expression:"bindModel.parentCode"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",disabled:e.loading},on:{click:e.bind}},[e._v("确认")])],1)],1)],1)},B=[],P={name:"bindCard",data:function(){return{loading:!1,bindModel:{userId:"",parentCode:""},ruleValidate:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],parentCode:[{required:!0,message:"上级邀请码不能为空",trigger:"blur"}]}}},methods:{bind:function(){var e=this;this.$refs.bindForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.bindModel))}))},setEnable:function(){this.loading=!1}}},z=P,H=Object(d["a"])(z,D,B,!1,null,"129ecfb8",null),R=H.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"batch-add-card"},[o("el-button",{staticClass:"batch-add-money",attrs:{type:"text"},on:{click:e.downloadTemp}},[e._v("导入模板下载")]),o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("批量导入")])]),o("el-upload",{attrs:{action:"",multiple:"","http-request":e.uploadFile,"show-file-list":!1}},[o("el-button",{attrs:{icon:"el-icon-upload",loading:e.uploadLoading,disable:e.uploadLoading,type:"primary",size:"medium"}},[e._v("批量打钱用户名单导入")])],1)],1),o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("补积分")])]),o("el-form",{ref:"addPointForm",attrs:{"label-width":"120px",model:e.addPointModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",clearable:""},model:{value:e.addPointModel.userId,callback:function(t){e.$set(e.addPointModel,"userId",t)},expression:"addPointModel.userId"}})],1),o("el-form-item",{attrs:{label:"币种：",prop:"countryCode"}},[o("el-select",{attrs:{filterable:"",clearable:"",size:"medium"},model:{value:e.addPointModel.countryCode,callback:function(t){e.$set(e.addPointModel,"countryCode",t)},expression:"addPointModel.countryCode"}},e._l(e.operatorList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",{attrs:{label:"收入类型：",prop:"sourceType"}},[o("el-select",{attrs:{filterable:"",size:"medium"},model:{value:e.addPointModel.sourceType,callback:function(t){e.$set(e.addPointModel,"sourceType",t)},expression:"addPointModel.sourceType"}},e._l(e.sourceTypeList,(function(e){return o("el-option",{key:e.key,attrs:{label:e.val,value:e.key}})})),1)],1),o("el-form-item",{attrs:{label:"金额：",prop:"amount"}},[o("el-input-number",{attrs:{min:0,max:999999999,size:"medium",precision:2},model:{value:e.addPointModel.amount,callback:function(t){e.$set(e.addPointModel,"amount",t)},expression:"addPointModel.amount"}})],1),o("el-form-item",{attrs:{label:"备注：",prop:"memo"}},[o("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",clearable:""},model:{value:e.addPointModel.memo,callback:function(t){e.$set(e.addPointModel,"memo",t)},expression:"addPointModel.memo"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",disabled:e.loading},on:{click:e.submit}},[e._v("确认")])],1)],1)],1)],1)},j=[],W=o("60fb"),F={name:"bindCard",data:function(){return{operatorList:[{label:"马币",value:"MY"},{label:"新币",value:"SG"},{label:"泰铢",value:"TH"},{label:"印尼盾",value:"ID"}],sourceTypeList:[{key:9,val:"系统奖励"},{key:20,val:"活动积分"},{key:29,val:"品牌馆月销售奖励"}],loading:!1,uploadLoading:!1,addPointModel:{userId:"",amount:0,memo:"",countryCode:"MY",sourceType:9},ruleValidate:{userId:[{required:!0,message:"ID不能为空",trigger:"blur"}],amount:[{required:!0,message:"金额不能为空",trigger:"blur"}],memo:[{required:!0,message:"备注不能为空",trigger:"blur"}],countryCode:[{required:!0,message:"币种不能为空",trigger:"blur"}],sourceType:[{required:!0,message:"收入类型不能为空",trigger:"blur"}]},FILE_ACCEPT:".xlsx,.xls"}},methods:{submit:function(){var e=this;this.$refs.addPointForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.addPointModel))}))},setEnable:function(){this.loading=!1},downloadTemp:function(){var e="https://file.fingo.shop/fingo/member/add_money_demo.xls";window.open("".concat(e))},uploadFile:function(e){var t=this;this.uploadLoading=!0;var o=new FormData,a={fileName:e.file.name,type:"other"};o.append("file",e.file),o.append("param",JSON.stringify(a));var i="/file/rest/uploadservices/uploadfile";Object(W["a"])(i,o).then((function(e){"600"===e.status?t.batchAddMoneyRequest(e.original_link):(t.$message.error("文件上传失败，请重试！"),t.uploadLoading=!1)})).catch((function(e){console.log(e)}))},batchAddMoneyRequest:function(e){var t=this,o={url:e};Object(n["e"])(o).then((function(e){if(1===e.ret.errcode){t.$message.success("批量打钱成功！"),t.uploadLoading=!1;var o=e.url;window.open(t.dealShowFileSrc(o))}else t.$message.error("批量打钱失败，请重试！"),t.uploadLoading=!1})).catch((function(e){t.uploadLoading=!1,console.log(e)}))}}},Y=F,X=(o("9af5"),Object(d["a"])(Y,U,j,!1,null,"3cb69e58",null)),q=X.exports,V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("预设等级")])]),o("el-form",{ref:"setLevelForm",attrs:{"label-width":"120px",model:e.setLevelModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{size:"medium",clearable:""},model:{value:e.setLevelModel.userId,callback:function(t){e.$set(e.setLevelModel,"userId",t)},expression:"setLevelModel.userId"}})],1),o("el-form-item",{attrs:{label:"会员类型：",prop:"memberType"}},[o("el-select",{attrs:{size:"medium"},model:{value:e.setLevelModel.memberType,callback:function(t){e.$set(e.setLevelModel,"memberType",t)},expression:"setLevelModel.memberType"}},e._l(e.memberTypeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"原来等级：",prop:"source"}},[o("el-select",{attrs:{size:"medium"},model:{value:e.setLevelModel.source,callback:function(t){e.$set(e.setLevelModel,"source",t)},expression:"setLevelModel.source"}},e._l(e.memberLevel,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"要升到的等级：",prop:"target"}},[o("el-select",{attrs:{size:"medium"},model:{value:e.setLevelModel.target,callback:function(t){e.$set(e.setLevelModel,"target",t)},expression:"setLevelModel.target"}},e._l(e.memberLevel,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",loading:e.loading},on:{click:e.submit}},[e._v("确定")])],1)],1)],1)},G=[],J=(o("8e6e"),o("ac6a"),o("456d"),o("bd86")),K=o("5880");function Q(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function Z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(o),!0).forEach((function(t){Object(J["a"])(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Q(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var ee={name:"setUserLevel",data:function(){return{loading:!1,setLevelModel:{userId:"",memberType:"0",source:"2",target:"2"},ruleValidate:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}]},memberTypeList:{0:"普通",1:"小礼包 ",2:"大礼包 ",3:"虚拟",4:"课程 ",5:"直播"}}},computed:Z({},Object(K["mapState"])({memberLevel:function(e){return e.dict.memberLevel}})),methods:{submit:function(){var e=this;this.$refs.setLevelForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.setLevelModel))}))},setLoading:function(){this.loading=!1}}},te=ee,oe=Object(d["a"])(te,V,G,!1,null,"8da565d2",null),ae=oe.exports,ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("修改用户国家")])]),o("el-form",{ref:"changeCountryForm",attrs:{"label-width":"120px",model:e.changeCountryModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"注意：",prop:"userId"}},[o("div",[o("span",{staticStyle:{color:"red"}},[e._v("修改用户国家会自动将该用户的积分转换成新国家币种的积分")])]),o("div",[o("span",{staticStyle:{color:"red"}},[e._v("并且收支流水记录也会被转换为新币种对应的积分")])])]),o("el-form-item",{attrs:{label:"用户ID：",prop:"userId"}},[o("el-input",{staticStyle:{width:"210px"},attrs:{size:"medium",clearable:""},model:{value:e.changeCountryModel.userId,callback:function(t){e.$set(e.changeCountryModel,"userId",t)},expression:"changeCountryModel.userId"}})],1),o("el-form-item",{attrs:{label:"修改国家为：",prop:"newCountryCode"}},[o("el-select",{attrs:{filterable:"",clearable:"",size:"medium"},model:{value:e.changeCountryModel.newCountryCode,callback:function(t){e.$set(e.changeCountryModel,"newCountryCode",t)},expression:"changeCountryModel.newCountryCode"}},e._l(e.countryList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",loading:e.loading},on:{click:e.submit}},[e._v("确定")])],1)],1)],1)},re=[],ne={name:"changeCountry",data:function(){return{loading:!1,changeCountryModel:{userId:"",orgCountryCode:"",newCountryCode:""},ruleValidate:{userId:[{required:!0,message:"用户ID不能为空",trigger:"blur"}],orgCountryCode:[{required:!0,message:"原先国家不能为空",trigger:"blur"}],newCountryCode:[{required:!0,message:"修改国家不能为空",trigger:"blur"}]},countryList:[{label:"马来西亚",value:"MY"},{label:"新加坡",value:"SG"},{label:"泰国",value:"TH"},{label:"印尼",value:"ID"}]}},computed:{},methods:{submit:function(){var e=this;this.$refs.changeCountryForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.changeCountryModel))}))},setLoading:function(){this.loading=!1}}},se=ne,le=Object(d["a"])(se,ie,re,!1,null,"83810ce8",null),ce=le.exports,ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"basic-info-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("修改Fingo导师微信信息")])]),o("el-form",{ref:"mentorInfoForm",attrs:{"label-width":"120px",model:e.mentorInfoModel,rules:e.ruleValidate}},[o("el-form-item",{attrs:{label:"等级：",prop:"code"}},[o("el-select",{attrs:{size:"medium"},model:{value:e.mentorInfoModel.code,callback:function(t){e.$set(e.mentorInfoModel,"code",t)},expression:"mentorInfoModel.code"}},e._l(e.codeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"国家："}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"medium"},model:{value:e.mentorInfoModel.countryCode,callback:function(t){e.$set(e.mentorInfoModel,"countryCode",t)},expression:"mentorInfoModel.countryCode"}},e._l(e.countryList,(function(e,t){return o("el-option",{key:t,attrs:{label:e.nameEn+"/"+e.nameCn,value:e.shortCode}})})),1)],1),o("el-form-item",{attrs:{label:"昵称：",prop:"memberType"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.nickName,callback:function(t){e.$set(e.mentorInfoModel,"nickName",t)},expression:"mentorInfoModel.nickName"}})],1),o("el-form-item",{attrs:{label:"微信号：",prop:"wechatId"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.wechatId,callback:function(t){e.$set(e.mentorInfoModel,"wechatId",t)},expression:"mentorInfoModel.wechatId"}})],1),o("el-form-item",{attrs:{label:"whatsApp：",prop:"whatsApp"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.whatsApp,callback:function(t){e.$set(e.mentorInfoModel,"whatsApp",t)},expression:"mentorInfoModel.whatsApp"}})],1),o("el-form-item",{attrs:{label:"whatsApp群链接：",prop:"whatsAppLink"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.whatsAppLink,callback:function(t){e.$set(e.mentorInfoModel,"whatsAppLink",t)},expression:"mentorInfoModel.whatsAppLink"}})],1),o("el-form-item",{attrs:{label:"line：",prop:"lineId"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.lineId,callback:function(t){e.$set(e.mentorInfoModel,"lineId",t)},expression:"mentorInfoModel.lineId"}})],1),o("el-form-item",{attrs:{label:"line群链接：",prop:"lineLink"}},[o("el-input",{staticStyle:{width:"194px"},attrs:{size:"medium",clearable:""},model:{value:e.mentorInfoModel.lineLink,callback:function(t){e.$set(e.mentorInfoModel,"lineLink",t)},expression:"mentorInfoModel.lineLink"}})],1),o("el-form-item",{attrs:{label:"头像："}},[o("c-upload",{attrs:{fileList:e.mentorInfoModel.headImg,limit:1},on:{setData:e.setCoverImg}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",size:"medium",loading:e.loading},on:{click:e.submit}},[e._v("确定")])],1)],1)],1)},de=[],pe=o("f09b"),me={name:"setUserLevel",data:function(){return{loading:!1,mentorInfoModel:{code:"V3_FINGO_MASTER0",nickName:"",headImg:"",wechatId:"",whatsApp:"",countryCode:"",whatsAppLink:"",lineLink:"",lineId:""},ruleValidate:{},codeList:{V3_FINGO_MASTER0:"PS的fingo导师0",V3_FINGO_MASTER1:"PS的fingo导师1",V3_FINGO_MASTER2:"PS的fingo导师2",V4_V5_FINGO_MASTER:"AM和AT的Fingo导师",MERCHANTS_WILL_PICK_UP_PEOPLE:"招商会对接人"}}},computed:{countryList:function(){return this.$store.state.dict.countryList}},components:{cUpload:pe["a"]},methods:{setCoverImg:function(e){this.mentorInfoModel.headImg=e.data},submit:function(){var e=this;this.$refs.mentorInfoForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.mentorInfoModel))}))},setLoading:function(){this.loading=!1}}},he=me,fe=Object(d["a"])(he,ue,de,!1,null,"b4d5c5d4",null),ge=fe.exports,ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"batch-add-card"},[o("el-button",{staticClass:"batch-add-money",attrs:{type:"text"},on:{click:e.downloadTemp}},[e._v("导入模板下载")]),o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("批量导入注册")])]),o("el-upload",{attrs:{action:"",multiple:"","http-request":e.uploadFile,"show-file-list":!1}},[o("el-button",{attrs:{icon:"el-icon-upload",loading:e.uploadLoading,disable:e.uploadLoading,type:"primary",size:"medium"}},[e._v("批量注册用户名单导入")]),o("span",{staticClass:"import-tips"},[e._v(" ( 为避免导入失败，限制单次导入200条以内 ) ")])],1)],1)],1)},be=[],ye={name:"BatchRegister",data:function(){return{loading:!1,uploadLoading:!1,addPointModel:{userId:"",amount:0,memo:""},ruleValidate:{userId:[{required:!0,message:"不能为空",trigger:"blur"}],amount:[{required:!0,message:"不能为空",trigger:"blur"}],memo:[{required:!0,message:"不能为空",trigger:"blur"}]},FILE_ACCEPT:".xlsx,.xls"}},methods:{submit:function(){var e=this;this.$refs.addPointForm.validate((function(t){t&&(e.loading=!0,e.$emit("on-submit",e.addPointModel))}))},setEnable:function(){this.loading=!1},downloadTemp:function(){var e="https://file.fingo.shop/fingo/member/register_template.xls";window.open("".concat(e))},uploadFile:function(e){var t=this;this.uploadLoading=!0;var o=new FormData,a={fileName:e.file.name,type:"other"};o.append("file",e.file),o.append("param",JSON.stringify(a));var i="/file/rest/uploadservices/uploadfile";Object(W["a"])(i,o).then((function(e){"600"===e.status?t.batchRegisterRequest(e.original_link):(t.$message.error("文件上传失败，请重试！"),t.uploadLoading=!1)})).catch((function(e){console.log(e)}))},batchRegisterRequest:function(e){var t=this,o={url:e};Object(n["f"])(o).then((function(e){if(1===e.ret.errcode){t.$message.success("批量注册成功！"),t.uploadLoading=!1;var o=e.url;window.open(t.dealShowFileSrc(o))}else t.$message.error("批量注册失败，请重试！"),t.uploadLoading=!1})).catch((function(e){t.uploadLoading=!1,console.log(e)}))}}},Ce=ye,we=(o("d5d8"),Object(d["a"])(Ce,ve,be,!1,null,"125b2618",null)),xe=we.exports,ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",{staticClass:"batch-add-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("团队统计下载")]),o("span",{staticClass:"batch-add-span"},[e._v("可下载今日之前数据(不包括今日)")])]),o("div",{staticClass:"block"},[o("el-date-picker",{attrs:{"picker-options":e.pickerOptions,type:"date",placeholder:"选择日期"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),o("el-button",{staticClass:"batch-add-money",staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.downloadTemp}},[e._v("统计数据下载")])],1)])],1)},_e=[],Se={name:"downloadTeamStatistics",data:function(){return{value:"",url:"",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},methods:{formatDateTime:function(e){var t=new Date(e),o=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var i=t.getDate();return i=i<10?"0"+i:i,o+"-"+a+"-"+i},downloadTemp:function(){var e="https://file.fingo.shop/fingo/member/teams/user_team_".concat(this.formatDateTime(this.value),".xlsx");window.open("".concat(e)),this.value=""}}},Me=Se,Le=(o("d1d1"),Object(d["a"])(Me,ke,_e,!1,null,"8e43da2a",null)),Ie=Le.exports,Oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-card",{staticClass:"box-card"},[o("el-form",{ref:"form",attrs:{"label-width":"120px"}},[o("el-form-item",{attrs:{label:"用户手机号："}},[o("el-select",{staticStyle:{width:"120px"},attrs:{filterable:"",clearable:"",size:"medium",placeholder:"区号选择"},model:{value:e.param.countryAreaCode,callback:function(t){e.$set(e.param,"countryAreaCode",t)},expression:"param.countryAreaCode"}},e._l(e.areaCodeList,(function(e,t){return o("el-option",{key:t,attrs:{label:e,value:t}})})),1),o("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",clearable:""},model:{value:e.param.mobile,callback:function(t){e.$set(e.param,"mobile",t)},expression:"param.mobile"}})],1),o("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.userCode,expression:"userCode"}],attrs:{label:"验证码："}},[o("div",{staticClass:"flex"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.userCode,expression:"userCode"}],staticClass:"copy-content",domProps:{value:e.userCode},on:{input:function(t){t.target.composing||(e.userCode=t.target.value)}}}),o("el-button",{attrs:{type:"primary"},on:{click:e.copyData}},[e._v("复制")])],1)]),o("el-form-item",[o("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.onSubmit}},[e._v("发送")])],1)],1)],1)],1)},Te=[],Ne={data:function(){return{loading:!1,param:{mobile:""},areaCodeList:{6:"+6",62:"+62",65:"+65",66:"+66"},typeList:{1:"老用户",2:"新用户"},userCode:""}},methods:{onSubmit:function(){var e=this;this.loading=!0,Object(n["s"])(this.param).then((function(t){var o=t,a="";switch(o.ret.errcode){case 1:e.userCode=o.str;break;case 1049:a="手机号不能为空#Please enter a mobile number",e.$message.error(a);break;case 1105:a="手机号格式不正确#Please enter a valid mobile number",e.$message.error(a);break;default:a="未知错误";break}e.loading=!1})).catch((function(t){console.error(t),e.loading=!1}))},copyData:function(){var e=document.querySelector(".copy-content");e.select(),document.execCommand("Copy"),this.$message.success("复制成功")}}},Ae=Ne,Ee=(o("137e"),Object(d["a"])(Ae,Oe,Te,!1,null,"30399014",null)),$e=Ee.exports,De={data:function(){return{activeTab:"commission",upLevelLoading:!1,addPoint:{userId:"",amount:0,memo:""},addPointRules:{userId:[{required:!0,message:"不能为空",trigger:"blur"}],amount:[{required:!0,message:"不能为空",trigger:"blur"}],memo:[{required:!0,message:"不能为空",trigger:"blur"}]},pushUpLevel:{userId:""}}},components:{commission:m,commissionRecord:h["default"],userIncomeRecord:f["default"],payInfoSearch:g["default"],removeMobile:x,resetMobile:I,unbindRelation:$,bindRelation:R,addPoint:q,setUserLevel:ae,changeCountry:ce,modifyMentorInfo:ge,BatchRegister:xe,SendCode:$e,downloadTeamStatistics:Ie},methods:{handleTabClick:function(e){var t=e.name;switch(t){case"commissionRecord":this.$refs.commissionRecord.orderCommissionQuery();break;case"userIncomeRecord":this.$refs.userIncomeRecord.getUserIncomeList();break}},bindDisconnect:function(e){var t=this,o={userId:e.userId,operator:this.account};Object(n["h"])(o).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("断绑成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.unbindRelation.setEnable()}),(function(e){t.$refs.unbindRelation.setEnable()}))},bindChange:function(e){var t=this;e.account=this.account;var o=e;Object(n["g"])(o).then((function(e){t.$refs.bindRelation.setEnable();var o=e;1===o.ret.errcode?t.$message.success("绑定成功"):t.$message.error("ErrorCode:"+o.ret)}),(function(e){t.$refs.bindRelation.setEnable()}))},removeUserMobile:function(e){var t=this,o={mobile:e.mobile,countryAreaCode:e.countryAreaCode,operator:this.account};Object(n["r"])(o).then((function(e){var o=e;1===o.ret.errcode&&t.$message.success("注销成功"),t.$refs.removeMobile.confirmLoading=!1})).catch((function(e){t.$refs.removeMobile.confirmLoading=!1,console.error(e)}))},setUserMobile:function(e){var t=this;Object(n["v"])(e).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("绑定成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.resetMobile.confirmLoading=!1})).catch((function(e){console.error(e),t.$refs.resetMobile.confirmLoading=!1}))},publishUplevelEvent:function(){var e=this;if(!this.pushUpLevel.userId)return this.$message.warning("用户ID不能为空");this.upLevelLoading=!0;var t={userId:this.pushUpLevel.userId,operator:this.account};Object(n["q"])(t).then((function(t){var o=t;1===o.ret.errcode?e.$message.success("升级成功"):e.$message.error("ErrorCode:"+o.ret),e.upLevelLoading=!1})).catch((function(t){e.upLevelLoading=!1,console.log(t)}))},addMoney:function(e){var t=this;e.amount=e.amount+"",e.operator=this.account,Object(n["c"])(e).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("补积分成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.addPoint.setEnable()})).catch((function(e){console.log(e),t.$refs.addPoint.setEnable()}))},setUserLevel:function(e){var t=this;Object(n["w"])(e).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("预设等级成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.setUserLevel.setLoading()})).catch((function(e){console.log(e),t.$refs.setUserLevel.setLoading()}))},changeCountry:function(e){var t=this;Object(n["a"])(e).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("修改用户国家成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.changeCountry.setLoading()})).catch((function(e){console.log(e),t.$refs.changeCountry.setLoading()}))},confirmUpdateFingoInfo:function(e){var t=this,o={fingoMasterInfo:e};Object(n["u"])(o).then((function(e){var o=e;1===o.ret.errcode?t.$message.success("修改导师信息成功"):t.$message.error("ErrorCode:"+o.ret),t.$refs.modifyMentorInfo.setLoading()})).catch((function(e){console.log(e),t.$refs.modifyMentorInfo.setLoading()}))}},created:function(){var e=JSON.parse(Object(r["a"])("adminUserInfo"));this.account=e.account}},Be=De,Pe=(o("bf4d"),Object(d["a"])(Be,a,i,!1,null,"83c55dd6",null));t["default"]=Pe.exports},"60fb":function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return n}));var a=o("5c96"),i="https://file.fingo.shop";axios.defaults.timeout=45e3,axios.interceptors.request.use((function(e){return e}),(function(e){return a["Message"].error("请求超时"),Promise.resolve(e)}));var r=function(e,t){var o={headers:{"Content-Type":"multipart/form-data"}};return axios.post("".concat(i).concat(e),t,o).then((function(e){return e.data}))},n=function(e,t){var o={headers:{"Content-Type":"multipart/form-data"}};return axios.post("".concat(i).concat(e),t,o).then((function(e){return e.data}))}},"67ec":function(e,t,o){},"70f7":function(e,t,o){"use strict";t["a"]={data:function(){return{list:[],page:1,pageSize:20,total:0}},methods:{handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()}}}},"7e79":function(e,t,o){!function(t,o){e.exports=o()}(window,(function(){return function(e){var t={};function o(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,o){var a=o(2);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(a,i),a.locals&&(e.exports=a.locals)},function(e,t,o){"use strict";var a=o(0);o.n(a).a},function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(a),r=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[o].concat(r).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o})).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(a[r]=!0)}for(i=0;i<e.length;i++){var n=e[i];"number"==typeof n[0]&&a[n[0]]||(o&&!n[2]?n[2]=o:o&&(n[2]="("+n[2]+") and ("+o+")"),t.push(n))}},t}},function(e,t,o){var a={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),r=function(e){var t={};return function(e,o){if("function"==typeof e)return e();if(void 0===t[e]){var a=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,o);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}}(),n=null,s=0,l=[],c=o(5);function u(e,t){for(var o=0;o<e.length;o++){var i=e[o],r=a[i.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](i.parts[n]);for(;n<i.parts.length;n++)r.parts.push(g(i.parts[n],t))}else{var s=[];for(n=0;n<i.parts.length;n++)s.push(g(i.parts[n],t));a[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var o=[],a={},i=0;i<e.length;i++){var r=e[i],n=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};a[n]?a[n].parts.push(s):o.push(a[n]={id:n,parts:[s]})}return o}function p(e,t){var o=r(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=l[l.length-1];if("top"===e.insertAt)a?a.nextSibling?o.insertBefore(t,a.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),l.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(e.insertAt.before,o);o.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var a=function(){return o.nc}();a&&(e.attrs.nonce=a)}return f(t,e.attrs),p(e,t),t}function f(e,t){Object.keys(t).forEach((function(o){e.setAttribute(o,t[o])}))}function g(e,t){var o,a,i,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var l=s++;o=n||(n=h(t)),a=b.bind(null,o,l,!1),i=b.bind(null,o,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),p(e,t),t}(t),a=function(e,t,o){var a=o.css,i=o.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(a=c(a)),i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var n=new Blob([a],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(n),s&&URL.revokeObjectURL(s)}.bind(null,o,t),i=function(){m(o),o.href&&URL.revokeObjectURL(o.href)}):(o=h(t),a=function(e,t){var o=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),i=function(){m(o)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=d(e,t);return u(o,t),function(e){for(var i=[],r=0;r<o.length;r++){var n=o[r];(s=a[n.id]).refs--,i.push(s)}for(e&&u(d(e,t),t),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var v=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join("\n")}}();function b(e,t,o,a){var i=o?"":a.css;if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var r=document.createTextNode(i),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,a=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:e.scaleImg,mouseout:e.cancelScale}},[e.imgs?o("div",{staticClass:"cropper-box"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+e.x/e.scale+"px,"+e.y/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"}},[o("img",{ref:"cropperImg",attrs:{src:e.imgs,alt:"cropper-img"}})])]):e._e(),e._v(" "),o("div",{staticClass:"cropper-drag-box",class:{"cropper-move":e.move&&!e.crop,"cropper-crop":e.crop,"cropper-modal":e.cropping},on:{mousedown:e.startMove,touchstart:e.startMove}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:e.cropW+"px",height:e.cropH+"px",transform:"translate3d("+e.cropOffsertX+"px,"+e.cropOffsertY+"px,0)"}},[o("span",{staticClass:"cropper-view-box"},[o("img",{style:{width:e.trueWidth+"px",height:e.trueHeight+"px",transform:"scale("+e.scale+","+e.scale+") translate3d("+(e.x-e.cropOffsertX)/e.scale+"px,"+(e.y-e.cropOffsertY)/e.scale+"px,0)rotateZ("+90*e.rotate+"deg)"},attrs:{src:e.imgs,alt:"cropper-img"}})]),e._v(" "),o("span",{staticClass:"cropper-face cropper-move",on:{mousedown:e.cropMove,touchstart:e.cropMove}}),e._v(" "),e.info?o("span",{staticClass:"crop-info",style:{top:e.cropInfo.top}},[e._v(e._s(this.cropInfo.width)+" × "+e._s(this.cropInfo.height))]):e._e(),e._v(" "),e.fixedBox?e._e():o("span",[o("span",{staticClass:"crop-line line-w",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),o("span",{staticClass:"crop-line line-a",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),o("span",{staticClass:"crop-line line-s",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),o("span",{staticClass:"crop-line line-d",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point1",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point2",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,1)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point3",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,1)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,1)}}}),e._v(" "),o("span",{staticClass:"crop-point point4",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,1,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,1,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point5",on:{mousedown:function(t){e.changeCropSize(t,!0,!1,2,0)},touchstart:function(t){e.changeCropSize(t,!0,!1,2,0)}}}),e._v(" "),o("span",{staticClass:"crop-point point6",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,1,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,1,2)}}}),e._v(" "),o("span",{staticClass:"crop-point point7",on:{mousedown:function(t){e.changeCropSize(t,!1,!0,0,2)},touchstart:function(t){e.changeCropSize(t,!1,!0,0,2)}}}),e._v(" "),o("span",{staticClass:"crop-point point8",on:{mousedown:function(t){e.changeCropSize(t,!0,!0,2,2)},touchstart:function(t){e.changeCropSize(t,!0,!0,2,2)}}})])])])};a._withStripped=!0;var i={getData:function(e){return new Promise((function(t,o){var a={};(function(e){var t=null;return new Promise((function(o,a){if(e.src)if(/^data\:/i.test(e.src))t=function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),o=t.length,a=new ArrayBuffer(o),i=new Uint8Array(a),r=0;r<o;r++)i[r]=t.charCodeAt(r);return a}(e.src),o(t);else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){t=e.target.result,o(t)},function(e,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},o.send()}(e.src,(function(e){i.readAsArrayBuffer(e)}))}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";t=r.response,o(t),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else a("img error")}))})(e).then((function(e){a.arrayBuffer=e,a.orientation=function(e){var t,o,a,i,r,n,s,l,c,u=new DataView(e),d=u.byteLength;if(255===u.getUint8(0)&&216===u.getUint8(1))for(l=2;l<d;){if(255===u.getUint8(l)&&225===u.getUint8(l+1)){n=l;break}l++}if(n&&(o=n+10,"Exif"===function(e,t,o){var a,i="";for(a=t,o+=t;a<o;a++)i+=String.fromCharCode(e.getUint8(a));return i}(u,n+4,4)&&(r=u.getUint16(o),((i=18761===r)||19789===r)&&42===u.getUint16(o+2,i)&&(a=u.getUint32(o+4,i))>=8&&(s=o+a))),s)for(d=u.getUint16(s,i),c=0;c<d;c++)if(l=s+12*c+2,274===u.getUint16(l,i)){l+=8,t=u.getUint16(l,i);break}return t}(e),t(a)})).catch((function(e){o(e)}))}))}},r=i,n={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:Number,default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var e={};if(e.top=this.cropOffsertY>21?"-21px":"0px",e.width=this.cropW>0?this.cropW:0,e.height=this.cropH>0?this.cropH:0,this.infoTrue){var t=1;this.high&&!this.full&&(t=window.devicePixelRatio),1!==this.enlarge&!this.full&&(t=Math.abs(Number(this.enlarge))),e.width=e.width*t,e.height=e.height*t,this.full&&(e.width=e.width/this.scale,e.height=e.height/this.scale)}return e.width=e.width.toFixed(0),e.height=e.height.toFixed(0),e},isIE:function(){navigator.userAgent;var e=!!window.ActiveXObject||"ActiveXObject"in window;return e},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(e){""!==e&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(e,t){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(e){e&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{checkOrientationImage:function(e,t,o,a){var i=this,r=document.createElement("canvas"),n=r.getContext("2d");switch(n.save(),t){case 2:r.width=o,r.height=a,n.translate(o,0),n.scale(-1,1);break;case 3:r.width=o,r.height=a,n.translate(o/2,a/2),n.rotate(180*Math.PI/180),n.translate(-o/2,-a/2);break;case 4:r.width=o,r.height=a,n.translate(0,a),n.scale(1,-1);break;case 5:r.height=o,r.width=a,n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:r.width=a,r.height=o,n.translate(a/2,o/2),n.rotate(90*Math.PI/180),n.translate(-o/2,-a/2);break;case 7:r.height=o,r.width=a,n.rotate(.5*Math.PI),n.translate(o,-a),n.scale(-1,1);break;case 8:r.height=o,r.width=a,n.translate(a/2,o/2),n.rotate(-90*Math.PI/180),n.translate(-o/2,-a/2);break;default:r.width=o,r.height=a}n.drawImage(e,0,0,o,a),n.restore(),r.toBlob((function(e){var t=URL.createObjectURL(e);URL.revokeObjectURL(i.imgs),i.imgs=t}),"image/"+this.outputType,1)},checkedImg:function(){var e=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var t=new Image;if(t.onload=function(){if(""===e.img)return e.$emit("imgLoad","error"),e.$emit("img-load","error"),!1;var o=t.width,a=t.height;r.getData(t).then((function(i){e.orientation=i.orientation||1;var r=e.maxImgSize;!e.orientation&&o<r&a<r?e.imgs=e.img:(o>r&&(a=a/o*r,o=r),a>r&&(o=o/a*r,a=r),e.checkOrientationImage(t,e.orientation,o,a))}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(t.crossOrigin=""),this.isIE){var o=new XMLHttpRequest;o.onload=function(){var e=URL.createObjectURL(this.response);t.src=e},o.open("GET",this.img,!0),o.responseType="blob",o.send()}else t.src=this.img},startMove:function(e){if(e.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=(e.clientX?e.clientX:e.touches[0].clientX)-this.x,this.moveY=(e.clientY?e.clientY:e.touches[0].clientY)-this.y,e.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==e.touches.length&&(this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=e.offsetX?e.offsetX:e.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=e.offsetY?e.offsetY:e.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(e){var t=this;e.preventDefault();var o=this.scale,a=this.touches[0].clientX,i=this.touches[0].clientY,r=e.touches[0].clientX,n=e.touches[0].clientY,s=this.touches[1].clientX,l=this.touches[1].clientY,c=e.touches[1].clientX,u=e.touches[1].clientY,d=Math.sqrt(Math.pow(a-s,2)+Math.pow(i-l,2)),p=Math.sqrt(Math.pow(r-c,2)+Math.pow(n-u,2))-d,m=1,h=(m=(m=m/this.trueWidth>m/this.trueHeight?m/this.trueHeight:m/this.trueWidth)>.1?.1:m)*p;if(!this.touchNow){if(this.touchNow=!0,p>0?o+=Math.abs(h):p<0&&o>Math.abs(h)&&(o-=Math.abs(h)),this.touches=e.touches,setTimeout((function(){t.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o}},cancelTouchScale:function(e){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(e){var t=this;if(e.preventDefault(),e.touches&&2===e.touches.length)return this.touches=e.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var o,a,i=e.clientX?e.clientX:e.touches[0].clientX,r=e.clientY?e.clientY:e.touches[0].clientY;o=i-this.moveX,a=r-this.moveY,this.$nextTick((function(){if(t.centerBox){var e,i,r,n,s=t.getImgAxis(o,a,t.scale),l=t.getCropAxis(),c=t.trueHeight*t.scale,u=t.trueWidth*t.scale;switch(t.rotate){case 1:case-1:case 3:case-3:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2+(c-u)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2+(u-c)/2,r=e-c+t.cropW,n=i-u+t.cropH;break;default:e=t.cropOffsertX-t.trueWidth*(1-t.scale)/2,i=t.cropOffsertY-t.trueHeight*(1-t.scale)/2,r=e-u+t.cropW,n=i-c+t.cropH}s.x1>=l.x1&&(o=e),s.y1>=l.y1&&(a=i),s.x2<=l.x2&&(o=r),s.y2<=l.y2&&(a=n)}t.x=o,t.y=a,t.$emit("imgMoving",{moving:!0,axis:t.getImgAxis()}),t.$emit("img-moving",{moving:!0,axis:t.getImgAxis()})}))},leaveImg:function(e){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(e){var t=this;e.preventDefault();var o=this.scale,a=e.deltaY||e.wheelDelta;a=navigator.userAgent.indexOf("Firefox")>0?30*a:a,this.isIE&&(a=-a);var i=this.coe,r=(i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)*a;r<0?o+=Math.abs(r):o>Math.abs(r)&&(o-=Math.abs(r));var n=r<0?"add":"reduce";if(n!==this.coeStatus&&(this.coeStatus=n,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){t.scaling=!1,t.coe=t.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,o))return!1;this.scale=o},changeScale:function(e){var t=this.scale;e=e||1;var o=20;if((e*=o=o/this.trueWidth>o/this.trueHeight?o/this.trueHeight:o/this.trueWidth)>0?t+=Math.abs(e):t>Math.abs(e)&&(t-=Math.abs(e)),!this.checkoutImgAxis(this.x,this.y,t))return!1;this.scale=t},createCrop:function(e){var t=this;e.preventDefault();var o=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,a=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0;this.$nextTick((function(){var e=o-t.cropX,i=a-t.cropY;if(e>0?(t.cropW=e+t.cropChangeX>t.w?t.w-t.cropChangeX:e,t.cropOffsertX=t.cropChangeX):(t.cropW=t.w-t.cropChangeX+Math.abs(e)>t.w?t.cropChangeX:Math.abs(e),t.cropOffsertX=t.cropChangeX+e>0?t.cropChangeX+e:0),t.fixed){var r=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];r+t.cropOffsertY>t.h?(t.cropH=t.h-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0],t.cropOffsertX=e>0?t.cropChangeX:t.cropChangeX-t.cropW):t.cropH=r,t.cropOffsertY=t.cropOffsertY}else i>0?(t.cropH=i+t.cropChangeY>t.h?t.h-t.cropChangeY:i,t.cropOffsertY=t.cropChangeY):(t.cropH=t.h-t.cropChangeY+Math.abs(i)>t.h?t.cropChangeY:Math.abs(i),t.cropOffsertY=t.cropChangeY+i>0?t.cropChangeY+i:0)}))},changeCropSize:function(e,t,o,a,i){e.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=t,this.canChangeY=o,this.changeCropTypeX=a,this.changeCropTypeY=i,this.cropX=e.clientX?e.clientX:e.touches[0].clientX,this.cropY=e.clientY?e.clientY:e.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(e){var t=this;e.preventDefault();var o=e.clientX?e.clientX:e.touches?e.touches[0].clientX:0,a=e.clientY?e.clientY:e.touches?e.touches[0].clientY:0,i=this.w,r=this.h,n=0,s=0;if(this.centerBox){var l=this.getImgAxis(),c=l.x2,u=l.y2;n=l.x1>0?l.x1:0,s=l.y1>0?l.y1:0,i>c&&(i=c),r>u&&(r=u)}this.$nextTick((function(){var e=o-t.cropX,l=a-t.cropY;if(t.canChangeX&&(1===t.changeCropTypeX?t.cropOldW-e>0?(t.cropW=i-t.cropChangeX-e<=i-n?t.cropOldW-e:t.cropOldW+t.cropChangeX-n,t.cropOffsertX=i-t.cropChangeX-e<=i-n?t.cropChangeX+e:n):(t.cropW=Math.abs(e)+t.cropChangeX<=i?Math.abs(e)-t.cropOldW:i-t.cropOldW-t.cropChangeX,t.cropOffsertX=t.cropChangeX+t.cropOldW):2===t.changeCropTypeX&&(t.cropOldW+e>0?(t.cropW=t.cropOldW+e+t.cropOffsertX<=i?t.cropOldW+e:i-t.cropOffsertX,t.cropOffsertX=t.cropChangeX):(t.cropW=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-n?Math.abs(e+t.cropOldW):t.cropChangeX-n,t.cropOffsertX=i-t.cropChangeX+Math.abs(e+t.cropOldW)<=i-n?t.cropChangeX-Math.abs(e+t.cropOldW):n))),t.canChangeY&&(1===t.changeCropTypeY?t.cropOldH-l>0?(t.cropH=r-t.cropChangeY-l<=r-s?t.cropOldH-l:t.cropOldH+t.cropChangeY-s,t.cropOffsertY=r-t.cropChangeY-l<=r-s?t.cropChangeY+l:s):(t.cropH=Math.abs(l)+t.cropChangeY<=r?Math.abs(l)-t.cropOldH:r-t.cropOldH-t.cropChangeY,t.cropOffsertY=t.cropChangeY+t.cropOldH):2===t.changeCropTypeY&&(t.cropOldH+l>0?(t.cropH=t.cropOldH+l+t.cropOffsertY<=r?t.cropOldH+l:r-t.cropOffsertY,t.cropOffsertY=t.cropChangeY):(t.cropH=r-t.cropChangeY+Math.abs(l+t.cropOldH)<=r-s?Math.abs(l+t.cropOldH):t.cropChangeY-s,t.cropOffsertY=r-t.cropChangeY+Math.abs(l+t.cropOldH)<=r-s?t.cropChangeY-Math.abs(l+t.cropOldH):s))),t.canChangeX&&t.fixed){var c=t.cropW/t.fixedNumber[0]*t.fixedNumber[1];c+t.cropOffsertY>r?(t.cropH=r-t.cropOffsertY,t.cropW=t.cropH/t.fixedNumber[1]*t.fixedNumber[0]):t.cropH=c}if(t.canChangeY&&t.fixed){var u=t.cropH/t.fixedNumber[1]*t.fixedNumber[0];u+t.cropOffsertX>i?(t.cropW=i-t.cropOffsertX,t.cropH=t.cropW/t.fixedNumber[0]*t.fixedNumber[1]):t.cropW=u}}))},checkCropLimitSize:function(){this.cropW,this.cropH;var e=this.limitMinSize,t=new Array;return t=Array.isArray[e]?e:[e,e],[parseFloat(t[0]),parseFloat(t[1])]},changeCropEnd:function(e){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(e){if(e.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(e),!1;if(e.touches&&2===e.touches.length)return this.crop=!1,this.startMove(e),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var t,o,a=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY;t=a-this.cropOffsertX,o=i-this.cropOffsertY,this.cropX=t,this.cropY=o,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(e,t){var o=this,a=0,i=0;e&&(e.preventDefault(),a=e.clientX?e.clientX:e.touches[0].clientX,i=e.clientY?e.clientY:e.touches[0].clientY),this.$nextTick((function(){var e,r,n=a-o.cropX,s=i-o.cropY;if(t&&(n=o.cropOffsertX,s=o.cropOffsertY),e=n<=0?0:n+o.cropW>o.w?o.w-o.cropW:n,r=s<=0?0:s+o.cropH>o.h?o.h-o.cropH:s,o.centerBox){var l=o.getImgAxis();e<=l.x1&&(e=l.x1),e+o.cropW>l.x2&&(e=l.x2-o.cropW),r<=l.y1&&(r=l.y1),r+o.cropH>l.y2&&(r=l.y2-o.cropH)}o.cropOffsertX=e,o.cropOffsertY=r,o.$emit("cropMoving",{moving:!0,axis:o.getCropAxis()}),o.$emit("crop-moving",{moving:!0,axis:o.getCropAxis()})}))},getImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var a={x1:0,x2:0,y1:0,y2:0},i=this.trueWidth*o,r=this.trueHeight*o;switch(this.rotate){case 0:a.x1=e+this.trueWidth*(1-o)/2,a.x2=a.x1+this.trueWidth*o,a.y1=t+this.trueHeight*(1-o)/2,a.y2=a.y1+this.trueHeight*o;break;case 1:case-1:case 3:case-3:a.x1=e+this.trueWidth*(1-o)/2+(i-r)/2,a.x2=a.x1+this.trueHeight*o,a.y1=t+this.trueHeight*(1-o)/2+(r-i)/2,a.y2=a.y1+this.trueWidth*o;break;default:a.x1=e+this.trueWidth*(1-o)/2,a.x2=a.x1+this.trueWidth*o,a.y1=t+this.trueHeight*(1-o)/2,a.y2=a.y1+this.trueHeight*o}return a},getCropAxis:function(){var e={x1:0,x2:0,y1:0,y2:0};return e.x1=this.cropOffsertX,e.x2=e.x1+this.cropW,e.y1=this.cropOffsertY,e.y2=e.y1+this.cropH,e},leaveCrop:function(e){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(e){var t=this,o=document.createElement("canvas"),a=new Image,i=this.rotate,r=this.trueWidth,n=this.trueHeight,s=this.cropOffsertX,l=this.cropOffsertY;function c(e,t){o.width=Math.round(e),o.height=Math.round(t)}a.onload=function(){if(0!==t.cropW){var u=o.getContext("2d"),d=1;t.high&!t.full&&(d=window.devicePixelRatio),1!==t.enlarge&!t.full&&(d=Math.abs(Number(t.enlarge)),console.log(d));var p=t.cropW*d,m=t.cropH*d,h=r*t.scale*d,f=n*t.scale*d,g=(t.x-s+t.trueWidth*(1-t.scale)/2)*d,v=(t.y-l+t.trueHeight*(1-t.scale)/2)*d;switch(c(p,m),u.save(),i){case 0:t.full?(c(p/t.scale,m/t.scale),u.drawImage(a,g/t.scale,v/t.scale,h/t.scale,f/t.scale)):u.drawImage(a,g,v,h,f);break;case 1:case-3:t.full?(c(p/t.scale,m/t.scale),g=g/t.scale+(h/t.scale-f/t.scale)/2,v=v/t.scale+(f/t.scale-h/t.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(a,v,-g-f/t.scale,h/t.scale,f/t.scale)):(g+=(h-f)/2,v+=(f-h)/2,u.rotate(90*i*Math.PI/180),u.drawImage(a,v,-g-f,h,f));break;case 2:case-2:t.full?(c(p/t.scale,m/t.scale),u.rotate(90*i*Math.PI/180),g/=t.scale,v/=t.scale,u.drawImage(a,-g-h/t.scale,-v-f/t.scale,h/t.scale,f/t.scale)):(u.rotate(90*i*Math.PI/180),u.drawImage(a,-g-h,-v-f,h,f));break;case 3:case-1:t.full?(c(p/t.scale,m/t.scale),g=g/t.scale+(h/t.scale-f/t.scale)/2,v=v/t.scale+(f/t.scale-h/t.scale)/2,u.rotate(90*i*Math.PI/180),u.drawImage(a,-v-h/t.scale,g,h/t.scale,f/t.scale)):(g+=(h-f)/2,v+=(f-h)/2,u.rotate(90*i*Math.PI/180),u.drawImage(a,-v-h,g,h,f));break;default:t.full?(c(p/t.scale,m/t.scale),u.drawImage(a,g/t.scale,v/t.scale,h/t.scale,f/t.scale)):u.drawImage(a,g,v,h,f)}u.restore()}else{var b=r*t.scale,y=n*t.scale,C=o.getContext("2d");switch(C.save(),i){case 0:c(b,y),C.drawImage(a,0,0,b,y);break;case 1:case-3:c(y,b),C.rotate(90*i*Math.PI/180),C.drawImage(a,0,-y,b,y);break;case 2:case-2:c(b,y),C.rotate(90*i*Math.PI/180),C.drawImage(a,-b,-y,b,y);break;case 3:case-1:c(y,b),C.rotate(90*i*Math.PI/180),C.drawImage(a,-b,0,b,y);break;default:c(b,y),C.drawImage(a,0,0,b,y)}C.restore()}e(o)},"data"!==this.img.substr(0,4)&&(a.crossOrigin="Anonymous"),a.src=this.imgs},getCropData:function(e){var t=this;this.getCropChecked((function(o){e(o.toDataURL("image/"+t.outputType,t.outputSize))}))},getCropBlob:function(e){var t=this;this.getCropChecked((function(o){o.toBlob((function(t){return e(t)}),"image/"+t.outputType,t.outputSize)}))},showPreview:function(){var e=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){e.isCanShow=!0}),16);var t=this.cropW,o=this.cropH,a=this.scale,i={};i.div={width:"".concat(t,"px"),height:"".concat(o,"px")};var r=(this.x-this.cropOffsertX)/a,n=(this.y-this.cropOffsertY)/a;i.w=t,i.h=o,i.url=this.imgs,i.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(a,")translate3d(").concat(r,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},i.html='\n      <div class="show-preview" style="width: '.concat(i.w,"px; height: ").concat(i.h,'px,; overflow: hidden">\n        <div style="width: ').concat(t,"px; height: ").concat(o,'px">\n          <img src=').concat(i.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(a,")translate3d(").concat(r,"px, ").concat(n,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",i),this.$emit("real-time",i)},reload:function(){var e=this,t=new Image;t.onload=function(){e.w=parseFloat(window.getComputedStyle(e.$refs.cropper).width),e.h=parseFloat(window.getComputedStyle(e.$refs.cropper).height),e.trueWidth=t.width,e.trueHeight=t.height,e.original?e.scale=1:e.scale=e.checkedMode(),e.$nextTick((function(){e.x=-(e.trueWidth-e.trueWidth*e.scale)/2+(e.w-e.trueWidth*e.scale)/2,e.y=-(e.trueHeight-e.trueHeight*e.scale)/2+(e.h-e.trueHeight*e.scale)/2,e.loading=!1,e.autoCrop&&e.goAutoCrop(),e.$emit("img-load","success"),e.$emit("imgLoad","success"),setTimeout((function(){e.showPreview()}),20)}))},t.onerror=function(){e.$emit("imgLoad","error"),e.$emit("img-load","error")},t.src=this.imgs},checkedMode:function(){var e=1,t=(this.trueWidth,this.trueHeight),o=this.mode.split(" ");switch(o[0]){case"contain":this.trueWidth>this.w&&(e=this.w/this.trueWidth),this.trueHeight*e>this.h&&(e=this.h/this.trueHeight);break;case"cover":(t*=e=this.w/this.trueWidth)<this.h&&(e=(t=this.h)/this.trueHeight);break;default:try{var a=o[0];if(-1!==a.search("px")&&(a=a.replace("px",""),e=parseFloat(a)/this.trueWidth),-1!==a.search("%")&&(a=a.replace("%",""),e=parseFloat(a)/100*this.w/this.trueWidth),2===o.length&&"auto"===a){var i=o[1];-1!==i.search("px")&&(i=i.replace("px",""),e=(t=parseFloat(i))/this.trueHeight),-1!==i.search("%")&&(i=i.replace("%",""),e=(t=parseFloat(i)/100*this.h)/this.trueHeight)}}catch(t){e=1}}return e},goAutoCrop:function(e,t){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var o=this.w,a=this.h;if(this.centerBox){var i=this.trueWidth*this.scale,r=this.trueHeight*this.scale;o=i<o?i:o,a=r<a?r:a}var n=e||parseFloat(this.autoCropWidth),s=t||parseFloat(this.autoCropHeight);0!==n&&0!==s||(n=.8*o,s=.8*a),n=n>o?o:n,s=s>a?a:s,this.fixed&&(s=n/this.fixedNumber[0]*this.fixedNumber[1]),s>this.h&&(n=(s=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(n,s)}},changeCrop:function(e,t){var o=this;if(this.centerBox){var a=this.getImgAxis();e>a.x2-a.x1&&(t=(e=a.x2-a.x1)/this.fixedNumber[0]*this.fixedNumber[1]),t>a.y2-a.y1&&(e=(t=a.y2-a.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=e,this.cropH=t,this.checkCropLimitSize(),this.$nextTick((function(){o.cropOffsertX=(o.w-o.cropW)/2,o.cropOffsertY=(o.h-o.cropH)/2,o.centerBox&&o.moveCrop(null,!0)}))},refresh:function(){var e=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){e.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(e,t,o){e=e||this.x,t=t||this.y,o=o||this.scale;var a=!0;if(this.centerBox){var i=this.getImgAxis(e,t,o),r=this.getCropAxis();i.x1>=r.x1&&(a=!1),i.x2<=r.x2&&(a=!1),i.y1>=r.y1&&(a=!1),i.y2<=r.y2&&(a=!1)}return a}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var e=this,t=navigator.userAgent;this.isIOS=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,o,a){for(var i=atob(this.toDataURL(o,a).split(",")[1]),r=i.length,n=new Uint8Array(r),s=0;s<r;s++)n[s]=i.charCodeAt(s);t(new Blob([n],{type:e.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)}};o(1);var s=function(e,t,o,a,i,r,n,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=o,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}(n,a,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var l=s.exports;o.d(t,"VueCropper",(function(){return l}));var c=function(e){e.component("VueCropper",l)};"undefined"!=typeof window&&window.Vue&&c(window.Vue),t.default={version:"0.5.2",install:c,VueCropper:l,vueCropper:l}}])}))},"9af5":function(e,t,o){"use strict";var a=o("44cb"),i=o.n(a);i.a},b0eb:function(e,t,o){},b3b7:function(e,t,o){"use strict";var a=o("dd5e"),i=o.n(a);i.a},bf4d:function(e,t,o){"use strict";var a=o("0a79"),i=o.n(a);i.a},c33a:function(e,t,o){"use strict";var a=o("4216"),i=o.n(a);i.a},c892:function(e,t,o){"use strict";var a=o("1e57"),i=o.n(a);i.a},d1d1:function(e,t,o){"use strict";var a=o("67ec"),i=o.n(a);i.a},d2b4:function(e,t,o){},d5d8:function(e,t,o){"use strict";var a=o("3d21"),i=o.n(a);i.a},dd5e:function(e,t,o){},e566:function(e,t,o){"use strict";var a=o("2e4a"),i=o.n(a);i.a},e654:function(e,t,o){"use strict";var a=o("e837"),i=o.n(a);i.a},e837:function(e,t,o){},ec5c:function(e,t,o){},f381:function(e,t,o){"use strict";var a=o("b0eb"),i=o.n(a);i.a},f741:function(e,t,o){"use strict";var a=o("ec5c"),i=o.n(a);i.a}}]);