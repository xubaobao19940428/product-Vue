(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c341d16"],{"22f8":function(t,e,a){"use strict";var i=a("d75b"),o=a.n(i);o.a},"376d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{staticClass:"board-tab",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"拼团数据看板",name:"board"}},[a("data-board",{attrs:{dataHouseCrux:t.dataHouseCrux,dataHouseProduct:t.dataHouseProduct,dataHouseCountry:t.dataHouseCountry}})],1)],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fright-databoard"},[a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"title"},[t._v("拼团关键数据")]),a("div",{staticClass:"filter-container"},[a("el-form",{ref:"indexFilterForm",attrs:{inline:"","label-width":"90px",model:t.queryData}},[a("el-form-item",{staticClass:"filter-item",attrs:{label:"选择日期：",prop:"timeList"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"medium",type:"daterange",clearable:!1,"picker-options":t.pickerOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:t.queryData.timeList,callback:function(e){t.$set(t.queryData,"timeList",e)},expression:"queryData.timeList"}})],1),a("el-form-item",{staticClass:"filter-item",attrs:{label:"拼团类型：",prop:"status"}},[a("el-select",{attrs:{size:"medium"},model:{value:t.queryData.groupType,callback:function(e){t.$set(t.queryData,"groupType",e)},expression:"queryData.groupType"}},t._l(t.dataHouseCrux,(function(t,e){return a("el-option",{key:e,attrs:{label:t.itemName,value:t.itemCode}})})),1)],1),a("el-form-item",{staticClass:"filter-item",attrs:{label:"国家：",prop:"countryCode"}},[a("el-select",{attrs:{size:"medium"},model:{value:t.queryData.countryCode,callback:function(e){t.$set(t.queryData,"countryCode",e)},expression:"queryData.countryCode"}},t._l(t.dataHouseCountry,(function(t,e){return a("el-option",{key:e,attrs:{label:t.itemName,value:t.itemCode}})})),1)],1),a("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:t.search}},[t._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:t.resetSearch}},[t._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"日期",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.dateDay))])]}}])}),a("el-table-column",{attrs:{label:"当日开团数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.groupTotal))])]}}])}),a("el-table-column",{attrs:{label:"当日开团成功数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.groupTotalSuccess))])]}}])}),a("el-table-column",{attrs:{label:"当日拼团订单数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.groupOrderTotal))])]}}])}),a("el-table-column",{attrs:{label:"首页拼团入口PV(UV)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.indexEntryNum))])]}}])}),a("el-table-column",{attrs:{label:"PS店铺页拼团入口PV(UV)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.psShopEntryNum))])]}}])}),a("el-table-column",{attrs:{label:"个人中心拼团入口PV(UV)",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.accountEntryNum))])]}}])}),a("el-table-column",{attrs:{label:"当日GMV",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.gmv))])]}}])}),a("el-table-column",{attrs:{label:"历史拼团订单数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.groupOrderTotalHistory))])]}}])}),a("el-table-column",{attrs:{label:"累计GMV",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.gmvTotal))])]}}])})],1),a("div",{staticClass:"page-wrapper"},[a("el-pagination",{attrs:{"current-page":t.queryData.page.pageNum,"page-sizes":[10,20,30,50],"page-size":t.queryData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.queryData.total},on:{"size-change":t.handleSizeChanges,"current-change":t.handleCurrentChanges}})],1)],1)]),a("el-card",{attrs:{shadow:"always"}},[a("div",{staticClass:"title",staticStyle:{display:"flex","justify-content":"space-between"}},[a("span",[t._v("拼团商品数据")]),a("el-button-group",{staticStyle:{padding:"3px 0"}},t._l(t.buildCheckButton,(function(e,i){return a("el-button",{key:i,staticClass:"btn",class:{isactive:t.isChange===i},on:{click:function(a){return t.clickType(i,e.value)}}},[t._v(t._s(e.name))])})),1)],1),a("div",{staticClass:"filter-container"},[a("el-form",{ref:"indexFilterForm",attrs:{inline:"","label-width":"90px",model:t.initData}},[a("el-form-item",{staticClass:"filter-item",attrs:{label:"选择日期：",prop:"timeList"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"medium",type:"daterange",clearable:!1,"picker-options":t.pickerLastOptions,"start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:t.changeTime},model:{value:t.initData.timeList,callback:function(e){t.$set(t.initData,"timeList",e)},expression:"initData.timeList"}})],1),a("el-form-item",{staticClass:"filter-item",attrs:{label:"商品ID：",prop:"status"}},[a("el-input",{attrs:{placeholder:"请输入",size:"medium"},model:{value:t.initData.product,callback:function(e){t.$set(t.initData,"product",e)},expression:"initData.product"}})],1),a("el-form-item",{staticClass:"filter-item",attrs:{label:"拼团类型：",prop:"countryCode"}},[a("el-select",{attrs:{size:"medium"},model:{value:t.initData.groupType,callback:function(e){t.$set(t.initData,"groupType",e)},expression:"initData.groupType"}},t._l(t.dataHouseCrux,(function(t,e){return a("el-option",{key:e,attrs:{label:t.itemName,value:t.itemCode}})})),1)],1),a("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){return t.commonExport(t.initData)}}},[t._v("数据导出")]),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:t.initSearch}},[t._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:t.initResetSearch}},[t._v("重置")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableInitData,border:""},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{label:"商品名称",width:"300",align:"center",fixed:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"product"},[a("img",{staticClass:"product-img",attrs:{src:t.dealShowFileSrc(e.row.productPic)}}),a("div",{staticClass:"product-name"},[t._v(t._s(e.row.productName))])])]}}])}),a("el-table-column",{attrs:{label:"商品ID",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.productId))])]}}])}),a("el-table-column",{attrs:{label:"订单销量",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.orderNum))])]}}])}),a("el-table-column",{attrs:{label:"曝光PV",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.productViewPv))])]}}])}),a("el-table-column",{attrs:{label:"曝光UV",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.productViewUv))])]}}])}),a("el-table-column",{attrs:{label:"点击PV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.productClickPv))])]}}])}),a("el-table-column",{attrs:{label:"点击UV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.productClickUv))])]}}])}),a("el-table-column",{attrs:{label:"点击转化率",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.clickPerView))])]}}])}),a("el-table-column",{attrs:{label:"详情页点击开团PV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.createGroupPv))])]}}])}),a("el-table-column",{attrs:{label:"详情页点击开团UV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.createGroupUv))])]}}])}),a("el-table-column",{attrs:{label:"详情页点击参团PV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.joinGroupPv))])]}}])}),a("el-table-column",{attrs:{label:"详情页点击参团UV数",width:"200",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.joinGroupUv))])]}}])}),a("el-table-column",{attrs:{label:"规格确认PV数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.specSelectPv))])]}}])}),a("el-table-column",{attrs:{label:"规格确认UV数",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.specSelectUv))])]}}])}),a("el-table-column",{attrs:{label:"参团支付成功",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.joinPaidNum))])]}}])}),a("el-table-column",{attrs:{label:"开团支付成功",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.createPaidNum))])]}}])}),a("el-table-column",{attrs:{label:"订单金额",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.orderAmount))])]}}])})],1),a("div",{staticClass:"page-wrapper"},[a("el-pagination",{attrs:{"page-sizes":[10,20,30,50],"page-size":t.initData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.initData.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])],1)},r=[],s=(a("c5f6"),a("6b54"),a("e15b")),u=a("45f1"),l={data:function(){return{isChange:0,buildCheckButton:[{name:"全部",value:"All"},{name:"MY",value:"MY"},{name:"TH",value:"TH"},{name:"SG",value:"SG"},{name:"ID",value:"ID"}],queryData:{timeList:[],countryCode:"4",groupType:"5",page:{pageNum:1,pageSize:10,pagingSwitch:!0},total:0},initData:{timeList:[],product:"",groupType:"5",orderType:"37",orderName:"desc",countryCode:"All",page:{pageNum:1,pageSize:10,pagingSwitch:!0},total:0},nowDate:this.timestampToTime((new Date).getTime()-864e5),pickerOptions:{disabledDate:function(t){return t.getTime()-864e5>=1e3*moment().startOf("day").unix()}},pickerLastOptions:{disabledDate:function(t){return t.getTime()>(new Date).getTime()-864e5}},total:0,totals:0,tableData:[],tableInitData:[],lastMonthDateOnly:this.timestampToTime((new Date).getTime()-26784e5)}},props:{dataHouseCrux:Array,dataHouseProduct:Array,dataHouseCountry:Array},created:function(){this.queryData.timeList=[this.lastMonthDate,this.nowEndDate],this.initData.timeList=[this.lastMonthDateOnly,this.nowDate]},mounted:function(){this.getGroupProductData(),this.getGroupImportantData()},computed:{countryList:function(){return this.$store.state.dict.countryList},nowEndDate:function(){return this.$store.state.globalNum.nowEndDate},lastMonthDate:function(){return this.$store.state.globalNum.lastMonthDate}},methods:{changeTime:function(t){console.log(t)},clickType:function(t,e){this.isChange=t,this.initData.countryCode=e,this.getGroupProductData()},handleSizeChanges:function(t){this.queryData.page.pageSize=t,this.getGroupImportantData()},handleCurrentChanges:function(t){this.queryData.page.pageNum=t,this.getGroupImportantData()},handleSizeChange:function(t){this.initData.page.pageSize=t,this.getGroupProductData()},handleCurrentChange:function(t){this.initData.page.pageNum=t,this.getGroupProductData()},search:function(){this.getGroupImportantData()},getGroupImportantData:function(){var t=this,e={startTime:moment(this.queryData.timeList[0]).valueOf().toString(),endTime:this.timeTotimestamp(this.queryData.timeList[1]).toString(),groupType:this.queryData.groupType,countryCode:this.queryData.countryCode,page:this.queryData.page};Object(s["b"])(e).then((function(e){1===e.ret.errcode&&(t.tableData=e.groupImportantDataInfo,t.queryData.total=Number(e.total))}))},resetSearch:function(){this.queryData.startTime=this.nowEndDate,this.queryData.endTime=this.lastMonthDate,this.queryData.groupType="5",this.queryData.countryCode="4"},initSearch:function(){this.getGroupProductData()},sortChange:function(t){switch("ascending"===t.order?this.initData.orderName="asc":this.initData.orderName="desc",t.column.label){case"订单销量":this.initData.orderType="30";break;case"点击PV数":this.initData.orderType="31";break;case"点击UV数":this.initData.orderType="32";break;case"详情页点击开团PV数":this.initData.orderType="33";break;case"详情页点击开团UV数":this.initData.orderType="34";break;case"详情页点击参团PV数":this.initData.orderType="35";break;case"详情页点击参团UV数":this.initData.orderType="36";break;case"曝光PV":this.initData.orderType="37";break}this.getGroupProductData()},getGroupProductData:function(){var t=this,e={startTime:this.timeTotimestamp(this.initData.timeList[0]).toString(),endTime:this.timeTotimestamp(this.initData.timeList[1]).toString(),productId:this.initData.product,groupType:this.initData.groupType,orderType:this.initData.orderType,orderName:this.initData.orderName,page:this.initData.page,countryCode:this.initData.countryCode};this.initData.timeList[1]==this.nowDate?e.endTime=this.timeTotimestamp(this.initData.timeList[1]).toString():e.endTime=(this.timeTotimestamp(this.initData.timeList[1])+864e5-1).toString(),Object(s["c"])(e).then((function(e){1===e.ret.errcode&&(t.tableInitData=e.groupBuyProductInfo,t.initData.total=Number(e.total))}))},commonExport:function(){var t=this,e={startTime:moment(this.initData.timeList[0]).valueOf().toString(),endTime:this.timeTotimestamp(this.initData.timeList[1]).toString(),productId:this.initData.product,groupType:this.initData.groupType,orderType:this.initData.orderType,orderName:this.initData.orderName,countryCode:this.initData.countryCode};Object(u["c"])({type:3,param:JSON.stringify(e)}).then((function(e){if(1==e.ret.errcode)switch(e.code){case 1:case 2:case 3:t.$notify({title:"生成导出任务成功",message:"导出的数据文件正在生成中，请至文件中心查看进度并下载",type:"success",onClose:function(){t.$router.push("/fileCenter/exportList")},duration:1500});break;case 4:t.$notify({title:"生成导出任务失败",message:"任务生成失败，请稍后再试",type:"info"});break;case 5:t.$notify({title:"导出限制",message:"相同参数的导出任务，同个用户15分钟内只允许导出一次",type:"info"});break;case 6:t.$notify({title:"请勿反复提及导出任务",message:"请勿重复提交，30秒后再尝试",type:"info"});default:break}})).catch((function(t){console.error(t)}))},initResetSearch:function(){this.initData.startTime=this.nowEndDate,this.initData.endTime=this.lastMonthDateOnly,this.initData.timeList=[this.lastMonthDateOnly,this.nowDate],this.initData.groupType="5",this.initData.product="",this.initData.orderType="37",this.initData.orderName="desc",this.initData.page.pageNum=1,this.getGroupProductData()}}},c=l,d=(a("4aa0"),a("ac93"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,"16600c5f",null),m=p.exports,f={data:function(){return{activeName:"board",dataHouseCrux:[],dataHouseCountry:[],dataHouseProduct:[]}},components:{dataBoard:m},mounted:function(){this.getDataCenterTypeData()},methods:{handleClick:function(t){console.log(t)},getDataCenterTypeData:function(){var t=this,e={};Object(s["a"])(e).then((function(e){1===e.ret.errcode&&(t.dataHouseCrux=e.dataHouseConfig[0].dataHouseComponent[0].dataHouseItemConfig[1].dataHouseItemConfig,t.dataHouseCountry=e.dataHouseConfig[0].dataHouseComponent[0].dataHouseItemConfig[0].dataHouseItemConfig,t.dataHouseProduct=e.dataHouseConfig[0].dataHouseComponent[0].dataHouseItemConfig[0].dataHouseItemConfig,console.log(t.dataHouseCrux,t.dataHouseProduct))}))}}},h=f,y=(a("22f8"),Object(d["a"])(h,i,o,!1,null,"407ca357",null));e["default"]=y.exports},"45f1":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r}));var i=a("284b");function o(t){console.log(t);var e=i["a"].create("ListExportRecordByPageReq",t);return Object(i["a"])("datahouse","ExportRecordBossService.ListExportRecordByPage",e,"ListExportRecordByPageResp")}function n(t){console.log(t);var e=i["a"].create("DeleteExportByIdReq",t);return Object(i["a"])("datahouse","ExportRecordBossService.DeleteExportTask",e,"BooleanResp")}function r(t){console.log(t);var e=i["a"].create("CommonExportReq",t);return Object(i["a"])("datahouse","CommonExportBossService.RouteAndExport",e,"ExportResultResp")}},"4aa0":function(t,e,a){"use strict";var i=a("7777"),o=a.n(i);o.a},7777:function(t,e,a){},ac93:function(t,e,a){"use strict";var i=a("f0e4"),o=a.n(i);o.a},d75b:function(t,e,a){},e15b:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return u}));var i=a("284b");function o(t){var e=i["a"].create("GetDataCenterTypeDataReq",t);return Object(i["a"])("datahouse","DataCenterTypeService.GetDataCenterTypeData",e,"GetDataCenterTypeDataResp")}function n(t){var e=i["a"].create("GetGroupBuyProductInfoReq",t);return Object(i["a"])("datahouse","DataHouseGroupDataService.GetGroupBuyProductInfo",e,"GetGroupBuyProductInfoResp")}function r(t){var e=i["a"].create("GetGroupImportantDataReq",t);return Object(i["a"])("datahouse","DataHouseGroupDataService.GetGroupImportantData",e,"GetGroupImportantDataResp")}function s(t){var e=i["a"].create("PoCompletionRateReq",t);return Object(i["a"])("datahouse","ErpPoCompletionRateService.PoCompletionRate",e,"PoCompletionRateResp")}function u(t){var e=i["a"].create("PoIncompleteOrderDetailReq",t);return Object(i["a"])("datahouse","ErpPoCompletionRateService.PoIncompleteOrderDetail",e,"PoIncompleteOrderDetailResp")}},f0e4:function(t,e,a){}}]);