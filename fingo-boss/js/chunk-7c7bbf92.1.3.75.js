(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c7bbf92"],{"0c62":function(e,t,n){},"0f0b":function(e,t,n){},"114c":function(e,t,n){"use strict";var a=n("0c62"),i=n.n(a);i.a},"1fbd":function(e,t,n){},2024:function(e,t,n){},"2da7":function(e,t,n){"use strict";var a=n("0f0b"),i=n.n(a);i.a},3728:function(e,t,n){},"4ab3":function(e,t,n){},"4e34":function(e,t,n){},"55f1":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"后台地址选择",width:"700px","close-on-click-modal":!1,"append-to-body":"",visible:e.propShowDialog},on:{close:e.close}},[n("div",["SG"==e.countryCode?[n("el-checkbox",{staticClass:"area-wrapper",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[e._v("Singapore")])]:e._l(e.addressList,(function(t,a){return n("div",{key:a,staticClass:"flex mar-b-10"},[n("el-checkbox",{staticClass:"area-wrapper",attrs:{indeterminate:t.isIndeterminate,disabled:"aging"===e.aging&&e.isAllDisabled(t.stateName)},on:{change:function(n){return e.areaSelectChange(t)}},model:{value:t.selectAll,callback:function(n){e.$set(t,"selectAll",n)},expression:"area.selectAll"}},[e._v(e._s(t.areaName))]),n("div",{staticClass:"flex1"},[n("el-checkbox-group",{model:{value:t.selectList,callback:function(n){e.$set(t,"selectList",n)},expression:"area.selectList"}},e._l(t.stateName,(function(a,i){return n("el-checkbox",{key:i,attrs:{label:a,disabled:"aging"===e.aging&&e.isDisabled(a)},on:{change:function(n){return e.stateChange(t)}}},[e._v(e._s(a))])})),1)],1)],1)}))],2),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:e.close}},[e._v("取 消")]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.confirm()}}},[e._v("确 定")])],1)])},i=[],r=(n("20d6"),n("7514"),n("d6eb")),o={props:{propShowDialog:Boolean,countryCode:String,propStateList:{type:Array,default:function(){return[]}},aging:String,operateType:String,addressDisableList:{type:Array,default:function(){return[]}}},data:function(){return{addressList:[],select:!1}},watch:{countryCode:{handler:function(e){e&&this.getAddress()},deep:!0},propShowDialog:function(e){e&&this.init()}},created:function(){this.getAddress()},methods:{isAllDisabled:function(e){var t=this;if(0===this.addressDisableList.length)return!1;var n=e.filter((function(e){return-1!==t.addressDisableList.indexOf(e)}));return n.length===e.length||void 0},isDisabled:function(e){return 0!==this.addressDisableList.length&&(-1!==this.addressDisableList.indexOf(e)||void 0)},init:function(){var e=this;console.log(this.propStateList);for(var t=function(t){if(e.addressList[t]["selectList"]=[],e.propStateList.length>0)for(var n=function(n){var a=e.propStateList.find((function(a){return a==e.addressList[t].stateName[n]}));a&&e.addressList[t].selectList.push(a)},a=0;a<e.addressList[t].stateName.length;a++)n(a);e.addressList[t]["selectAll"]=!1,e.addressList[t]["isIndeterminate"]=!1,0==e.addressList[t].selectList.length?e.addressList[t].selectAll=!1:e.addressList[t].selectList.length>0&&e.addressList[t].selectList.length<e.addressList[t].stateName.length?e.addressList[t].isIndeterminate=!0:e.addressList[t].selectList.length==e.addressList[t].stateName.length&&(e.addressList[t].selectAll=!0)},n=0;n<this.addressList.length;n++)t(n)},getAddress:function(){var e=this;Object(r["e"])({countryCode:this.countryCode}).then((function(t){for(var n=function(n){if(t.area[n]["selectList"]=[],e.propStateList.length>0)for(var a=function(a){var i=e.propStateList.find((function(e){return e==t.area[n].stateName[a]}));i&&t.area[n].selectList.push(i)},i=0;i<t.area[n].stateName.length;i++)a(i);t.area[n]["selectAll"]=!1,t.area[n]["isIndeterminate"]=!1,0==t.area[n].selectList.length?t.area[n].selectAll=!1:t.area[n].selectList.length>0&&t.area[n].selectList.length<t.area[n].stateName.length?t.area[n].isIndeterminate=!0:t.area[n].selectList.length==t.area[n].stateName.length&&(t.area[n].selectAll=!0)},a=0;a<t.area.length;a++)n(a);e.addressList=t.area}))},areaSelectChange:function(e){var t=this;if(console.log(e),e.isIndeterminate=!1,e.selectAll)for(var n=function(n){var a=e.selectList.findIndex((function(t){return t==e.stateName[n]}));if(console.log(a),-1==a){var i=t.addressDisableList.findIndex((function(t){return t===e.stateName[n]}));-1==i&&e.selectList.push(e.stateName[n])}},a=0;a<e.stateName.length;a++)n(a);else e.selectList=[]},stateChange:function(e){0==e.selectList.length?e.selectAll=!1:e.selectList.length>0&&e.selectList.length<e.stateName.length?e.isIndeterminate=!0:e.selectList.length==e.stateName.length&&(e.isIndeterminate=!1,e.selectAll=!0)},close:function(){this.$emit("close")},confirm:function(){var e=[];if("SG"==this.countryCode)this.select&&(e=["Singapore"]);else for(var t=0;t<this.addressList.length;t++)this.addressList[t].selectList.length>0&&(e=e.concat(this.addressList[t].selectList));console.log(this.addressList),this.$emit("confirm",e)}}},s=o,l=(n("aff1"),n("2877")),c=Object(l["a"])(s,a,i,!1,null,"13216435",null);t["a"]=c.exports},"5b09":function(e,t,n){"use strict";var a=n("b967"),i=n.n(a);i.a},"605c":function(e,t,n){"use strict";var a=n("e845"),i=n.n(a);i.a},"6bc5":function(e,t,n){"use strict";var a=n("87a5"),i=n.n(a);i.a},7450:function(e,t,n){"use strict";var a=n("3728"),i=n.n(a);i.a},"7dc2":function(e,t,n){},"855f":function(e,t,n){"use strict";var a=n("2024"),i=n.n(a);i.a},"87a5":function(e,t,n){},a4de:function(e,t,n){"use strict";var a=n("a9fd"),i=n.n(a);i.a},a8dc:function(e,t,n){"use strict";var a=n("4e34"),i=n.n(a);i.a},a9fd:function(e,t,n){},aff1:function(e,t,n){"use strict";var a=n("4ab3"),i=n.n(a);i.a},b967:function(e,t,n){},d03d:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"超时时效",name:"timeout"}},["timeout"===e.activeName?n("timeout-aging"):e._e()],1),n("el-tab-pane",{attrs:{label:"物流时效",name:"logistics"}},["logistics"===e.activeName?n("logistics-aging"):e._e()],1)],1)],1)},i=[],r=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logistics-aging"},[n("div",{staticClass:"logistics-add"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addLogistics}},[e._v("新增")])],1),n("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{prop:"agingType",label:"时效配置",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s("SHIPPING_HOME"===t.row.agingType?"宅配时效":"货代时效"))])]}}])}),n("el-table-column",{attrs:{prop:"countryCode",label:"国家",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e.showCountry(t.row.countryCode)))])]}}])}),n("el-table-column",{attrs:{label:"时效时长",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.minDay)+"-"+e._s(t.row.maxDay)+"天")])]}}])}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.createTime))])]}}])}),n("el-table-column",{attrs:{prop:"updateTime",label:"修改时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.updateTime))])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"modify-btn",on:{click:function(n){return e.modify(t.row)}}},[e._v("修改")])]}}])})],1),n("div",{staticClass:"page-wrapper"},[n("el-pagination",{attrs:{"current-page":e.page.pageNum,"page-sizes":[10,20,30,50],"page-size":e.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("logistics-dialog",{attrs:{dialogVisible:e.dialogVisible,editType:e.editType},on:{"on-cancle":e.onCancel,"on-confirm":e.onConfirm}})],1)}),o=[],s=(n("ac4d"),n("8a81"),n("5df3"),n("1c4c"),n("6b54"),n("8e6e"),n("ac6a"),n("456d"),n("c5f6"),n("bd86")),l=n("284b");function c(e){console.log(e);var t=l["a"].create("QueryLogiAgingPageReq",e);return Object(l["a"])("erp","LogiConfigBossService.QueryLogiAgingPage",t,"QueryLogiAgingPageResp")}function u(e){console.log(e);var t=l["a"].create("LogiAgingAddReq",e);return Object(l["a"])("erp","LogiConfigBossService.LogiAgingAdd",t,"LogiAgingAddResp")}function f(e){console.log(e);var t=l["a"].create("LogiAgingUpdateReq",e);return Object(l["a"])("erp","LogiConfigBossService.LogiAgingUpdate",t,"LogiAgingUpdateResp")}function d(e){console.log(e);var t=l["a"].create("QueryLogiUpdateInfoReq",e);return Object(l["a"])("erp","LogiConfigBossService.QueryLogiUpdateInfo",t,"QueryLogiUpdateInfoResp")}function g(e){console.log(e);var t=l["a"].create("QueryTimeoutInfoReq",e);return Object(l["a"])("erp","LogiConfigBossService.QueryTimeoutInfo",t,"QueryTimeoutInfoResp")}function h(e){console.log(e);var t=l["a"].create("TimeoutUpdateReq",e);return Object(l["a"])("erp","LogiConfigBossService.TimeoutUpdate",t,"TimeoutUpdateResp")}var y,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"logistics-dialog",attrs:{title:"物流时效配置",visible:e.toggle,width:"60%","before-close":e.cancle},on:{"update:visible":function(t){e.toggle=t}}},[n("div",[n("el-form",{ref:"logisticsForm",staticClass:"logistics-form",attrs:{model:e.queryData,rules:e.rules}},[n("el-form-item",{attrs:{label:"时效类型",prop:"agingType"}},[n("el-select",{attrs:{placeholder:"请选择活动区域",size:"small",disabled:"edit"===e.editType},on:{change:e.agingTypeChange},model:{value:e.queryData.agingType,callback:function(t){e.$set(e.queryData,"agingType",t)},expression:"queryData.agingType"}},[n("el-option",{attrs:{label:"货代时效",value:"SHIPPING_AGENT"}}),n("el-option",{attrs:{label:"宅配时效",value:"SHIPPING_HOME"}})],1)],1),n("el-form-item",{attrs:{label:"适用国家",prop:"countryCode"}},[n("el-select",{attrs:{placeholder:"请选择活动区域",size:"small",disabled:"edit"===e.editType},on:{change:e.countryChange},model:{value:e.queryData.countryCode,callback:function(t){e.$set(e.queryData,"countryCode",t)},expression:"queryData.countryCode"}},e._l(e.countryList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.nameCn,value:e.shortCode}})})),1)],1)],1),"SHIPPING_HOME"===e.queryData.agingType?n("delivery-time",{attrs:{agingType:e.queryData.agingType,countryCode:e.queryData.countryCode}}):e._e(),"SHIPPING_AGENT"===e.queryData.agingType?n("forwarding-aging-table",{attrs:{countryCode:e.queryData.countryCode}}):e._e()],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancle}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("保 存")])],1)])},m=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"delivert-time-table"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.homeCountryAgingInfo,border:""}},[n("el-table-column",{attrs:{prop:"date",label:"地区"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"table-cell-title"},[e._v("全国")])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"时效",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.minDay,callback:function(n){e.$set(t.row,"minDay",n)},expression:"scope.row.minDay"}}),e._v("\n                    -\n                    "),n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.maxDay,callback:function(n){e.$set(t.row,"maxDay",n)},expression:"scope.row.maxDay"}}),e._v(" 天\n                ")],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div")]}}])})],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.homeAreaInfo,border:"","show-header":!1}},[n("el-table-column",{attrs:{label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"table-cell-area-title"},[n("div",{staticClass:"table-cell-title area-city"},[e._v(e._s(e.showCountry(t.row.stateInfo)))]),n("div",{staticClass:"edit-btn",on:{click:function(n){return e.editClick(t.row.stateInfo,t.$index)}}},[e._v("编辑")])])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agingInfo?n("div",[n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.agingInfo[0].minDay,callback:function(n){e.$set(t.row.agingInfo[0],"minDay",n)},expression:"scope.row.agingInfo[0].minDay"}}),e._v("\n                    -\n                    "),n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.agingInfo[0].maxDay,callback:function(n){e.$set(t.row.agingInfo[0],"maxDay",n)},expression:"scope.row.agingInfo[0].maxDay"}}),e._v(" 天\n                ")],1):e._e()]}}])}),n("el-table-column",{attrs:{label:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"delivert-time-table-delete",on:{click:function(n){return e.deleteDelivert(t.$index)}}},[e._v("删除")])]}}])})],1),n("div",{staticClass:"delivert-time-table-add",on:{click:e.addClick}},[e._v("新增制定地区及时效")]),e.propShowDialog?n("select-address",{attrs:{aging:"aging",operateType:e.operateType,addressDisableList:e.addressDisableList,propShowDialog:e.propShowDialog,countryCode:e.queryData.countryCode,propStateList:e.propStateList},on:{close:e.cancelAddress,confirm:e.confirmSelectAddress}}):e._e()],1)},b=[],I=n("55f1"),D=n("d6eb"),C=n("5880");function A(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function w(e,t){if(e){if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={data:function(){return{propShowDialog:!1,propStateList:[],addressDisableList:[],addressList:[],operateType:"add"}},components:{selectAddress:I["a"]},props:{countryCode:String,agingType:String},computed:O({},Object(C["mapState"])({queryData:function(e){return e.agingConfiguration.queryData},homeCountryAgingInfo:function(e){return e.agingConfiguration.homeCountryAgingInfo},homeAreaInfo:function(e){return e.agingConfiguration.homeAreaInfo},editAddressIndex:function(e){return e.agingConfiguration.editAddressIndex}})),methods:(y={addressEditChosen:function(e){var t=this.homeAreaInfo[e].stateInfo;console.log(t);var n,a=A(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;console.log(i),this.propStateList.push(i.state)}}catch(h){a.e(h)}finally{a.f()}var r=this.homeAreaInfo.concat();if(r.splice(e,1),console.log(r),0!==r.length){var o,s=[],l=A(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;s.push(c.stateInfo)}}catch(h){l.e(h)}finally{l.f()}for(var u=0;u<s.length;u++){var f,d=A(s[u]);try{for(d.s();!(f=d.n()).done;){var g=f.value;this.addressDisableList.push(g.state)}}catch(h){d.e(h)}finally{d.f()}}}console.log(this.addressDisableList)},addressAddChosen:function(){var e,t=A(this.homeAreaInfo);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,a=0;a<n.stateInfo.length;a++)this.addressDisableList.push(n.stateInfo[a].state)}catch(i){t.e(i)}finally{t.f()}},showCountry:function(e){console.log(this.homeAreaInfo);var t="";console.log(e);var n,a=A(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;t=t+i.state+","}}catch(r){a.e(r)}finally{a.f()}return t},getAddress:function(){var e=this;Object(D["e"])({countryCode:this.queryData.countryCode}).then((function(t){e.addressList=t.area}))}},Object(s["a"])(y,"showCountry",(function(e){var t,n="",a=A(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=n+i.state+","}}catch(r){a.e(r)}finally{a.f()}return n})),Object(s["a"])(y,"deleteDelivert",(function(e){console.log(e),this.$store.dispatch("deleteStateInfo",{deleteIndex:e}),console.log(this.homeAreaInfo)})),Object(s["a"])(y,"editClick",(function(e,t){this.operateType="edit",this.$store.dispatch("updateAddressIndex",{editIndex:t}),this.getAddress(),this.addressEditChosen(t),console.log(this.homeAreaInfo),this.propShowDialog=!0})),Object(s["a"])(y,"addClick",(function(){this.operateType="add",this.addressAddChosen(),this.getAddress(),this.propShowDialog=!0})),Object(s["a"])(y,"cancelAddress",(function(){this.propShowDialog=!1,this.propStateList.splice(0),this.addressDisableList.splice(0)})),Object(s["a"])(y,"confirmSelectAddress",(function(e){if(this.propShowDialog=!1,console.log(this.homeAreaInfo),console.log(e),console.log(this.editAddressIndex),console.log(this.propStateList),"edit"===this.operateType){var t,n=[],a=A(this.addressList);try{for(a.s();!(t=a.n()).done;){var i=t.value;console.log(i);for(var r=0;r<i.stateName.length;r++){var o,s=A(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;l===i.stateName[r]&&(console.log(i),n.push({area:i.areaName,state:l,stateEn:l}))}}catch(m){s.e(m)}finally{s.f()}}}}catch(m){a.e(m)}finally{a.f()}console.log(n),console.log(this.homeAreaInfo),this.$store.dispatch("pushStateInfo",{statePushInfo:n})}else{var c,u=[],f=A(this.addressList);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,g=0;g<d.stateName.length;g++){var h,y=A(e);try{for(y.s();!(h=y.n()).done;){var p=h.value;p===d.stateName[g]&&(console.log(d),u.push({area:d.areaName,state:p,stateEn:p}))}}catch(m){y.e(m)}finally{y.f()}}}catch(m){f.e(m)}finally{f.f()}console.log(u),this.$store.dispatch("addStateInfo",{statePushInfo:u})}this.propStateList.splice(0),this.addressDisableList.splice(0)})),Object(s["a"])(y,"getArrDifference",(function(e,t){return e.concat(t).filter((function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)}))})),y)},N=_,T=(n("7450"),n("114c"),n("2877")),x=Object(T["a"])(N,v,b,!1,null,"350c98e2",null),j=x.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"forward-aging-table"},[e.freightCountryAgingInfo?n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.freightCountryAgingInfo,border:"","span-method":e.objectSpanMethod}},[n("el-table-column",{attrs:{prop:"date",label:"地区",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"table-cell-title"},[e._v("全国")])]}}],null,!1,1140256279)}),n("el-table-column",{attrs:{prop:"name",label:"货物属性",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v("\n                    "+e._s("SENSITIVE"===t.row.nature?"敏感货":"普货")+"\n                ")])]}}],null,!1,3559804386)}),n("el-table-column",{attrs:{prop:"name",label:"时效"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.minDay,callback:function(n){e.$set(t.row,"minDay",n)},expression:"scope.row.minDay"}}),e._v("\n                    -\n                    "),n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.maxDay,callback:function(n){e.$set(t.row,"maxDay",n)},expression:"scope.row.maxDay"}}),e._v(" 天\n                ")],1)]}}],null,!1,61958829)}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("div")]}}],null,!1,4140175166)})],1):e._e(),e.freightAreaInfo?n("el-table",{staticClass:"freightAreaInfo-table",staticStyle:{width:"100%"},attrs:{data:e.freightAreaInfo,border:"","show-header":!1}},[n("el-table-column",{attrs:{label:"",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"table-cell-area-title"},[n("div",{staticClass:"area-city"},[e._v(e._s(e.showCountry(t.row.stateInfo)))]),n("div",{staticClass:"edit-btn",on:{click:function(n){return e.editClick(t.$index)}}},[e._v("编辑")])])]}}],null,!1,3386418622)}),n("el-table-column",{attrs:{prop:"name",label:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[t.row.agingInfo?n("div",e._l(t.row.agingInfo,(function(t,a){return n("div",{key:a,class:"nature"+a},[e._v("\n                            "+e._s("SENSITIVE"===t.nature?"敏感货":"普货")+"\n                        ")])})),0):e._e()])]}}],null,!1,2479615238)}),n("el-table-column",{attrs:{prop:"name",label:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.agingInfo?n("div",e._l(t.row.agingInfo,(function(a,i){return n("div",{key:i,class:"input"+i},[n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.agingInfo[i].minDay,callback:function(n){e.$set(t.row.agingInfo[i],"minDay",n)},expression:"scope.row.agingInfo[index].minDay"}}),e._v("\n                        -\n                        "),n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:t.row.agingInfo[i].maxDay,callback:function(n){e.$set(t.row.agingInfo[i],"maxDay",n)},expression:"scope.row.agingInfo[index].maxDay"}}),e._v(" 天\n                    ")],1)})),0):e._e()]}}],null,!1,1552707281)}),n("el-table-column",{attrs:{label:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"forward-aging-table-delete",on:{click:function(n){return e.deleteDelivert(t.$index)}}},[e._v("删除")])]}}],null,!1,2546795100)})],1):e._e(),n("div",{staticClass:"forward-aging-table-add",on:{click:e.addClick}},[e._v("新增制定地区及时效")]),e.propShowDialog?n("select-address",{attrs:{aging:"aging",operateType:e.operateType,addressDisableList:e.addressDisableList,propShowDialog:e.propShowDialog,countryCode:e.queryData.countryCode,propStateList:e.propStateList},on:{close:e.cancelAddress,confirm:e.confirmSelectAddress}}):e._e()],1)},$=[];function P(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function E(e,t){if(e){if("string"===typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V={data:function(){return{propShowDialog:!1,propStateList:[],addressList:[],addressDisableList:[],operateType:"add"}},components:{selectAddress:I["a"]},props:{countryCode:String,agingType:String},computed:U({},Object(C["mapState"])({queryData:function(e){return e.agingConfiguration.queryData},freightCountryAgingInfo:function(e){return e.agingConfiguration.freightCountryAgingInfo},freightAreaInfo:function(e){return e.agingConfiguration.freightAreaInfo},editAddressIndex:function(e){return e.agingConfiguration.editAddressIndex}})),methods:{objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,n=e.columnIndex;if(0===n||3===n)return t%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},getAddress:function(){var e=this;Object(D["e"])({countryCode:this.queryData.countryCode}).then((function(t){e.addressList=t.area}))},addressEditChosen:function(e){var t=this.freightAreaInfo[e].stateInfo;console.log(t);var n,a=P(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;console.log(i),this.propStateList.push(i.state)}}catch(h){a.e(h)}finally{a.f()}var r=this.freightAreaInfo.concat();if(r.splice(e,1),0!==r.length){var o,s=[],l=P(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;s.push(c.stateInfo)}}catch(h){l.e(h)}finally{l.f()}for(var u=0;u<s.length;u++){var f,d=P(s[u]);try{for(d.s();!(f=d.n()).done;){var g=f.value;console.log("==>",g.state),this.addressDisableList.push(g.state)}}catch(h){d.e(h)}finally{d.f()}}}},addressAddChosen:function(){if(0!==this.freightAreaInfo.length){var e,t=P(this.freightAreaInfo);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,a=0;a<n.stateInfo.length;a++)console.log(n.stateInfo[a].state),this.addressDisableList.push(n.stateInfo[a].state)}catch(i){t.e(i)}finally{t.f()}}},showCountry:function(e){var t,n="",a=P(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n=n+i.state+","}}catch(r){a.e(r)}finally{a.f()}return n},deleteDelivert:function(e){this.$store.dispatch("deleteForwardStateInfo",{deleteIndex:e}),console.log(this.freightAreaInfo)},editClick:function(e){this.operateType="edit",this.$store.dispatch("updateAddressIndex",{editIndex:e}),this.getAddress(),this.addressEditChosen(e),this.propShowDialog=!0},addClick:function(){this.operateType="add",this.addressAddChosen(),this.getAddress(),this.propShowDialog=!0},cancelAddress:function(){this.propShowDialog=!1,this.propStateList.splice(0),this.addressDisableList.splice(0)},confirmSelectAddress:function(e){if(this.propShowDialog=!1,console.log(e),"edit"===this.operateType){var t,n=[],a=P(this.addressList);try{for(a.s();!(t=a.n()).done;){var i=t.value;console.log(i);for(var r=0;r<i.stateName.length;r++){var o,s=P(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;l===i.stateName[r]&&(console.log(i),n.push({area:i.areaName,state:l,stateEn:l}))}}catch(m){s.e(m)}finally{s.f()}}}}catch(m){a.e(m)}finally{a.f()}console.log(n),console.log(this.freightAreaInfo),this.$store.dispatch("pushForwardStateInfo",{statePushInfo:n})}else{var c,u=[],f=P(this.addressList);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,g=0;g<d.stateName.length;g++){var h,y=P(e);try{for(y.s();!(h=y.n()).done;){var p=h.value;p===d.stateName[g]&&(console.log(d),u.push({area:d.areaName,state:p,stateEn:p}))}}catch(m){y.e(m)}finally{y.f()}}}catch(m){f.e(m)}finally{f.f()}console.log(u),this.$store.dispatch("addForwardStateInfo",{statePushInfo:u})}this.addressDisableList.splice(0),this.propStateList.splice(0)},getArrDifference:function(e,t){return e.concat(t).filter((function(e,t,n){return n.indexOf(e)===n.lastIndexOf(e)}))}}},H=V,G=(n("2da7"),n("5b09"),Object(T["a"])(H,k,$,!1,null,"577c48b1",null)),z=G.exports;function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={data:function(){return{rules:{agingType:[{required:!0,message:"请至少选择一个",trigger:"change"}],countryCode:[{required:!0,message:"请至少选择一个",trigger:"change"}]}}},props:{dialogVisible:{type:Boolean,default:!1},editType:String},components:{deliveryTime:j,forwardingAgingTable:z},computed:R({toggle:{get:function(){return this.dialogVisible},set:function(){}},countryList:function(){return this.$store.state.dict.countryList}},Object(C["mapState"])({queryData:function(e){return e.agingConfiguration.queryData},homeCountryAgingInfo:function(e){return e.agingConfiguration.homeCountryAgingInfo},homeAreaInfo:function(e){return e.agingConfiguration.homeAreaInfo},freightCountryAgingInfo:function(e){return e.agingConfiguration.freightCountryAgingInfo},freightAreaInfo:function(e){return e.agingConfiguration.freightAreaInfo}})),methods:{agingTypeChange:function(e){console.log(e),this.$store.dispatch("updateAgingType",{agingType:e})},countryChange:function(e){console.log(e),this.$store.dispatch("updateCountryCode",{countryCode:e})},cancle:function(){this.$emit("on-cancle")},confirm:function(){this.$emit("on-confirm")}}},F=B,Y=(n("855f"),n("a8dc"),Object(T["a"])(F,p,m,!1,null,"24fdba4e",null)),J=Y.exports;function K(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function W(e,t){if(e){if("string"===typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={data:function(){return{tableData:[],page:{pageNum:1,pageSize:10},totals:0,dialogVisible:!1,countryAgingInfo:[],areaInfo:[],agingType:"",countryCode:"",editType:"add"}},components:{logisticsDialog:J},mounted:function(){this.getQueryLogiAgingPage()},computed:ee({countryList:function(){return this.$store.state.dict.countryList}},Object(C["mapState"])({queryData:function(e){return e.agingConfiguration.queryData},homeCountryAgingInfo:function(e){return e.agingConfiguration.homeCountryAgingInfo},homeAreaInfo:function(e){return e.agingConfiguration.homeAreaInfo},freightCountryAgingInfo:function(e){return e.agingConfiguration.freightCountryAgingInfo},freightAreaInfo:function(e){return e.agingConfiguration.freightAreaInfo},editAddressIndex:function(e){return e.agingConfiguration.editAddressIndex}})),methods:{handleSizeChange:function(e){this.page.pageSize=e,this.getQueryLogiAgingPage()},handleCurrentChange:function(e){this.page.pageNum=e,this.getQueryLogiAgingPage()},showCountry:function(e){var t,n=K(this.countryList);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.shortCode===e)return a.nameCn}}catch(i){n.e(i)}finally{n.f()}},getQueryLogiAgingPage:function(){var e=this,t={page:this.page};c(t).then((function(t){1===t.ret.errcode&&(console.log(t),e.tableData=t.agingList,e.totals=t.total)}))},addLogistics:function(){this.editType="add",this.dialogVisible=!0},modify:function(e){console.log(e),this.editType="edit",this.$store.dispatch("updateQueryData",{agingType:e.agingType,countryCode:e.countryCode}),this.getQueryLogiUpdateInfo(e.agingType,e.countryCode),this.dialogVisible=!0},getQueryLogiUpdateInfo:function(e,t){var n=this,a={agingType:e,countryCode:t};d(this.filterData(a)).then((function(e){1===e.ret.errcode&&(console.log(e),"SHIPPING_HOME"===n.queryData.agingType?n.$store.dispatch("updateHome",{homeCountry:e.countryAgingInfo,homeArea:e.areaInfo}):n.$store.dispatch("updateFreight",{freightCountry:e.countryAgingInfo,freightArea:e.areaInfo}))}))},onCancel:function(){this.$store.dispatch("updateAddressIndex",{editIndex:-1}),this.$store.dispatch("updateInitData",{agingType:"",countryCode:""}),this.dialogVisible=!1},getLogiAgingUpdate:function(){var e=this,t={agingType:this.queryData.agingType,countryCode:this.queryData.countryCode,countryAgingInfo:this.homeCountryAgingInfo,areaInfo:this.homeAreaInfo},n={agingType:this.queryData.agingType,countryCode:this.queryData.countryCode,countryAgingInfo:this.freightCountryAgingInfo,areaInfo:this.freightAreaInfo};f("SHIPPING_HOME"===this.queryData.agingType?t:n).then((function(t){1===t.ret.errcode&&(console.log(t),e.$store.dispatch("updateInitData",{agingType:"",countryCode:""}),e.$message.success("修改成功"),e.getQueryLogiAgingPage())}))},getLogiAgingAdd:function(){var e=this,t={agingType:this.queryData.agingType,countryCode:this.queryData.countryCode,countryAgingInfo:this.homeCountryAgingInfo,areaInfo:this.homeAreaInfo},n={agingType:this.queryData.agingType,countryCode:this.queryData.countryCode,countryAgingInfo:this.freightCountryAgingInfo,areaInfo:this.freightAreaInfo};u("SHIPPING_HOME"===this.queryData.agingType?t:n).then((function(t){e.$message.success("新增成功"),e.$store.dispatch("updateInitData",{agingType:"",countryCode:""}),e.getQueryLogiAgingPage()}))},onConfirm:function(){if(this.$store.dispatch("updateAddressIndex",{editIndex:-1}),"add"===this.editType){if(console.log("==>"),0!==this.tableData.length){var e,t=K(this.tableData);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(console.log(n),n.agingType===this.queryData.agingType&&n.countryCode===this.queryData.countryCode)return void this.$message.error("该国家物流时效已存在，不能重复添加")}}catch(Y){t.e(Y)}finally{t.f()}if("SHIPPING_HOME"===this.queryData.agingType){var a,i=K(this.homeCountryAgingInfo);try{for(i.s();!(a=i.n()).done;){var r=a.value;if(Number(r.minDay)<=0||Number(r.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(r.minDay)>Number(r.maxDay))return void this.$message.error("全国时效范围无效");var o,s=K(this.homeAreaInfo);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(console.log(l),Number(l.agingInfo[0].minDay)<=0||Number(l.agingInfo[0].maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(l.agingInfo[0].minDay)>Number(l.agingInfo[0].maxDay))return void this.$message.error("地区时效范围无效")}}catch(Y){s.e(Y)}finally{s.f()}}}catch(Y){i.e(Y)}finally{i.f()}this.getLogiAgingAdd(),this.dialogVisible=!1}else if("SHIPPING_AGENT"===this.queryData.agingType){var c,u=K(this.freightCountryAgingInfo);try{for(u.s();!(c=u.n()).done;){var f=c.value;if(Number(f.minDay)<=0||Number(f.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(f.minDay)>Number(f.maxDay))return void this.$message.error("全国时效范围无效");var d,g=K(this.freightAreaInfo);try{for(g.s();!(d=g.n()).done;){var h,y=d.value,p=K(y.agingInfo);try{for(p.s();!(h=p.n()).done;){var m=h.value;if(Number(m.minDay)<=0||Number(m.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(m.minDay)>Number(m.maxDay))return void this.$message.error("地区时效范围无效")}}catch(Y){p.e(Y)}finally{p.f()}}}catch(Y){g.e(Y)}finally{g.f()}}}catch(Y){u.e(Y)}finally{u.f()}this.getLogiAgingAdd(),this.dialogVisible=!1}}else if("SHIPPING_HOME"===this.queryData.agingType){var v,b=K(this.homeCountryAgingInfo);try{for(b.s();!(v=b.n()).done;){var I=v.value;if(Number(I.minDay)<=0||Number(I.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(I.minDay)>Number(I.maxDay))return void this.$message.error("全国时效范围无效");var D,C=K(this.homeAreaInfo);try{for(C.s();!(D=C.n()).done;){var A=D.value;if(console.log(A),Number(A.agingInfo[0].minDay)<=0||Number(A.agingInfo[0].maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(A.agingInfo[0].minDay)>Number(A.agingInfo[0].maxDay))return void this.$message.error("地区时效范围无效")}}catch(Y){C.e(Y)}finally{C.f()}}}catch(Y){b.e(Y)}finally{b.f()}this.getLogiAgingAdd(),this.dialogVisible=!1}else if("SHIPPING_AGENT"===this.queryData.agingType){var w,S=K(this.freightCountryAgingInfo);try{for(S.s();!(w=S.n()).done;){var L=w.value;if(Number(L.minDay)<=0||Number(L.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(L.minDay)>Number(L.maxDay))return void this.$message.error("全国时效范围无效");var O,_=K(this.freightAreaInfo);try{for(_.s();!(O=_.n()).done;){var N,T=O.value,x=K(T.agingInfo);try{for(x.s();!(N=x.n()).done;){var j=N.value;if(Number(j.minDay)<=0||Number(j.maxDay)<=0)return void this.$message.error("时效范围无效");if(Number(j.minDay)>Number(j.maxDay))return void this.$message.error("地区时效范围无效")}}catch(Y){x.e(Y)}finally{x.f()}}}catch(Y){_.e(Y)}finally{_.f()}}}catch(Y){S.e(Y)}finally{S.f()}this.getLogiAgingAdd(),this.dialogVisible=!1}}else if("edit"===this.editType)if("SHIPPING_HOME"===this.queryData.agingType){var k,$=K(this.homeCountryAgingInfo);try{for($.s();!(k=$.n()).done;){var P=k.value;if(Number(P.minDay)<=0||Number(P.maxDay)<=0)return void this.$message.error("时效范围无效");if(P.minDay>P.maxDay)return void this.$message.error("全国时效范围无效");console.log("==>");var E,q=K(this.homeAreaInfo);try{for(q.s();!(E=q.n()).done;){var M=E.value;if(console.log(M),Number(M.agingInfo[0].minDay)<=0||Number(M.agingInfo[0].maxDay)<=0)return void this.$message.error("时效范围无效");if(M.agingInfo[0].minDay>M.agingInfo[0].maxDay)return void this.$message.error("地区时效范围无效")}}catch(Y){q.e(Y)}finally{q.f()}}}catch(Y){$.e(Y)}finally{$.f()}this.getLogiAgingUpdate(),this.dialogVisible=!1}else if("SHIPPING_AGENT"===this.queryData.agingType){var U,V=K(this.freightCountryAgingInfo);try{for(V.s();!(U=V.n()).done;){var H=U.value;if(Number(H.minDay)<=0||Number(H.maxDay)<=0)return void this.$message.error("时效范围无效");if(H.minDay>H.maxDay)return void this.$message.error("全国时效范围无效");var G,z=K(this.freightAreaInfo);try{for(z.s();!(G=z.n()).done;){var Q,R=G.value,B=K(R.agingInfo);try{for(B.s();!(Q=B.n()).done;){var F=Q.value;if(Number(F.minDay)<=0||Number(F.maxDay)<=0)return void this.$message.error("时效范围无效");if(F.minDay>F.maxDay)return void this.$message.error("地区时效范围无效")}}catch(Y){B.e(Y)}finally{B.f()}}}catch(Y){z.e(Y)}finally{z.f()}}}catch(Y){V.e(Y)}finally{V.f()}this.getLogiAgingUpdate(),this.dialogVisible=!1}}}},ne=te,ae=(n("6bc5"),n("605c"),Object(T["a"])(ne,r,o,!1,null,"4d0212bb",null)),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeout-aging"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[n("el-table-column",{attrs:{label:"系统",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(t.row.sysName))])]}}])}),n("el-table-column",{attrs:{label:"时效名称",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e.showTimeName(t.row)))])]}}])}),n("el-table-column",{attrs:{label:"时效值",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(e._s(e.showTime(t.row)))])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"modify-btn",on:{click:function(n){return e.editTimeAging(t.row)}}},[e._v("修改")])]}}])})],1),e.dialogVisible?n("timeout-dialog",{attrs:{dialogVisible:e.dialogVisible,timeMessage:e.timeMessage},on:{"on-cancel":e.cancelTimeout,"on-confirm":e.confirmTimeout}}):e._e()],1)},oe=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"超时时效",visible:e.toggle,width:"40%","before-close":e.cancel},on:{"update:visible":function(t){e.toggle=t}}},[n("div",{staticClass:"timeout-dialog"},[n("div",{staticClass:"sysName"},[e._v("\n        系统 ："+e._s(e.timeMessage.sysName)+"\n    ")]),n("div",{staticClass:"timeName"},[e._v("\n        时效名称："+e._s(e.showTimeName(e.timeMessage.sysName,e.timeMessage.timeName))+"\n    ")]),n("div",{staticClass:"timeType"},[e._v("\n        时效值：\n        "),n("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[n("el-radio",{attrs:{label:"LOGI",disabled:"CUSTOM"===e.radio}},[e._v("物流时效")]),n("el-radio",{attrs:{label:"CUSTOM",disabled:"LOGI"===e.radio}},[e._v("自定义")])],1),"CUSTOM"===e.radio?n("div",{staticClass:"inpunt-num"},[n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:e.minDay,callback:function(t){e.minDay=t},expression:"minDay"}}),e._v("\n            -\n            "),n("el-input",{attrs:{placeholder:"",size:"mini"},model:{value:e.maxDay,callback:function(t){e.maxDay=t},expression:"maxDay"}}),e._v(" 天\n        ")],1):e._e()],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},le=[],ce={data:function(){return{radio:this.timeMessage.timeType,minDay:this.timeMessage.minDay,maxDay:this.timeMessage.maxDay}},props:{dialogVisible:{type:Boolean,default:!1},timeMessage:Object},computed:{toggle:{get:function(){return this.dialogVisible},set:function(){}}},methods:{showTimeName:function(e,t){if("订单"===e){if("DELIVERY"===t)return"超时发货"}else if("采购"===e){if("PURCHASE"===t)return"超时采购";if("DELIVERY"===t)return"超时发货";if("INCOME"===t)return"超时入库"}else if("仓库"===e&&"OUT"===t)return"超时出库"},getTimeoutUpdate:function(){var e=this,t={timeoutConfigNo:this.timeMessage.timeoutConfigNo,minDay:Number(this.minDay),maxDay:Number(this.maxDay)};console.log(t),h(t).then((function(t){1===t.ret.errcode&&(console.log(t),e.$message.success("修改成功"),e.$emit("on-confirm"))}))},cancel:function(){this.$emit("on-cancel")},confirm:function(){"CUSTOM"===this.radio?Number(this.minDay)>Number(this.maxDay)?this.$message.error("时效值无效"):this.getTimeoutUpdate():"LOGI"===this.radio&&this.getTimeoutUpdate()}}},ue=ce,fe=(n("e49e"),n("a4de"),Object(T["a"])(ue,se,le,!1,null,"5a7918bc",null)),de=fe.exports,ge={data:function(){return{tableData:[],dialogVisible:!1,timeMessage:{}}},components:{timeoutDialog:de},mounted:function(){this.getQueryTimeoutInfo()},methods:{getQueryTimeoutInfo:function(){var e=this,t={};g(t).then((function(t){1===t.ret.errcode&&(console.log(t),e.tableData=t.timeoutInfo)}))},showTime:function(e){return"LOGI"===e.timeType?"物流时效":"CUSTOM"===e.timeType?e.minDay+"-"+e.maxDay+"天":void 0},editTimeAging:function(e){this.timeMessage=Object.assign({},e),this.dialogVisible=!0},showTimeName:function(e){if("订单"===e.sysName){if("DELIVERY"===e.timeName)return"超时发货"}else if("采购"===e.sysName){if("PURCHASE"===e.timeName)return"超时采购";if("DELIVERY"===e.timeName)return"超时发货";if("INCOME"===e.timeName)return"超时入库"}else if("仓库"===e.sysName&&"OUT"===e.timeName)return"超时出库"},cancelTimeout:function(){this.dialogVisible=!1},confirmTimeout:function(){this.dialogVisible=!1,this.getQueryTimeoutInfo()}}},he=ge,ye=(n("fac5"),n("ec28"),Object(T["a"])(he,re,oe,!1,null,"dc72c012",null)),pe=ye.exports,me={data:function(){return{activeName:"timeout"}},components:{logisticsAging:ie,timeoutAging:pe},methods:{handleClick:function(e){console.log(e),this.activeName=e.name}}},ve=me,be=Object(T["a"])(ve,a,i,!1,null,"0fc3c1cf",null);t["default"]=be.exports},e49e:function(e,t,n){"use strict";var a=n("1fbd"),i=n.n(a);i.a},e845:function(e,t,n){},ec28:function(e,t,n){"use strict";var a=n("fe31"),i=n.n(a);i.a},fac5:function(e,t,n){"use strict";var a=n("7dc2"),i=n.n(a);i.a},fe31:function(e,t,n){}}]);