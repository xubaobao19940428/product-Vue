(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30b70f70"],{"345d":function(e,t,r){"use strict";r.d(t,"k",(function(){return i})),r.d(t,"i",(function(){return n})),r.d(t,"h",(function(){return s})),r.d(t,"e",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return o})),r.d(t,"j",(function(){return c})),r.d(t,"g",(function(){return m})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return f}));var a=r("284b");function i(e){console.log(e);var t=a["a"].create("SupplierPageReq",e);return Object(a["a"])("erp","SupplierBossService.SupplierPage",t,"supplier.SupplierPageResp")}function n(e){console.log(e);var t=a["a"].create("SupplierBasePageReq",e);return Object(a["a"])("erp","SupplierBossService.SupplierBasePage",t,"supplier.SupplierBasePageResp")}function s(e){console.log(e);var t=a["a"].create("SupplierSaveReq",e);return Object(a["a"])("erp","SupplierBossService.SaveSupplier",t,"supplier.SupplierSaveResp")}function l(e){console.log(e);var t=a["a"].create("SupplierDetailReq",e);return Object(a["a"])("erp","SupplierBossService.GetSupplierDetail",t,"supplier.SupplierDetailResp")}function u(e){console.log(e);var t=a["a"].create("SupplierDisableReq",e);return Object(a["a"])("erp","SupplierBossService.DisableSupplier",t,"supplier.DisableSupplierResp")}function p(e){console.log(e);var t=a["a"].create("SupplierEnableReq",e);return Object(a["a"])("erp","SupplierBossService.EnableSupplier",t,"supplier.SupplierEnableResp")}function o(e){console.log(e);var t=a["a"].create("SupplierDeleteReq",e);return Object(a["a"])("erp","SupplierBossService.DeleteSupplier",t,"supplier.DeleteSupplierResp")}function c(e){console.log(e);var t=a["a"].create("SupplierOrderPageReq",e);return Object(a["a"])("erp","SupplierOrderBossService.SupplierOrderPage",t,"supplier.SupplierOrderPageResp")}function m(e){console.log(e);var t=a["a"].create("SupplierOrderStockoutReq",e);return Object(a["a"])("erp","SupplierOrderBossService.OrderStockout",t,"supplier.SupplierOrderStockoutResp")}function d(e){console.log(e);var t=a["a"].create("SupplierOrderDeliverReq",e);return Object(a["a"])("erp","SupplierOrderBossService.OrderDeliver",t,"supplier.SupplierOrderDeliverResp")}function f(e){console.log(e);var t=a["a"].create("SupplierOrderPageReq",e);return Object(a["a"])("erp","SupplierOrderBossService.ExportOrder",t,"supplier.ExportSupplierOrderResp")}},"83f4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-form",{ref:"supplierFilterForm",attrs:{inline:"","label-width":"90px",model:e.queryData}},[r("el-form-item",{staticClass:"filter-item",attrs:{label:"供应商名：",prop:"supplierName"}},[r("el-input",{attrs:{placeholder:"请输入供应商名",size:"medium",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.queryData.supplierName,callback:function(t){e.$set(e.queryData,"supplierName",t)},expression:"queryData.supplierName"}})],1),r("el-form-item",{staticClass:"filter-item",attrs:{label:"供应简称：",prop:"shortName"}},[r("el-input",{attrs:{placeholder:"请输入供应简称",size:"medium",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.queryData.shortName,callback:function(t){e.$set(e.queryData,"shortName",t)},expression:"queryData.shortName"}})],1),r("el-form-item",{staticClass:"filter-item",attrs:{label:"合作状态：",prop:"cooperativeStatus"}},[r("el-select",{attrs:{size:"medium",clearable:""},on:{change:e.search},model:{value:e.queryData.cooperativeStatus,callback:function(t){e.$set(e.queryData,"cooperativeStatus",t)},expression:"queryData.cooperativeStatus"}},e._l(e.cooperativeStatusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"filter-item",attrs:{label:"状态：",prop:"status"}},[r("el-select",{attrs:{size:"medium",clearable:""},on:{change:e.search},model:{value:e.queryData.status,callback:function(t){e.$set(e.queryData,"status",t)},expression:"queryData.status"}},e._l(e.statusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[r("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")]),e.hasPermission("BTN_SUPPLIER_MANAGE_ADD")?r("el-button",{staticClass:"operator-item",attrs:{icon:"el-icon-plus",type:"primary",size:"medium"},on:{click:function(t){return e.clickToEditSupplier("","add")}}},[e._v("新增供应商")]):e._e()],1)],1)],1),r("div",{staticClass:"main-content-wrapper"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"100%"}},[r("el-table-column",{attrs:{prop:"supplierId",align:"center",label:"供应商ID","min-width":"120"}}),r("el-table-column",{attrs:{prop:"supplierShortCode",align:"center",label:"供应商简码","min-width":"120"}}),r("el-table-column",{attrs:{prop:"supplierName",align:"center",label:"供应商名称","min-width":"190"}}),r("el-table-column",{attrs:{prop:"shortName",align:"center",label:"供应商简称","min-width":"140"}}),r("el-table-column",{attrs:{prop:"typeDesc",align:"center",label:"供应商类型",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?r("el-tag",{attrs:{size:"mini"}},[e._v("个人")]):e._e(),2==t.row.type?r("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("企业")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"cooperativeStatus",label:"合作状态",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.cooperativeStatus?r("el-tag",{attrs:{effect:"dark",type:"success",size:"mini"}},[e._v("正常合作")]):e._e(),2==t.row.cooperativeStatus?r("el-tag",{attrs:{effect:"dark",type:"info",size:"mini"}},[e._v("终止合作")]):e._e(),9==t.row.cooperativeStatus?r("el-tag",{attrs:{effect:"dark",type:"danger",size:"mini"}},[e._v("黑名单")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"status",label:"状态",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?r("el-tag",{attrs:{size:"mini"}},[e._v("有效")]):e._e(),2==t.row.status?r("el-tag",{attrs:{type:"info",size:"mini"}},[e._v("无效")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center","min-width":"160",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.hasPermission("BTN_SUPPLIER_MANAGE_FORBIDDEN")?[1==t.row.status&&e.hasPermission("BTN_SUPPLIER_MANAGE_FORBIDDEN")?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.supplierDisable(t.row)}}},[e._v("禁用")]):e._e(),2==t.row.status&&e.hasPermission("BTN_SUPPLIER_MANAGE_OPEN")?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.supplierEnable(t.row)}}},[e._v("启用")]):e._e()]:e._e(),e.hasPermission("BTN_SUPPLIER_MANAGE_EDIT")?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(r){return e.clickToEditSupplier(t.row)}}},[e._v("编辑")]):e._e()]}}])})],1)],1),r("div",{staticClass:"pagination-box"},[r("el-pagination",{attrs:{"current-page":e.queryData.page.pageNum,"page-size":e.queryData.page.pageSize,layout:"sizes, total, prev, pager, next, jumper","page-sizes":[10,20,50,100],total:e.totals},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])},i=[],n=(r("96cf"),r("3b8d")),s=r("345d"),l={name:"supplierManage",components:{},data:function(){return{loading:!1,pageNum:1,pageSize:10,supplierName:"",tableData:[],totals:0,cooperativeStatusList:[{name:"正常合作",value:1},{name:"终止合作",value:2},{name:"黑名单",value:9}],statusList:[{name:"有效",value:1},{name:"无效",value:2}],status:"",queryData:{supplierName:"",shortName:"",cooperativeStatus:null,status:null,page:{pageSize:20,pageNum:1}}}},mounted:function(){this.getSupplierList()},methods:{getSupplierList:function(){var e=this;this.loading=!0;var t=this.filterData(this.queryData);Object(s["k"])(t).then((function(t){if(console.log(t),e.loading=!1,1===t.ret.errcode){e.totals=t.total;var r=[];r=t.list,e.tableData=r}})).catch((function(t){e.loading=!1,console.log(t)}))},handleCurrentChange:function(e){this.queryData.page.pageSize=20,this.queryData.page.pageNum=e,this.getSupplierList()},handleSizeChange:function(e){this.queryData.page.pageNum=1,this.queryData.page.pageSize=e,this.getSupplierList()},clickToEditSupplier:function(e,t){var r=0;e.supplierId&&(r=e.supplierId),this.$router.push({name:"supplierEdit",query:{supplierId:r,type:t}})},resetSearch:function(){this.queryData.page.pageNum=1,this.queryData.page.pageSize=20,this.$refs.supplierFilterForm.resetFields(),this.getSupplierList()},search:function(){this.getSupplierList()},supplierDelete:function(e){var t=this;this.$confirm("是否删除此供应商","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.delete(e.supplierId);case 2:case"end":return r.stop()}}),r)})))).catch((function(){}))},delete:function(e){var t=this,r={supplierId:e};Object(s["a"])(r).then((function(e){1===e.ret.errcode&&(t.$message.success("供应商删除成功！"),t.getSupplierList())})).catch((function(e){console.log(e)}))},supplierDisable:function(e){var t=this;this.$confirm("是否禁用此供应商","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.disable(e.supplierId);case 2:t.$message({type:"success",message:"操作成功"});case 3:case"end":return r.stop()}}),r)})))).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},disable:function(e){var t=this,r={supplierId:e};Object(s["b"])(r).then((function(e){console.log(e),1===e.ret.errcode&&t.getSupplierList()})).catch((function(e){console.log(e)}))},supplierEnable:function(e){var t=this;this.$confirm("是否启用此供应商","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.enable(e.supplierId);case 2:t.$message({type:"success",message:"操作成功"});case 3:case"end":return r.stop()}}),r)})))).catch((function(){t.$message({type:"info",message:"已取消操作"})}))},enable:function(e){var t=this,r={supplierId:e};Object(s["c"])(r).then((function(e){console.log(e),1===e.ret.errcode&&t.getSupplierList()})).catch((function(e){console.log(e)}))}}},u=l,p=r("2877"),o=Object(p["a"])(u,a,i,!1,null,null,null);t["default"]=o.exports}}]);