(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15151811"],{"0aff":function(e,r,t){"use strict";var a=t("4a00"),n=t.n(a);n.a},"2dae":function(e,r,t){},"345d":function(e,r,t){"use strict";t.d(r,"k",(function(){return n})),t.d(r,"i",(function(){return o})),t.d(r,"h",(function(){return i})),t.d(r,"e",(function(){return s})),t.d(r,"b",(function(){return u})),t.d(r,"c",(function(){return l})),t.d(r,"a",(function(){return c})),t.d(r,"j",(function(){return p})),t.d(r,"g",(function(){return d})),t.d(r,"f",(function(){return f})),t.d(r,"d",(function(){return m}));var a=t("284b");function n(e){console.log(e);var r=a["a"].create("SupplierPageReq",e);return Object(a["a"])("erp","SupplierBossService.SupplierPage",r,"supplier.SupplierPageResp")}function o(e){console.log(e);var r=a["a"].create("SupplierBasePageReq",e);return Object(a["a"])("erp","SupplierBossService.SupplierBasePage",r,"supplier.SupplierBasePageResp")}function i(e){console.log(e);var r=a["a"].create("SupplierSaveReq",e);return Object(a["a"])("erp","SupplierBossService.SaveSupplier",r,"supplier.SupplierSaveResp")}function s(e){console.log(e);var r=a["a"].create("SupplierDetailReq",e);return Object(a["a"])("erp","SupplierBossService.GetSupplierDetail",r,"supplier.SupplierDetailResp")}function u(e){console.log(e);var r=a["a"].create("SupplierDisableReq",e);return Object(a["a"])("erp","SupplierBossService.DisableSupplier",r,"supplier.DisableSupplierResp")}function l(e){console.log(e);var r=a["a"].create("SupplierEnableReq",e);return Object(a["a"])("erp","SupplierBossService.EnableSupplier",r,"supplier.SupplierEnableResp")}function c(e){console.log(e);var r=a["a"].create("SupplierDeleteReq",e);return Object(a["a"])("erp","SupplierBossService.DeleteSupplier",r,"supplier.DeleteSupplierResp")}function p(e){console.log(e);var r=a["a"].create("SupplierOrderPageReq",e);return Object(a["a"])("erp","SupplierOrderBossService.SupplierOrderPage",r,"supplier.SupplierOrderPageResp")}function d(e){console.log(e);var r=a["a"].create("SupplierOrderStockoutReq",e);return Object(a["a"])("erp","SupplierOrderBossService.OrderStockout",r,"supplier.SupplierOrderStockoutResp")}function f(e){console.log(e);var r=a["a"].create("SupplierOrderDeliverReq",e);return Object(a["a"])("erp","SupplierOrderBossService.OrderDeliver",r,"supplier.SupplierOrderDeliverResp")}function m(e){console.log(e);var r=a["a"].create("SupplierOrderPageReq",e);return Object(a["a"])("erp","SupplierOrderBossService.ExportOrder",r,"supplier.ExportSupplierOrderResp")}},"4a00":function(e,r,t){},"643d":function(e,r,t){"use strict";var a=t("fa93"),n=t.n(a);n.a},"84a3":function(e,r,t){"use strict";t.d(r,"U",(function(){return n})),t.d(r,"Q",(function(){return o})),t.d(r,"K",(function(){return i})),t.d(r,"M",(function(){return s})),t.d(r,"N",(function(){return u})),t.d(r,"G",(function(){return l})),t.d(r,"E",(function(){return c})),t.d(r,"F",(function(){return p})),t.d(r,"P",(function(){return d})),t.d(r,"T",(function(){return f})),t.d(r,"S",(function(){return m})),t.d(r,"v",(function(){return v})),t.d(r,"l",(function(){return y})),t.d(r,"O",(function(){return h})),t.d(r,"u",(function(){return b})),t.d(r,"R",(function(){return g})),t.d(r,"H",(function(){return O})),t.d(r,"I",(function(){return S})),t.d(r,"o",(function(){return w})),t.d(r,"C",(function(){return R})),t.d(r,"L",(function(){return q})),t.d(r,"c",(function(){return D})),t.d(r,"a",(function(){return k})),t.d(r,"w",(function(){return I})),t.d(r,"b",(function(){return C})),t.d(r,"j",(function(){return _})),t.d(r,"k",(function(){return T})),t.d(r,"n",(function(){return B})),t.d(r,"J",(function(){return j})),t.d(r,"z",(function(){return L})),t.d(r,"y",(function(){return N})),t.d(r,"m",(function(){return x})),t.d(r,"x",(function(){return P})),t.d(r,"d",(function(){return A})),t.d(r,"h",(function(){return z})),t.d(r,"e",(function(){return E})),t.d(r,"g",(function(){return $})),t.d(r,"f",(function(){return G})),t.d(r,"D",(function(){return F})),t.d(r,"r",(function(){return W})),t.d(r,"q",(function(){return M})),t.d(r,"B",(function(){return Q})),t.d(r,"A",(function(){return U})),t.d(r,"p",(function(){return H})),t.d(r,"t",(function(){return J})),t.d(r,"s",(function(){return V})),t.d(r,"i",(function(){return K}));var a=t("284b");function n(e){console.log(e);var r=a["a"].create("WarehousePageReq",e);return Object(a["a"])("erp","WarehouseBossService.WarehousePage",r,"warehouse.WarehousePageResp")}function o(e){console.log(e);var r=a["a"].create("PurchaseLogiListReq",e);return Object(a["a"])("erp","IncomeOrderBossService.PurchaseLogiList",r,"warehouse.PurchaseLogiListResp")}function i(e){console.log(e);var r=a["a"].create("IncomeOrderSignReq",e);return Object(a["a"])("erp","IncomeOrderBossService.IncomeOrderSign",r,"warehouse.IncomeOrderSignResp")}function s(e){console.log(e);var r=a["a"].create("IncomeOrderPageReq",e);return Object(a["a"])("erp","IncomeOrderBossService.LogiOrderPage",r,"warehouse.IncomeOrderPageResp")}function u(e){console.log(e);var r=a["a"].create("ModifyIncomeOrderLogiReq",e);return Object(a["a"])("erp","IncomeOrderBossService.ModifyIncomeOrderLogi",r,"warehouse.ModifyIncomeOrderLogiResp")}function l(e){console.log(e);var r=a["a"].create("AddSignAbnormalReq",e);return Object(a["a"])("erp","AbnormalBossService.AddSignAbnormal",r,"warehouse.AddSignAbnormalResp")}function c(e){console.log(e);var r=a["a"].create("AbnormalLogiPageReq",e);return Object(a["a"])("erp","AbnormalBossService.AbnormalLogiPage",r,"warehouse.AbnormalLogiPageResp")}function p(e){console.log(e);var r=a["a"].create("AbnormalSkuPageReq",e);return Object(a["a"])("erp","AbnormalBossService.AbnormalSkuPage",r,"warehouse.AbnormalSkuPageResp")}function d(e){console.log(e);var r=a["a"].create("PurchaseDealAbnormalReq",e);return Object(a["a"])("erp","AbnormalBossService.PurchaseDealAbnormal",r,"warehouse.PurchaseDealAbnormalResp")}function f(e){console.log(e);var r=a["a"].create("SkuAbnormalTypeReq",e);return Object(a["a"])("erp","AbnormalBossService.SkuAbnormalType",r,"warehouse.SkuAbnormalTypeResp")}function m(e){console.log(e);var r=a["a"].create("SignAbnormalTypeReq",e);return Object(a["a"])("erp","AbnormalBossService.SignAbnormalType",r,"warehouse.SignAbnormalTypeResp")}function v(e){console.log(e);var r=a["a"].create("OutOrderNewPageReq",e);return Object(a["a"])("erp","OutOrderBossService.OutOrderNewPage",r,"warehouse.OutOrderNewPageResp")}function y(e){console.log(e);var r=a["a"].create("OutOrderNewPageReq",e);return Object(a["a"])("erp","OutOrderBossService.ExportList",r,"warehouse.ExportPoResp")}function h(e){console.log(e);var r=a["a"].create("OutOrderDetailReq",e);return Object(a["a"])("erp","OutOrderBossService.OutOrderDetail",r,"warehouse.OutOrderDetailResp")}function b(e){console.log(e);var r=a["a"].create("OutOrderNewDetailReq",e);return Object(a["a"])("erp","OutOrderBossService.OutOrderNewDetail",r,"warehouse.OutOrderNewDetailResp")}function g(e){console.log(e);var r=a["a"].create("RepushOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.RepushOutOrder",r,"warehouse.RepushOutOrderResp")}function O(e){console.log(e);var r=a["a"].create("CannelOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.CannelOutOrder",r,"warehouse.CannelOutOrderResp")}function S(e){console.log(e);var r=a["a"].create("CreateOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.CreateOutOrder",r,"warehouse.CreateOutOrderResp")}function w(e){console.log(e);var r=a["a"].create("GetTransferWarehouseReq",e);return Object(a["a"])("erp","OutOrderBossService.GetTransferWarehouse",r,"warehouse.GetTransferWarehouseResp")}function R(e){console.log(e);var r=a["a"].create("TransferOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.TransferOutOrder",r,"warehouse.TransferOutOrderResp")}function q(e){var r=a["a"].create("LogiCompanyReq",e);return Object(a["a"])("erp","WarehouseBossService.LogiCompany",r,"warehouse.LogiCompanyResp")}function D(e){var r=a["a"].create("AbnormalPurchaseOrderReq",e);return Object(a["a"])("erp","AbnormalBossService.AbnormalPurchaseOrder",r,"warehouse.AbnormalPurchaseOrderResp")}function k(e){var r=a["a"].create("AbnormalMakeupReq",e);return Object(a["a"])("erp","AbnormalBossService.AbnormalMakeup",r,"warehouse.AbnormalMakeupResp")}function I(e){var r=a["a"].create("OverAbnormalReq",e);return Object(a["a"])("erp","AbnormalBossService.OverAbnormal",r,"warehouse.OverAbnormalResp")}function C(e){var r=a["a"].create("AbnormalProcessReq",e);return Object(a["a"])("erp","AbnormalBossService.AbnormalProcess",r,"warehouse.AbnormalProcessResp")}function _(e){var r=a["a"].create("AbnormalLogiPageReq",e);return Object(a["a"])("erp","AbnormalBossService.ExportAbnormalLogi",r,"warehouse.ExportAbnormalLogiResp")}function T(e){var r=a["a"].create("AbnormalSkuPageReq",e);return Object(a["a"])("erp","AbnormalBossService.ExportAbnormalSku",r,"warehouse.ExportAbnormalSkuResp")}function B(e){var r=a["a"].create("GetTransferAddressReq",e);return Object(a["a"])("erp","WarehouseBossService.GetTransferAddress",r,"warehouse.GetTransferAddressResp")}function j(e){var r=a["a"].create("GetSkuBarCodeReq",e);return Object(a["a"])("erp","WarehouseBossService.GetSkuBarCode",r,"warehouse.GetSkuBarCodeResp")}function L(e){var r=a["a"].create("SpiltOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.SpiltOutOrder",r,"warehouse.SpiltOutOrderResp")}function N(e){var r=a["a"].create("RevokeSpiltOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.RevokeSpiltOutOrder",r,"warehouse.RevokeSpiltOutOrderResp")}function x(e){var r=a["a"].create("GetReissueWarehouseReq",e);return Object(a["a"])("erp","OutOrderBossService.GetReissueWarehouse",r,"warehouse.GetReissueWarehouseResp")}function P(e){var r=a["a"].create("ReissueOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.ReissueOutOrder",r,"warehouse.ReissueOutOrderResp")}function A(e){var r=a["a"].create("BarterOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.BarterOutOrder",r,"warehouse.BarterOutOrderResp")}function z(e){var r=a["a"].create("EditOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.EditOutOrder",r,"warehouse.EditOutOrderResp")}function E(e){var r=a["a"].create("CancelOutOrderReq",e);return Object(a["a"])("erp","OutOrderBossService.CancelOutOrder",r,"warehouse.CancelOutOrderResp")}function $(e){var r=a["a"].create("DiffInventoryRecordPageReq",e);return Object(a["a"])("erp","DiffInventoryRecordBossService.DiffInventoryRecordPage",r,"warehouse.DiffInventoryRecordPageResp")}function G(e){var r=a["a"].create("DiffInventoryRecordPageReq",e);return Object(a["a"])("erp","DiffInventoryRecordBossService.DiffInventoryRecordExport",r,"warehouse.DiffInventoryRecordExportResp")}function F(e){var r=a["a"].create("ValidateWarehouseInventoryReq",e);return Object(a["a"])("erp","DiffInventoryRecordBossService.ValidateWarehouseInventory",r,"warehouse.ValidateWarehouseInventoryResp")}function W(e){var r=a["a"].create("NewIncomeOrderPageReq",e);return Object(a["a"])("erp","IncomeOrderBossService.NewIncomeOrderPage",r,"warehouse.NewIncomeOrderPageResp")}function M(e){var r=a["a"].create("NewIncomeOrderPageReq",e);return Object(a["a"])("erp","IncomeOrderBossService.NewIncomeOrderExport",r,"warehouse.NewIncomeOrderExportResp")}function Q(e){var r=a["a"].create("SyncLogicDetailReq",e);return Object(a["a"])("erp","IncomeOrderBossService.SyncLogicDetail",r,"warehouse.SyncLogicDetailResp")}function U(e){var r=a["a"].create("SyncIncomeReq",e);return Object(a["a"])("erp","IncomeOrderBossService.SyncIncome",r,"warehouse.SyncIncomeResp")}function H(e){var r=a["a"].create("IncomeProductDetailReq",e);return Object(a["a"])("erp","IncomeOrderBossService.IncomeProductDetail",r,"warehouse.IncomeProductDetailResp")}function J(e){var r=a["a"].create("OrderIncomeCheckReq",e);return Object(a["a"])("erp","IncomeOrderBossService.OrderIncomeCheck",r,"warehouse.OrderIncomeCheckResp")}function V(e){var r=a["a"].create("OrderIncomeReq",e);return Object(a["a"])("erp","IncomeOrderBossService.OrderIncome",r,"warehouse.OrderIncomeResp")}function K(e){var r=a["a"].create("EnterAbnormalProductReq",e);return Object(a["a"])("erp","AbnormalBossService.EnterAbnormalProduct",r,"warehouse.EnterAbnormalProductResp")}},"9b5f":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"reserve-flow"},[t("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(r){e.activeName=r},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"平台库存",name:"platform"}}),t("el-tab-pane",{attrs:{label:"商家库存",name:"merchant"}})],1),"platform"===e.activeName?t("inventory-flow"):e._e(),"merchant"===e.activeName?t("stock-flow"):e._e()],1)},n=[],o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"inventory-flow"},[t("div",{staticClass:"filter-container"},[t("el-form",{ref:"inventoryFlowFilterForm",attrs:{inline:"","label-width":"100px",model:e.queryData}},[t("el-form-item",{staticClass:"filter-item",attrs:{prop:"skuCode",label:"skuCode："}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入skuCode",size:"medium"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.search()}},model:{value:e.queryData.skuCode,callback:function(r){e.$set(e.queryData,"skuCode",r)},expression:"queryData.skuCode"}})],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"warehouseNo",label:"仓库："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择仓库"},on:{change:e.search},model:{value:e.queryData.warehouseNo,callback:function(r){e.$set(e.queryData,"warehouseNo",r)},expression:"queryData.warehouseNo"}},e._l(e.warehouseList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.warehouseName,value:e.warehouseNo}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"qtyType",label:"库存类型："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择库存类型"},on:{change:e.search},model:{value:e.queryData.qtyType,callback:function(r){e.$set(e.queryData,"qtyType",r)},expression:"queryData.qtyType"}},e._l(e.qtyTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("span",{directives:[{name:"show",rawName:"v-show",value:e.drop,expression:"drop"}]},[t("el-form-item",{staticClass:"filter-item",attrs:{prop:"recordType",label:"变化类型："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择变化类型"},on:{change:e.search},model:{value:e.queryData.recordType,callback:function(r){e.$set(e.queryData,"recordType",r)},expression:"queryData.recordType"}},e._l(e.inventoryRecordTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.name,value:e.type}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"sourceType",label:"来源单据："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择来源单据"},on:{change:e.search},model:{value:e.queryData.sourceType,callback:function(r){e.$set(e.queryData,"sourceType",r)},expression:"queryData.sourceType"}},e._l(e.qtySourceTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"sourceNo",label:"来源单号："}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入来源单号",size:"medium"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.search()}},model:{value:e.queryData.sourceNo,callback:function(r){e.$set(e.queryData,"sourceNo",r)},expression:"queryData.sourceNo"}})],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"timeList",label:"时间范围："}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange",size:"medium","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.queryData.timeList,callback:function(r){e.$set(e.queryData,"timeList",r)},expression:"queryData.timeList"}})],1)],1),t("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[t("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")]),t("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",underline:!1},on:{click:e.dropDown}},[e._v("\n                        "+e._s(e.dropDownContent)+"\n                        "),t("i",{class:e.dropDownIcon})])],1)],1)],1),t("div",{staticClass:"main-content-wrapper"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",height:"100%"}},[t("el-table-column",{attrs:{label:"skuCode",fixed:"left",align:"center","min-width":"130px",prop:"skuCode"}}),t("el-table-column",{attrs:{label:"商品名称",prop:"nameCn",align:"center","min-width":"180px"}}),t("el-table-column",{attrs:{label:"仓库名称",prop:"warehouseName",align:"center","min-width":"100px"}}),t("el-table-column",{attrs:{label:"库存类型",prop:"type",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(r){return[1===r.row.qtyType?t("span",[e._v("在库库存")]):e._e(),2===r.row.qtyType?t("span",[e._v("备货库存")]):e._e(),3===r.row.qtyType?t("span",[e._v("待出库库存")]):e._e(),6===r.row.qtyType?t("span",[e._v("可分配库存")]):e._e(),7===r.row.qtyType?t("span",[e._v("已占用库存")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"库存变化类型",prop:"recordType",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                        "+e._s(e.getTypeName(r.row.recordType))+"\n")]}}])}),t("el-table-column",{attrs:{label:"来源单据",prop:"sourceType",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(r){return[1===r.row.sourceType?t("span",[e._v("入库单")]):e._e(),2===r.row.sourceType?t("span",[e._v("出库单")]):e._e(),3===r.row.sourceType?t("span",[e._v("订单")]):e._e(),4===r.row.sourceType?t("span",[e._v("采购单")]):e._e()]}}])}),t("el-table-column",{attrs:{label:"来源单号",prop:"sourceNo",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                        "+e._s(r.row.sourceNo||"-")+"\n                    ")]}}])}),t("el-table-column",{attrs:{label:"操作数量",prop:"count",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.row.count>0?t("span",[e._v(" "+e._s("+"+r.row.count||!1))]):t("span",[e._v(" "+e._s(r.row.count||"-"))])]}}])}),t("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                        "+e._s(e._f("secondTimeFormat")(r.row.createTime))+"\n                    ")]}}])}),t("el-table-column",{attrs:{label:"操作人",prop:"userName",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                        "+e._s(r.row.userName||"-")+"\n                    ")]}}])}),t("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                        "+e._s(r.row.remark||"-")+"\n                    ")]}}])})],1)],1),t("div",{staticClass:"pagination-box"},[t("el-pagination",{attrs:{"current-page":e.queryData.page.pageNum,"page-sizes":[10,20,30,50],"page-size":e.queryData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])},i=[],s=(t("7f7f"),t("7514"),t("84a3")),u=t("e77f"),l={components:{},data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"el-icon-arrow-down",queryData:{warehouseNo:"",skuCode:"",qtyType:null,recordType:null,sourceType:null,sourceNo:"",timeList:[],startTime:"",endTime:"",page:{pageNum:1,pageSize:20}},loading:!1,total:0,warehouseList:[],qtyTypeList:[{value:1,label:"在库库存"},{value:2,label:"备货库存"},{value:3,label:"待出库库存"},{value:6,label:"可分配库存"},{value:7,label:"已占用库存"}],inventoryRecordTypeList:[],qtySourceTypeList:[{value:1,label:"入库单"},{value:2,label:"出库单"},{value:3,label:"订单"},{value:4,label:"采购单"}],dataList:[]}},computed:{nowEndDate:function(){return this.$store.state.globalNum.nowEndDate},lastMonthDate:function(){return this.$store.state.globalNum.lastMonthDate}},created:function(){this.getGetRecordTypeList(),this.queryData.timeList=[this.lastMonthDate,this.nowEndDate],this.getWarehouseList(),this.$route.params.skuCode&&this.$route.params.warehouseNo&&(this.queryData.skuCode=this.$route.params.skuCode,this.queryData.warehouseNo=this.$route.params.warehouseNo)},mounted:function(){this.getInventoryRecordPageList()},methods:{getTypeName:function(e){var r=this.inventoryRecordTypeList.find((function(r){return r.type==e}));return r?r.name:e},getGetRecordTypeList:function(){var e=this,r={page:{pageSize:100,pageNum:1}};Object(u["b"])(this.filterData(r)).then((function(r){1===r.ret.errcode&&(console.log(r),e.inventoryRecordTypeList=r.type)})).catch((function(e){console.log(e)}))},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="el-icon-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="el-icon-arrow-up"),this.drop=!this.drop},getWarehouseList:function(){var e=this,r={page:{pageSize:100,pageNum:1}};Object(s["U"])(this.filterData(r)).then((function(r){1===r.ret.errcode&&(e.warehouseList=r.list)})).catch((function(e){console.log(e)}))},getInventoryRecordPageList:function(){var e=this;this.loading=!0;var r=this.queryData;r.timeList=r.timeList||[],r.startTime=r.timeList[0],r.endTime=r.timeList[1],Object(u["i"])(this.filterData(r)).then((function(r){e.loading=!1,1===r.ret.errcode&&(e.dataList=r.list,e.total=r.total)})).catch((function(r){e.loading=!1,console.log(r)}))},handleSizeChange:function(e){this.queryData.page.pageSize=e,this.getInventoryRecordPageList()},handleCurrentChange:function(e){this.queryData.page.pageNum=e,this.getInventoryRecordPageList()},search:function(){this.queryData.page.pageNum=1,this.queryData.page.pageSize=20,this.getInventoryRecordPageList()},resetSearch:function(){this.$refs.inventoryFlowFilterForm.resetFields(),this.queryData.skuCode="",this.queryData.warehouseNo="",console.log(this.queryData),this.getInventoryRecordPageList()}}},c=l,p=(t("ad2e"),t("2877")),d=Object(p["a"])(c,o,i,!1,null,"34dabda6",null),f=d.exports,m=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"stock-flow"},[t("div",{staticClass:"filter-container"},[t("el-form",{ref:"stockFlowFilterForm",attrs:{inline:"","label-width":"100px",model:e.queryData}},[t("el-form-item",{staticClass:"filter-item",attrs:{prop:"skuCode",label:"skuCode："}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入skuCode",size:"medium"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.search()}},model:{value:e.queryData.skuCode,callback:function(r){e.$set(e.queryData,"skuCode",r)},expression:"queryData.skuCode"}})],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"supplierId",label:"供应商："}},[t("el-select",{attrs:{"remote-method":e.getSupplierList,filterable:"",clearable:"",remote:"","reserve-keyword":"",placeholder:"请输入供应商",size:"medium"},on:{change:e.search},model:{value:e.queryData.supplierId,callback:function(r){e.$set(e.queryData,"supplierId",r)},expression:"queryData.supplierId"}},e._l(e.supplierList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.supplierName,value:e.supplierId}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"qtyType",label:"库存类型："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择库存类型"},on:{change:e.search},model:{value:e.queryData.qtyType,callback:function(r){e.$set(e.queryData,"qtyType",r)},expression:"queryData.qtyType"}},e._l(e.qtyTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("span",{directives:[{name:"show",rawName:"v-show",value:e.drop,expression:"drop"}]},[t("el-form-item",{staticClass:"filter-item",attrs:{prop:"optSource",label:"操作来源："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择变化类型"},on:{change:e.search},model:{value:e.queryData.optSource,callback:function(r){e.$set(e.queryData,"optSource",r)},expression:"queryData.optSource"}},e._l(e.optSourceTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"orderType",label:"来源单据："}},[t("el-select",{attrs:{clearable:"",size:"medium",placeholder:"请选择来源单据"},on:{change:e.search},model:{value:e.queryData.orderType,callback:function(r){e.$set(e.queryData,"orderType",r)},expression:"queryData.orderType"}},e._l(e.qtySourceTypeList,(function(e,r){return t("el-option",{key:r,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"sourceNo",label:"来源单号："}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入来源单号",size:"medium"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.search()}},model:{value:e.queryData.sourceNo,callback:function(r){e.$set(e.queryData,"sourceNo",r)},expression:"queryData.sourceNo"}})],1),t("el-form-item",{staticClass:"filter-item",attrs:{prop:"timeList",label:"时间范围："}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange",size:"medium","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.queryData.timeList,callback:function(r){e.$set(e.queryData,"timeList",r)},expression:"queryData.timeList"}})],1)],1),t("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[t("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),t("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")]),t("el-link",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",underline:!1},on:{click:e.dropDown}},[e._v("\n                    "+e._s(e.dropDownContent)+"\n                    "),t("i",{class:e.dropDownIcon})])],1)],1)],1),t("div",{staticClass:"main-content-wrapper"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:"",height:"100%"}},[t("el-table-column",{attrs:{label:"skuCode",fixed:"left",align:"center","min-width":"130px",prop:"skuCode"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.skuCode))])]}}])}),t("el-table-column",{attrs:{label:"商品名称",prop:"nameCn",align:"center","min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",{staticClass:"produt"},[t("div",{staticClass:"product-content"},[t("div",{staticClass:"product-content-name"},[e._v(e._s(r.row.skuName))])])])]}}])}),t("el-table-column",{attrs:{label:"供应商ID",prop:"supplierName",align:"center","min-width":"110px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.supplierId))])]}}])}),t("el-table-column",{attrs:{label:"库存类型",prop:"type",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.qtyType))])]}}])}),t("el-table-column",{attrs:{label:"操作来源",prop:"type",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.optSource))])]}}])}),t("el-table-column",{attrs:{label:"来源单据",prop:"orderType",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("div",[e._v(e._s(r.row.orderType))])]}}])}),t("el-table-column",{attrs:{label:"来源单号",prop:"sourceNo",align:"center",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(r.row.sourceNo||"-")+"\n                ")]}}])}),t("el-table-column",{attrs:{label:"操作数量",prop:"opt_qty",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(r){return["增加"===r.row.changeType?t("span",[e._v(" "+e._s("+"+r.row.optQty))]):t("span",[e._v(" "+e._s("-"+r.row.optQty))])]}}])}),t("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(r.row.createTime)+"\n                ")]}}])}),t("el-table-column",{attrs:{label:"操作人",prop:"userName",align:"center","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(r.row.operatorName||"-")+"\n                ")]}}])}),t("el-table-column",{attrs:{label:"备注",prop:"remark",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v("\n                    "+e._s(r.row.remark||"-")+"\n                ")]}}])})],1)],1),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.queryData.page.pageNum,"page-sizes":[10,20,30,50],"page-size":e.queryData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)])},v=[],y=t("345d"),h={components:{},data:function(){return{drop:!1,dropDownContent:"展开",dropDownIcon:"el-icon-arrow-down",queryData:{supplierId:"",skuCode:"",snapCode:"",qtyType:null,optSource:null,orderType:null,sourceNo:"",timeList:[],startTime:"",endTime:"",page:{pageNum:1,pageSize:10}},loading:!1,total:0,supplierList:[],qtyTypeList:[{value:1,label:"锁定库存"},{value:2,label:"商家库存"},{value:3,label:"平台库存"}],optSourceTypeList:[{value:1,label:"确认采购"},{value:2,label:"生成jit订单"},{value:3,label:"jit订单发货"},{value:4,label:"采购订单发货"},{value:5,label:"jit订单取消"},{value:6,label:"入库确认"},{value:7,label:"确认出库"},{value:8,label:"商家修改库存"},{value:9,label:"标记缺货"}],qtySourceTypeList:[{value:1,label:"采购单"},{value:2,label:"出库单"},{value:3,label:"入库单"},{value:4,label:"直邮订单"}],dataList:[]}},computed:{nowEndDate:function(){return this.$store.state.globalNum.nowEndDate},lastMonthDate:function(){return this.$store.state.globalNum.lastMonthDate}},created:function(){this.queryData.timeList=[this.lastMonthDate,this.nowEndDate],this.$route.params.skuCode&&this.$route.params.supplierId&&(this.queryData.skuCode=this.$route.params.skuCode,this.queryData.supplierId=this.$route.params.supplierId,this.queryData.snapCode=this.$route.params.snapCode)},mounted:function(){this.getQuerySupplierInventoryRecordByCondition()},methods:{dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="el-icon-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="el-icon-arrow-up"),this.drop=!this.drop},getSupplierList:function(e){var r=this,t={supplierName:e};Object(y["i"])(this.filterData(t)).then((function(e){console.log(e),1===e.ret.errcode&&(r.supplierList=e.list)}))},getQuerySupplierInventoryRecordByCondition:function(){var e=this;this.loading=!0;var r=this.queryData;r.timeList=r.timeList||[],r.startTime=r.timeList[0],r.endTime=r.timeList[1],Object(u["d"])(this.filterData(r)).then((function(r){e.loading=!1,1===r.ret.errcode&&(e.dataList=r.supplierInventoryPB,e.total=r.total)})).catch((function(r){e.loading=!1,console.log(r)}))},handleSizeChange:function(e){this.queryData.page.pageSize=e,this.getQuerySupplierInventoryRecordByCondition()},handleCurrentChange:function(e){this.queryData.page.pageNum=e,this.getQuerySupplierInventoryRecordByCondition()},search:function(){this.queryData.page.pageNum=1,this.queryData.page.pageSize=10,this.getQuerySupplierInventoryRecordByCondition()},resetSearch:function(){this.$refs.stockFlowFilterForm.resetFields(),console.log(this.queryData),this.getQuerySupplierInventoryRecordByCondition()}}},b=h,g=(t("0aff"),Object(p["a"])(b,m,v,!1,null,"5629b01e",null)),O=g.exports,S={data:function(){return{activeName:"platform"}},components:{InventoryFlow:f,StockFlow:O},created:function(){console.log(this.$route.params),this.$route.params.activeName&&(this.activeName=this.$route.params.activeName)},methods:{handleClick:function(){}}},w=S,R=(t("643d"),Object(p["a"])(w,a,n,!1,null,"74d119ba",null));r["default"]=R.exports},ad2e:function(e,r,t){"use strict";var a=t("2dae"),n=t.n(a);n.a},e77f:function(e,r,t){"use strict";t.d(r,"h",(function(){return n})),t.d(r,"i",(function(){return o})),t.d(r,"f",(function(){return i})),t.d(r,"a",(function(){return s})),t.d(r,"g",(function(){return u})),t.d(r,"e",(function(){return l})),t.d(r,"b",(function(){return c})),t.d(r,"c",(function(){return p})),t.d(r,"d",(function(){return d}));var a=t("284b");function n(e){console.log(e);var r=a["a"].create("InventoryPageReq",e);return Object(a["a"])("erp","InventoryBossService.InventoryPage",r,"inventory.InventoryPageResp")}function o(e){console.log(e);var r=a["a"].create("InventoryRecordPageReq",e);return Object(a["a"])("erp","InventoryBossService.InventoryRecordPage",r,"inventory.InventoryRecordPageResp")}function i(e){console.log(e);var r=a["a"].create("AdminUpdateInventoryReq",e);return Object(a["a"])("erp","InventoryBossService.AdminUpdateInventory",r,"inventory.AdminUpdateInventoryResp")}function s(e){console.log(e);var r=a["a"].create("AdminUpdateInventoryReq",e);return Object(a["a"])("erp","InventoryBossService.AdminUpdateInventory",r,"inventory.AdminUpdateInventoryResp")}function u(e){var r=a["a"].create("SkuInfoReq",e);return Object(a["a"])("erp","InventoryBossService.GetSkuInfo",r,"inventory.SkuInfoResp")}function l(e){var r=a["a"].create("AddInventoryReq",e);return Object(a["a"])("erp","InventoryBossService.AddInventory",r,"inventory.AddInventoryResp")}function c(e){var r=a["a"].create("GetRecordTypeReq",e);return Object(a["a"])("erp","InventoryBossService.GetRecordType",r,"inventory.GetRecordTypeResp")}function p(e){var r=a["a"].create("SupplierInventoryDataReq",e);return Object(a["a"])("erp","InventoryBossService.QuerySupplierInventoryByCondition",r,"inventory.SupplierInventoryDataResp")}function d(e){var r=a["a"].create("SupplierInventoryRecordReq",e);return Object(a["a"])("erp","InventoryBossService.QuerySupplierInventoryRecordByCondition",r,"inventory.SupplierInventoryRecordResp")}},fa93:function(e,r,t){}}]);