(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b08b603a"],{"0cd8":function(e,t,r){"use strict";r.d(t,"O",(function(){return u})),r.d(t,"N",(function(){return n})),r.d(t,"Q",(function(){return c})),r.d(t,"P",(function(){return i})),r.d(t,"M",(function(){return s})),r.d(t,"A",(function(){return o})),r.d(t,"C",(function(){return l})),r.d(t,"R",(function(){return p})),r.d(t,"B",(function(){return h})),r.d(t,"L",(function(){return d})),r.d(t,"E",(function(){return m})),r.d(t,"G",(function(){return f})),r.d(t,"I",(function(){return P})),r.d(t,"K",(function(){return v})),r.d(t,"J",(function(){return b})),r.d(t,"H",(function(){return y})),r.d(t,"F",(function(){return S})),r.d(t,"D",(function(){return g})),r.d(t,"z",(function(){return q})),r.d(t,"l",(function(){return O})),r.d(t,"y",(function(){return D})),r.d(t,"x",(function(){return R})),r.d(t,"m",(function(){return C})),r.d(t,"j",(function(){return k})),r.d(t,"v",(function(){return T})),r.d(t,"w",(function(){return x})),r.d(t,"u",(function(){return j})),r.d(t,"n",(function(){return E})),r.d(t,"r",(function(){return _})),r.d(t,"p",(function(){return w})),r.d(t,"s",(function(){return G})),r.d(t,"q",(function(){return L})),r.d(t,"o",(function(){return A})),r.d(t,"t",(function(){return N})),r.d(t,"i",(function(){return B})),r.d(t,"d",(function(){return I})),r.d(t,"b",(function(){return z})),r.d(t,"h",(function(){return H})),r.d(t,"k",(function(){return U})),r.d(t,"e",(function(){return $})),r.d(t,"f",(function(){return M})),r.d(t,"g",(function(){return F})),r.d(t,"c",(function(){return J})),r.d(t,"a",(function(){return Q}));var a=r("284b");function u(e){console.log(e);var t=a["a"].create("PurchaseOrderSavePbReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.SavePo",t,"purchase.PurchaseOrderSavePbResp")}function n(e){console.log(e);var t=a["a"].create("PurchaseOrderReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurchaseOrderPage",t,"purchase.PurchaseOrderResp")}function c(e){console.log(e);var t=a["a"].create("PoSingleEditReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.SinglePoEdit",t,"purchase.PoSingleEditResp")}function i(e){console.log(e);var t=a["a"].create("PurchaseOrderSingleMakeupReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.SingleMakeup",t,"purchase.PurchaseOrderSingleMakeupResp")}function s(e){console.log(e);var t=a["a"].create("PurchasePartCancelReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.PartCancel",t,"purchase.PurchasePartCancelResp")}function o(e){console.log(e);var t=a["a"].create("PurchaseOrderCancelReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.AllCancel",t,"purchase.PurchaseOrderCancelResp")}function l(e){console.log(e);var t=a["a"].create("EnsurePurchaseReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.EnsurePurchase",t,"purchase.EnsurePurchaseResp")}function p(e){console.log(e);var t=a["a"].create("StockOutReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.Stockout",t,"purchase.StockOutResp")}function h(e){console.log(e);var t=a["a"].create("DeliverReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.Deliver",t,"purchase.DeliverResp")}function d(e){console.log(e);var t=a["a"].create("ImportShipReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.ImportShip",t,"purchase.ImportShipResp")}function m(e){console.log(e);var t=a["a"].create("PoDetailReq",e);return Object(a["a"])("erp","PurchaseOrderService.ExportoPo",t,"purchase.ExportPoResp")}function f(e){console.log(e);var t=a["a"].create("PoDetailReq",e);return Object(a["a"])("erp","PurchaseOrderService.GetPurchaseOrder",t,"purchase.PoDetailResp")}function P(e){console.log(e);var t=a["a"].create("PurchaseStatusRateReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurchaseStatusRate",t,"purchase.PurchaseStatusRateResp")}function v(e){console.log(e);var t=a["a"].create("SkuDeliveryDetailReq",e);return Object(a["a"])("erp","PurchaseOrderService.SkuDeliveryDetail",t,"purchase.SkuDeliveryDetailResp")}function b(e){console.log(e);var t=a["a"].create("SkuAbnormalDetailReq",e);return Object(a["a"])("erp","PurchaseOrderService.SkuAbnormalDetail",t,"purchase.SkuAbnormalDetailResp")}function y(e){console.log(e);var t=a["a"].create("PurchaseRelationOrderReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurchaseRelationOrder",t,"purchase.PurchaseRelationOrderResp")}function S(e){var t=a["a"].create("PurchaseOrderReq",e);return Object(a["a"])("erp","PurchaseOrderService.ExportoPos",t,"purchase.ExportPoResp")}function g(e){var t=a["a"].create("PurchaseOrderReq",e);return Object(a["a"])("erp","PurchaseOrderService.ExportShipOrder",t,"purchase.ExportPoResp")}function q(e){var t=a["a"].create("PurchaseStockoutReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.PurchaseStockout",t,"purchase.PurchaseStockoutResp")}function O(e){var t=a["a"].create("GetStockoutDataReq",e);return Object(a["a"])("erp","PurchaseOrderService.GetStockoutData",t,"purchase.GetStockoutDataResp")}function D(e){var t=a["a"].create("PurchaseSkuOrderPageReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurchaseSkuOrderPage",t,"purchase.PurchaseSkuOrderPageResp")}function R(e){var t=a["a"].create("PurchaseSkuOrderExportReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurchaseSkuOrderExport",t,"purchase.PurchaseSkuOrderExportResp")}function C(e){var t=a["a"].create("ImportBatchPurchaseReq",e);return Object(a["a"])("erp","PurchaseOrderHandleService.ImportBatchPurchase",t,"purchase.ImportBatchPurchaseResp")}function k(e){var t=a["a"].create("ExportPurEnsureTemplateReq",e);return Object(a["a"])("erp","PurchaseOrderService.ExportPurEnsureTemplate",t,"purchase.ExportPurEnsureTemplateResp")}function T(e){var t=a["a"].create("PurEnsureImportPageReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurEnsureImportPage",t,"purchase.PurEnsureImportPageResp")}function x(e){var t=a["a"].create("PurExportTaskPageReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurExportTaskPage",t,"purchase.PurExportTaskPageResp")}function j(e){var t=a["a"].create("PurEnsureImportDetailPageReq",e);return Object(a["a"])("erp","PurchaseOrderService.PurEnsureImportDetailPage",t,"purchase.PurEnsureImportDetailPageResp")}function E(e){var t=a["a"].create("PurCateGroupAddReq",e);return Object(a["a"])("erp","PurCateGroupService.SaveAndUpdate",t,"purchase.PurCateGroupAddResp")}function _(e){var t=a["a"].create("PurCateGroupQueryReq",e);return Object(a["a"])("erp","PurCateGroupService.GetPurCateGroupList",t,"purchase.PurCateGroupListResp")}function w(e){var t=a["a"].create("PurCateGroupDetailReq",e);return Object(a["a"])("erp","PurCateGroupService.PurCateGroupDetail",t,"purchase.PurCateGroupDetailResp")}function G(e){var t=a["a"].create("PurCateGroupQueryReq",e);return Object(a["a"])("erp","PurCateGroupService.GetPurCateGroupBuyerList",t,"purchase.PurCateGroupBuyerListResp")}function L(e){var t=a["a"].create("PurCateGroupEditBuyerReq",e);return Object(a["a"])("erp","PurCateGroupService.EditBuyerGroup",t,"purchase.PurCateGroupEditBuyerResp")}function A(e){var t=a["a"].create("PurCateGroupBuyerDetailReq",e);return Object(a["a"])("erp","PurCateGroupService.PurCateGroupBuyerDetail",t,"purchase.PurCateGroupBuyerDetailResp")}function N(e){var t=a["a"].create("PurCateGroupSelectReq",e);return Object(a["a"])("erp","PurCateGroupService.GetPurCateGroupSelect",t,"purchase.PurCateGroupSelectResp")}function B(e){var t=a["a"].create("DeletePurCateGroupBuyerReq",e);return Object(a["a"])("erp","PurCateGroupService.DeletePurCateGroupBuyer",t,"purchase.DeletePurCateGroupBuyerResp")}function I(e){var t=a["a"].create("AutoPurchaseOrderListReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPurchaseList",t,"purchase.AutoPurchaseOrderListResp")}function z(e){var t=a["a"].create("AutoPayCheckReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPayCheck",t,"purchase.AutoPayCheckResp")}function H(e){var t=a["a"].create("CanPayBatchReq",e);return Object(a["a"])("erp","PurchaseAutoService.CanPayBatch",t,"purchase.CanPayBatchResp")}function U(e){var t=a["a"].create("GeneratePayUrlReq",e);return Object(a["a"])("erp","PurchaseAutoService.GeneratePayUrl",t,"purchase.GeneratePayUrlResp")}function $(e){var t=a["a"].create("AutoPurchaseSkuCancelReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPurchaseSkuCancel",t,"purchase.AutoPurchaseSkuCancelResp")}function M(e){var t=a["a"].create("AutoPurchaseSkuPriceReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPurchaseSkuPrice",t,"purchase.AutoPurchaseSkuPriceResp")}function F(e){var t=a["a"].create("AutoPurchaseUpdateReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPurchaseUpdate",t,"purchase.AutoPurchaseUpdateResp")}function J(e){var t=a["a"].create("AutoPurchaseDetailReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoPurchaseDetail",t,"purchase.AutoPurchaseDetailResp")}function Q(e){var t=a["a"].create("AutoBatchPurchaseReq",e);return Object(a["a"])("erp","PurchaseAutoService.AutoBatchPurchase",t,"purchase.AutoBatchPurchaseResp")}},32517:function(e,t,r){},b7ab:function(e,t,r){"use strict";var a=r("32517"),u=r.n(a);u.a},f747:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"task-list"},[r("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"导出任务",name:"second"}})],1),r("el-form",{ref:"directMailFilter",attrs:{inline:"","label-width":"80px",model:e.queryData}},[r("el-form-item",{staticClass:"filter-item",attrs:{label:"时间："}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.timeChoseChange},model:{value:e.queryData.timeChose,callback:function(t){e.$set(e.queryData,"timeChose",t)},expression:"queryData.timeChose"}},e._l(e.timeChoseList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"filter-item",attrs:{prop:"timeList"}},[r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"medium",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.queryData.timeList,callback:function(t){e.$set(e.queryData,"timeList",t)},expression:"queryData.timeList"}})],1),r("span",["first"==e.activeName?r("el-form-item",{staticClass:"filter-item",attrs:{prop:"importType",label:"任务类型："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryData.importType,callback:function(t){e.$set(e.queryData,"importType",t)},expression:"queryData.importType"}},e._l(e.importTypeList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1),r("span",["second"==e.activeName?r("el-form-item",{staticClass:"filter-item",attrs:{prop:"exportType",label:"任务类型："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryData.exportType,callback:function(t){e.$set(e.queryData,"exportType",t)},expression:"queryData.exportType"}},e._l(e.exportTypeList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()],1),r("el-form-item",{staticClass:"filter-item",attrs:{label:"提交人："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入",size:"medium"},model:{value:e.queryData.buyerName,callback:function(t){e.$set(e.queryData,"buyerName",t)},expression:"queryData.buyerName"}})],1),r("el-form-item",{staticClass:"filter-item",attrs:{label:"任务状态："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryData.importStatus,callback:function(t){e.$set(e.queryData,"importStatus",t)},expression:"queryData.importStatus"}},e._l(e.importStatusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[r("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{label:"任务号",width:"200",align:"center",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s("first"==e.activeName?t.row.importNo:t.row.exportNo||"-"))])]}}])}),r("el-table-column",{attrs:{label:"提交日期",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(e._f("formatTime")(t.row.submitTime)))])]}}])}),r("el-table-column",{attrs:{label:"任务开始时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(e._f("formatTime")(t.row.startTime)))])]}}])}),r("el-table-column",{attrs:{label:"任务结束时间",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",[e._v(e._s(e._f("formatTime")(t.row.endTime)))])]}}])}),r("el-table-column",{attrs:{label:"任务类型",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(3==t.row.exportType?"出库单导出":4==t.row.exportType?"入库单导出":"异常库存导出"))]}}])}),r("el-table-column",{attrs:{label:"提交人",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.submitName))]}}])}),r("el-table-column",{attrs:{label:"状态",width:"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("first"==e.activeName?e.importStatus[t.row.importStatus]:e.exportStatus(t.row.exportStatus)))]}}])}),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["first"==e.activeName?r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.detailClick(t.row.importNo)}}},[e._v("详情")]):e._e(),2===t.row.importStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.errorClick(t.row.errorUrl)}}},[e._v("下载错误记录")]):e._e(),3==t.row.exportStatus?r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.successClick(t.row)}}},[e._v("下载")]):e._e(),2==t.row.exportStatus?r("span",[e._v("导出失败,请重新导出")]):e._e()]}}])})],1),r("div",{staticClass:"page-wrapper"},[r("el-pagination",{attrs:{"current-page":e.queryData.page.pageNum,"page-sizes":[10,20,30,50],"page-size":e.queryData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChanges,"current-change":e.handleCurrentChanges}})],1)],1)},u=[],n=(r("7f7f"),r("7514"),r("e7c2")),c=r("0cd8"),i={data:function(){return{activeName:"second",queryData:{timeChose:"1",timeList:[],importType:1,buyerName:"",importStatus:"",exportType:"3",page:{pageNum:1,pageSize:10}},exportTypeList:[{value:"3",label:"出库单导出"},{value:"4",label:"入库单导出"},{value:"5",label:"异常库存导出"}],total:0,timeChoseList:[{value:"1",label:"提交时间"},{value:"2",label:"任务开始时间"},{value:"3",label:"任务结束时间"}],importTypeList:[{value:1,label:"确认采购"}],buyerList:[],importStatusList:[{value:1,label:"导入处理中"},{value:2,label:"导入失败"},{value:3,label:"导入成功"}],tableData:[],importStatus:{1:"导入处理中",2:"导入失败",3:"导入成功"}}},mounted:function(){this.getBuyerList(),this.getPurEnsureImportPage()},methods:{getBuyerList:function(){var e=this,t={page:{pageNum:1,pageSize:1e3},groupIds:[68,69,70]};Object(n["l"])(t).then((function(t){1===t.ret.errcode&&(e.buyerList=t.sysUserPb)})).catch((function(e){console.log(e)})),console.log(this.buyerList)},exportType:function(e){var t="";return 1==e?t="采购单批量导出":2==e&&(t="采购单批量导出（不带图)"),t},exportStatus:function(e){var t="";return 1==e?t="进行中":2==e?t="失败":3==e&&(t="成功"),t},timeChoseChange:function(e){console.log(e),this.queryData.timeChose=e},getPurEnsureImportPage:function(){var e=this,t={};console.log(this.queryData.timeChose),"1"===this.queryData.timeChose&&Object.assign(t,{beginSubmitTime:0!==this.queryData.timeList.length?this.queryData.timeList[0]:"",endSubmitTime:0!==this.queryData.timeList.length?this.queryData.timeList[1]:"",beginStartTime:"",endStartTime:"",beginEndTime:"",endEndTime:"",importType:this.queryData.importType,buyerName:this.queryData.buyerName,importStatus:this.queryData.importStatus,exportType:this.queryData.exportType,exportStatus:this.queryData.importStatus,page:this.queryData.page}),"2"===this.queryData.timeChose&&Object.assign(t,{beginSubmitTime:"",endSubmitTime:"",beginStartTime:0!==this.queryData.timeList.length?this.queryData.timeList[0]:"",endStartTime:0!==this.queryData.timeList.length?this.queryData.timeList[1]:"",beginEndTime:"",endEndTime:"",importType:this.queryData.importType,buyerName:this.queryData.buyerName,importStatus:this.queryData.importStatus,exportType:this.queryData.exportType,exportStatus:this.queryData.importStatus,page:this.queryData.page}),"3"===this.queryData.timeChose&&Object.assign(t,{beginSubmitTime:"",endSubmitTime:"",beginStartTime:"",endStartTime:"",beginEndTime:0!==this.queryData.timeList.length?this.queryData.timeList[0]:"",endEndTime:0!==this.queryData.timeList.length?this.queryData.timeList[1]:"",importType:this.queryData.importType,buyerName:this.queryData.buyerName,importStatus:this.queryData.importStatus,exportType:this.queryData.exportType,exportStatus:this.queryData.importStatus,page:this.queryData.page}),"first"==this.activeName?(delete t.exportType,delete t.exportStatus,Object(c["v"])(this.filterData(t)).then((function(t){1===t.ret.errcode&&(console.log(t),e.tableData=t.list,e.total=t.total)}))):(delete t.importStatus,delete t.importType,Object(c["w"])(this.filterData(t)).then((function(t){1===t.ret.errcode&&(console.log(t),e.tableData=t.list,e.total=t.total)})))},handleSizeChanges:function(e){this.queryData.page.pageSize=e,this.getPurEnsureImportPage()},handleCurrentChanges:function(e){this.queryData.page.pageNum=e,this.getPurEnsureImportPage()},search:function(){this.getPurEnsureImportPage()},resetSearch:function(){Object.assign(this.queryData,{timeChose:"1",timeList:[],importType:1,buyerId:"",exportType:"3",importStatus:null,page:{pageNum:1,pageSize:10}}),this.getPurEnsureImportPage()},searchBuyer:function(e){var t=this.buyerList.find((function(t){return e===t.sysUserId}));return t?t.nickName:"-"},detailClick:function(e){this.$router.push({name:"taskDetail",query:{importNo:e}})},errorClick:function(e){window.open(this.dealShowFileSrc(e))},successClick:function(e){window.open(this.dealShowFileSrc(e.exportFileUrl))},handleClick:function(e){"first"==e.name?this.importStatusList=[{value:1,label:"导入处理中"},{value:2,label:"导入失败"},{value:3,label:"导入成功"}]:this.importStatusList=[{value:1,label:"导出处理中"},{value:2,label:"导出失败"},{value:3,label:"导出成功"}],this.queryData.page.pageNum=1,this.getPurEnsureImportPage()}}},s=i,o=(r("b7ab"),r("2877")),l=Object(o["a"])(s,a,u,!1,null,"08723bdc",null);t["default"]=l.exports}}]);