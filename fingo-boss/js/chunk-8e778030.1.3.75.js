(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e778030"],{"16c9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tag-manage"},[a("el-form",{ref:"contentFilterForm",attrs:{inline:"","label-width":"90px",model:e.queryData}},[a("el-form-item",{staticClass:"filter-item",attrs:{label:"标签中文：",prop:"value"}},[a("el-input",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{size:"medium",placeholder:"请输入",clearable:""},model:{value:e.queryData.value,callback:function(t){e.$set(e.queryData,"value",t)},expression:"queryData.value"}})],1),a("el-form-item",{staticClass:"filter-item",attrs:{label:"创建日期：",prop:"timeList"}},[a("el-date-picker",{attrs:{size:"medium",type:"daterange","value-format":"timestamp","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.queryData.timeList,callback:function(t){e.$set(e.queryData,"timeList",t)},expression:"queryData.timeList"}})],1),a("el-form-item",{staticClass:"filter-item",staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"medium"},on:{click:e.search}},[e._v("搜索")]),a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"medium"},on:{click:e.resetSearch}},[e._v("重置")])],1)],1),a("el-button",{staticClass:"add-tag",attrs:{type:"primary"},on:{click:e.addTag}},[e._v("+ 添加标签")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center","show-overflow-tooltip":!0,width:"55"}}),a("el-table-column",{attrs:{align:"center",label:"标签名称-中文",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.languageTag("cn",t.row.tagName)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"标签名称-英文",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.languageTag("en",t.row.tagName)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"标签名称-马来文",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.languageTag("ms",t.row.tagName)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"标签名称-泰文",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.languageTag("th",t.row.tagName)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"标签名称-印尼",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e.languageTag("id",t.row.tagName)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"创建时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("formatTime")(t.row.createTime)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editTag(t.row)}}},[e._v("编辑")]),a("span",{staticClass:"vertical-bar"},[e._v("|")]),a("el-button",{staticClass:"delete-tag",attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteClick(t.row.tagId)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-box"},[a("el-pagination",{staticClass:"pagination",attrs:{"page-sizes":[10,20,50,100],"current-page":e.queryData.page.pageNum,"page-size":e.queryData.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1),a("tag-dialog",{attrs:{dialogVisible:e.dialogVisible,editType:e.editType,tagObject:e.tagObject},on:{"on-cancle":e.cancleEdit,"on-confirm":e.confirmEdit}})],1)},r=[],i=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("7f7f"),a("456d"),a("ac6a"),a("6b54"),a("dbb1")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"subject-edit-dialog"},[a("el-dialog",{attrs:{title:"add"===e.editType?"添加标签":"编辑标签",visible:e.toggle,width:"700px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.toggle=t},close:e.cancle}},[a("table",{staticClass:"table table-bordered table-info"},[a("tbody",e._l(e.languageList,(function(t,n){return a("tr",{key:n},[a("th",["cn"===t.code||"en"===t.code?a("span",{staticClass:"required"},[e._v("*")]):e._e(),e._v(" "+e._s(t.desc)+e._s(t.code)+" ")]),a("td",[a("el-input",{attrs:{clearable:"",size:"medium",placeholder:"请输入内容"},model:{value:e.tag[t.code],callback:function(a){e.$set(e.tag,t.code,a)},expression:"tag[item.code]"}})],1)])})),0)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.cancle}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1)},o=[],l={name:"tagDialog",data:function(){return{}},props:{editType:{type:String,default:"add"},dialogVisible:{type:Boolean,default:!1},tagObject:{type:Object,default:function(){return{}}},contentType:String},computed:{toggle:{get:function(){return this.dialogVisible},set:function(){}},languageList:function(){var e=JSON.parse(this.getStore("languageList"));return e},tag:function(){return this.tagObject}},methods:{reset:function(){var e=this;_.forEach(this.languageList,(function(t){e.$set(e.tag,t.code,"")}))},cancle:function(){this.$emit("on-cancle"),this.reset()},confirm:function(){""!==this.tag.cn?""!==this.tag.en?(console.log(this.tag),this.$emit("on-confirm",_.cloneDeep(this.tag))):this.$message.error("专题名英文不能为空！"):this.$message.error("专题中文不能为空！")}}},s=l,u=(a("6f29"),a("2877")),d=Object(u["a"])(s,c,o,!1,null,null,null),g=d.exports;function f(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=m(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==a.return||a.return()}finally{if(o)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var S={data:function(){return{queryData:{value:"",timeList:[],page:{pageSize:10,pageNum:1,pagingSwitch:!0}},total:0,tableData:[],loading:!0,tagObject:{cn:"",en:"",ms:"",th:"",id:""},editType:"add",dialogVisible:!1,tagId:"",createTime:""}},components:{tagDialog:g},mounted:function(){this.getSearchTagList()},methods:{getSearchTagList:function(){var e=this;this.loading=!0,console.log(this.queryData.timeList);var t={selectParam:this.queryData.value,startTime:this.queryData.timeList[0]?this.queryData.timeList[0].toString():null,endTime:this.queryData.timeList[1]?this.queryData.timeList[1].toString():null,pageInfo:this.queryData.page};Object(i["w"])(t).then((function(t){1===t.ret.errcode&&(console.log(t),e.loading=!1,e.tableData=t.articleTags,e.total=t.total)}))},languageTag:function(e,t){var a,n=f(t);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(e===r.language)return r.content}}catch(i){n.e(i)}finally{n.f()}},handleSizeChange:function(e){this.queryData.page.pageSize=e,this.getSearchTagList()},handleCurrentChange:function(e){this.queryData.page.pageNum=e||this.queryData.page.pageNum,this.getSearchTagList()},search:function(){this.getSearchTagList()},resetSearch:function(){this.queryData.value="",this.queryData.timeList=[],this.getSearchTagList()},deleteClick:function(e){var t=this,a={tagId:e};Object(i["i"])(a).then((function(e){1===e.ret.errcode&&(console.log(e),t.$message.success("删除成功！"))}))},addTag:function(){this.editType="add",this.dialogVisible=!0},editTag:function(e){this.editType="edit",this.tagId=e.tagId,this.createTime=e.createTime;var t,a=e.tagName,n=f(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;for(var i in this.tagObject)i===r.language&&(this.tagObject[i]=r.content)}}catch(c){n.e(c)}finally{n.f()}console.log(this.tagObject),this.dialogVisible=!0},cancleEdit:function(){this.dialogVisible=!1},confirmEdit:function(e){var t=this,a=[];Object.keys(e).forEach((function(t){void 0!==e[t]&&a.push({language:t,content:e[t]})})),console.log(a),this.dialogVisible=!1;var n={articleTag:{tagId:this.tagId,createTime:this.createTime,tagName:a}};Object(i["u"])(n).then((function(e){1===e.ret.errcode&&(console.log(e),t.tagId="",t.createTime="","add"===t.edit?t.$message.success("添加标签成功！"):t.$message.success("编辑标签成功！"),t.getSearchTagList())}))}}},h=S,v=(a("6b28"),Object(u["a"])(h,n,r,!1,null,"dfe21e3a",null));t["default"]=v.exports},5608:function(e,t,a){},"6b28":function(e,t,a){"use strict";var n=a("7332"),r=a.n(n);r.a},"6f29":function(e,t,a){"use strict";var n=a("5608"),r=a.n(n);r.a},7332:function(e,t,a){},dbb1:function(e,t,a){"use strict";a.d(t,"q",(function(){return r})),a.d(t,"r",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"n",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"o",(function(){return s})),a.d(t,"z",(function(){return u})),a.d(t,"E",(function(){return d})),a.d(t,"D",(function(){return g})),a.d(t,"C",(function(){return f})),a.d(t,"F",(function(){return m})),a.d(t,"v",(function(){return p})),a.d(t,"a",(function(){return S})),a.d(t,"k",(function(){return h})),a.d(t,"A",(function(){return v})),a.d(t,"s",(function(){return b})),a.d(t,"t",(function(){return y})),a.d(t,"j",(function(){return C})),a.d(t,"m",(function(){return R})),a.d(t,"g",(function(){return T})),a.d(t,"f",(function(){return A})),a.d(t,"h",(function(){return j})),a.d(t,"B",(function(){return q})),a.d(t,"e",(function(){return O})),a.d(t,"p",(function(){return w})),a.d(t,"b",(function(){return B})),a.d(t,"x",(function(){return D})),a.d(t,"w",(function(){return _})),a.d(t,"i",(function(){return E})),a.d(t,"u",(function(){return L})),a.d(t,"y",(function(){return k})),a.d(t,"l",(function(){return z}));var n=a("284b");function r(e){var t=n["a"].create("CmsSearchTagRequest",e);return Object(n["a"])("cms","CmsTagService.SearchTag",t,"CmsSearchTagResponse")}function i(e){var t=n["a"].create("SearchSpecialColumnInfoReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.SearchSpecialColumnInfo",t,"SearchSpecialColumnInfoResp")}function c(e){var t=n["a"].create("AddSpecialColumnReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.AddSpecialColumn",t,"EditSpecialColumnResp")}function o(e){var t=n["a"].create("EditSpecialColumnReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.EditSpecialColumn",t,"AddSpecialColumnResp")}function l(e){var t=n["a"].create("AddSpecialSubjectReq",e);return Object(n["a"])("cms","CmsSpecialSubjectService.AddSpecialSubject",t,"AddSpecialSubjectResp")}function s(e){var t=n["a"].create("EditSpecialSubjectReq",e);return Object(n["a"])("cms","CmsSpecialSubjectService.EditSpecialSubject",t,"EditSpecialSubjectResp")}function u(e){var t=n["a"].create("SortSpecialSubjectReq",e);return Object(n["a"])("cms","CmsSpecialSubjectService.SortSpecialSubject",t,"SortSpecialSubjectResp")}function d(e){var t=n["a"].create("SendArticleReq",e);return Object(n["a"])("cms","CmsArticleService.SendArticle",t,"SendArticleResp")}function g(e){var t=n["a"].create("WithdrawArticleReq",e);return Object(n["a"])("cms","CmsArticleService.WithdrawArticle",t,"WithdrawArticleResp")}function f(e){var t=n["a"].create("DeleteArticleReq",e);return Object(n["a"])("cms","CmsArticleService.DeleteArticle",t,"DeleteArticleResp")}function m(e){var t=n["a"].create("SortArticleReq",e);return Object(n["a"])("cms","CmsArticleService.SortArticle",t,"SortArticleResp")}function p(e){var t=n["a"].create("SearchArticleListBySortReq",e);return Object(n["a"])("cms","CmsArticleService.SearchArticleListBySort",t,"SearchArticleListBySortResp")}function S(e){var t=n["a"].create("AddArticleRequest",e);return Object(n["a"])("cms","CmsArticleService.AddArticle",t,"AddArticleResponse")}function h(e){var t=n["a"].create("EditArticleReq",e);return Object(n["a"])("cms","CmsArticleService.EditArticle",t,"EditArticleResp")}function v(e){var t=n["a"].create("ViewArticleDetailReq",e);return Object(n["a"])("cms","CmsArticleService.ViewArticleDetail",t,"ViewArticleDetailResp")}function b(e){var t=n["a"].create("PageSearchBannerReq",e);return Object(n["a"])("cms","BannerService.PageBanner",t,"PageSearchBannerResp")}function y(e){var t=n["a"].create("AddBannerReq",e);return Object(n["a"])("cms","BannerService.SaveBanner",t,"AddBannerResp")}function C(e){console.log(e);var t=n["a"].create("DeleteBannerByBannerCodeReq",e);return Object(n["a"])("cms","BannerService.DeleteBannerByBannerCode",t,"DeleteBannerByBannerCodeResp")}function R(e){var t=n["a"].create("EditBannerReq",e);return Object(n["a"])("cms","BannerService.EditBanner",t,"EditBannerResp")}function T(e){var t=n["a"].create("CopyBannerByBannerCodeReq",e);return Object(n["a"])("cms","BannerService.CopyBannerByBannerCode",t,"CopyBannerByBannerCodeResp")}function A(e){var t=n["a"].create("CopyArticleToOtherReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.CopyArticleToOther",t,"CopyArticleToOtherResp")}function j(e){var t=n["a"].create("CopyBannerToOtherReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.CopyBannerToOther",t,"CopyBannerToOtherResp")}function q(e){var t=n["a"].create("CopyArticleByArticleCodeReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.CopyArticleByArticleCode",t,"CopyArticleByArticleCodeResp")}function O(e){var t=n["a"].create("AddTopicReq",e);return Object(n["a"])("cms","TopicService.AddTopic",t,"AddTopicResp")}function w(e){var t=n["a"].create("EditTopicReq",e);return Object(n["a"])("cms","TopicService.EditTopic",t,"EditTopicResp")}function B(e){var t=n["a"].create("AddRoleReq",e);return Object(n["a"])("cms","CmsRoleService.AddRole",t,"AddRoleResp")}function D(e){var t=n["a"].create("ShowRoleReq",e);return Object(n["a"])("cms","CmsRoleService.ShowRole",t,"ShowRoleResp")}function _(e){var t=n["a"].create("SearchTagListReq",e);return Object(n["a"])("cms","CmsTagService.SearchTagList",t,"SearchTagListResp")}function E(e){var t=n["a"].create("DelTagReq",e);return Object(n["a"])("cms","CmsTagService.DelTag",t,"DelTagResp")}function L(e){var t=n["a"].create("SaveTagReq",e);return Object(n["a"])("cms","CmsTagService.SaveTag",t,"SaveTagResp")}function k(e){var t=n["a"].create("SortSpecialColumnReq",e);return Object(n["a"])("cms","CmsSpecialColumnService.SortSpecialColumn",t,"SortSpecialColumnResp")}function z(e){var t=n["a"].create("EditArticleTagReq",e);return Object(n["a"])("cms","CmsArticleService.EditArticleTag",t,"EditArticleTagResp")}}}]);